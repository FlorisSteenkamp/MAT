var FloMat=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=199)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(200);t.qMin=r.qMin;const o=n(201);t.qMax=o.qMax;const i=n(202);t.qSqrt=i.qSqrt;const u=n(204);t.sqrtWithErr=u.sqrtWithErr;const s=n(205);t.qAbs=s.qAbs;const l=n(206);t.qAddDouble=l.qAddDouble;const c=n(97);t.qAddQuad=c.qAddQuad;const a=n(207);t.qProduct=a.qProduct;const f=n(208);t.qSum=f.qSum;const d=n(209);t.qCompare=d.qCompare;const p=n(40);t.qDiffQuad=p.qDiffQuad;const g=n(99);t.qMultDouble1=g.qMultDouble1,t.qMultDouble2=g.qMultDouble2;const v=n(210);t.qMultBy2=v.qMultBy2;const h=n(211);t.qMultBy4=h.qMultBy4;const _=n(212);t.qDivBy2=_.qDivBy2;const x=n(213);t.qMultByNeg2=x.qMultByNeg2;const m=n(214);t.qMultByNeg4=m.qMultByNeg4;const b=n(98);t.qMultQuad=b.qMultQuad;const P=n(215);t.qDivDouble=P.qDivDouble;const M=n(100);t.qDivQuad=M.qDivQuad;const E=n(216);t.qNegativeOf=E.qNegativeOf;const y=n(217);t.qSign=y.qSign;const w=n(101);t.toBitlength=w.toBitlength;const O=n(218);t.expansionDiv=O.expansionDiv;const C=n(12);t.compress=C.compress;const I=n(219);t.compare=I.compare;const S=n(220);t.abs=S.abs;const B=n(63);t.estimate=B.estimate;const j=n(41);t.expansionDiff=j.expansionDiff;const T=n(22);t.fastExpansionSum=T.fastExpansionSum;const N=n(221);t.fastTwoDiff=N.fastTwoDiff;const D=n(18);t.fastTwoSum=D.fastTwoSum;const F=n(66);t.growExpansion=F.growExpansion;const A=n(107);t.isAdjacent=A.isAdjacent;const q=n(108);t.isOverlapping=q.isOverlapping,t.isNonOverlapping=q.isNonOverlapping,t.isNonOverlappingAll=q.isNonOverlappingAll;const L=n(106);t.merge=L.merge;const Q=n(64);t.negativeOf=Q.negativeOf;const z=n(222);t.orient2d=z.orient2d;const Y=n(42);t.scaleExpansion=Y.scaleExpansion,t.scaleExpansion2=Y.scaleExpansion2;const R=n(223);t.eMultBy2=R.eMultBy2;const X=n(224);t.eMultByNeg2=X.eMultByNeg2;const H=n(225);t.eDivBy2=H.eDivBy2;const V=n(226);t.split=V.split;const k=n(109);t.twoDiff=k.twoDiff;const G=n(16);t.twoProduct=G.twoProduct;const W=n(23);t.twoSum=W.twoSum;const U=n(105);t.reduceSignificand=U.reduceSignificand;const $=n(43);t.expansionProduct=$.expansionProduct;const K=n(61);t.parseDouble=K.parseDouble,t.parseDoubleDetailed=K.parseDoubleDetailed;const Z=n(227);t.isBitAligned=Z.isBitAligned;const J=n(102);t.msbExponent=J.msbExponent;const ee=n(228);t.lsbExponent=ee.lsbExponent;const te=n(25);t.sign=te.sign;const ne=n(65);t.bitLength=ne.bitLength;const re=n(65);t.expBitLength=re.expBitLength;const oe=n(229);t.calculate=oe.calculate;const ie=n(230);t.calculateSum=ie.calculateSum;const ue=n(110);t.calculateProduct=ue.calculateProduct;const se=n(21);t.exponent=se.exponent;const le=n(103);t.significand=le.significand;const ce=n(231);t.binaryStringToDouble=ce.binaryStringToDouble;const ae=n(104);t.doubleToBinaryString=ae.doubleToBinaryString;const fe=n(62);t.doubleToOctets=fe.doubleToOctets;const de=n(111);t.octetsToDouble=de.octetsToDouble;const pe=n(20);t.getHighestSetBit=pe.getHighestSetBit,t.getLowestSetBit=pe.getLowestSetBit;const ge=n(232);t.isValid=ge.isValid;const ve=n(233);t.within=ve.within;const he=n(234);t.intPow=he.intPow;const _e=n(235);t.qDivQuadWithError=_e.qDivQuadWithError;const xe=n(236);t.divWithErr=xe.divWithErr;const me=n(237);t.toQuad=me.toQuad},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXY=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[s+3*(r-i)-t,3*(i-2*r+t),3*(r-t),t],[l+3*(o-u)-n,3*(u-2*o+n),3*(o-n),n]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[i-2*r+t,2*(r-t),t],[u-2*o+n,2*(o-n),n]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[r-t,t],[o-n,n]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.rotate=r.rotatePs,t.translate=r.translatePs;const o=n(14),i=n(240),u=n(112);t.length=u.length;const s=n(295);t.clone=s.clone;const l=n(296);t.getTAtLength=l.getTAtLength;const c=n(299);t.equal=c.equal;const a=n(300);t.cubicToQuadratic=a.cubicToQuadratic;const f=n(301);t.bezierFromBezierPiece=f.bezierFromBezierPiece;const d=n(302);t.evaluateHybridQuadratic=d.evaluateHybridQuadratic;const p=n(30);t.closestPointOnBezier=p.closestPointOnBezier;const g=n(142);t.intersectBoxes=g.intersectBoxes;const v=n(10);t.evalDeCasteljau=v.evalDeCasteljau,t.evalDeCasteljauX=v.evalDeCasteljauX,t.evalDeCasteljauY=v.evalDeCasteljauY;const h=n(79);t.evalDeCasteljauWithErr=h.evalDeCasteljauWithErr,t.evalDeCasteljauWithErrQuad=h.evalDeCasteljauWithErrQuad;const _=n(143);t.isPointOnBezierExtension=_.isPointOnBezierExtension;const x=n(303);t.totalCurvature=x.totalCurvature,t.totalAbsoluteCurvature=x.totalAbsoluteCurvature;const m=n(304);t.reverse=m.reverse;const b=n(305);t.getInflectionPoints=b.getInflectionPoints;const P=n(82);t.getIntersectionCoeffs=P.getIntersectionCoeffs;const M=n(32);t.getImplicitForm3=M.getImplicitForm3;const E=n(33);t.getImplicitForm3Quad=E.getImplicitForm3Quad;const y=n(52);t.getImplicitForm3Exact=y.getImplicitForm3Exact;const w=n(34);t.getImplicitForm3Exact_=w.getImplicitForm3Exact_;const O=n(35);t.getImplicitForm2=O.getImplicitForm2;const C=n(36);t.getImplicitForm2Quad=C.getImplicitForm2Quad;const I=n(53);t.getImplicitForm2Exact=I.getImplicitForm2Exact;const S=n(37);t.getImplicitForm2Exact_=S.getImplicitForm2Exact_;const B=n(54);t.getImplicitForm1=B.getImplicitForm1;const j=n(38);t.getImplicitForm1Quad=j.getImplicitForm1Quad;const T=n(55);t.getImplicitForm1Exact=T.getImplicitForm1Exact;const N=n(51);t.getImplicitForm1Exact_=N.getImplicitForm1Exact_;const D=n(306);t.getCoeffs3x3=D.getCoeffs3x3;const F=n(154);t.getCoeffs3x3Quad=F.getCoeffs3x3Quad;const A=n(307);t.getCoeffs3x3Exact=A.getCoeffs3x3Exact;const q=n(163);t.getCoeffs3x3Exact_=q.getCoeffs3x3Exact_;const L=n(308);t.getCoeffs3x2=L.getCoeffs3x2;const Q=n(151);t.getCoeffs3x2Quad=Q.getCoeffs3x2Quad;const z=n(309);t.getCoeffs3x2Exact=z.getCoeffs3x2Exact;const Y=n(160);t.getCoeffs3x2Exact_=Y.getCoeffs3x2Exact_;const R=n(310);t.getCoeffs3x1=R.getCoeffs3x1;const X=n(148);t.getCoeffs3x1Quad=X.getCoeffs3x1Quad;const H=n(311);t.getCoeffs3x1Exact=H.getCoeffs3x1Exact;const V=n(157);t.getCoeffs3x1Exact_=V.getCoeffs3x1Exact_;const k=n(312);t.getCoeffs2x3=k.getCoeffs2x3;const G=n(153);t.getCoeffs2x3Quad=G.getCoeffs2x3Quad;const W=n(313);t.getCoeffs2x3Exact=W.getCoeffs2x3Exact;const U=n(162);t.getCoeffs2x3Exact_=U.getCoeffs2x3Exact_;const $=n(314);t.getCoeffs2x2=$.getCoeffs2x2;const K=n(150);t.getCoeffs2x2Quad=K.getCoeffs2x2Quad;const Z=n(315);t.getCoeffs2x2Exact=Z.getCoeffs2x2Exact;const J=n(159);t.getCoeffs2x2Exact_=J.getCoeffs2x2Exact_;const ee=n(316);t.getCoeffs2x1=ee.getCoeffs2x1;const te=n(147);t.getCoeffs2x1Quad=te.getCoeffs2x1Quad;const ne=n(317);t.getCoeffs2x1Exact=ne.getCoeffs2x1Exact;const re=n(156);t.getCoeffs2x1Exact_=re.getCoeffs2x1Exact_;const oe=n(318);t.getCoeffs1x3=oe.getCoeffs1x3;const ie=n(152);t.getCoeffs1x3Quad=ie.getCoeffs1x3Quad;const ue=n(319);t.getCoeffs1x3Exact=ue.getCoeffs1x3Exact;const se=n(161);t.getCoeffs1x3Exact_=se.getCoeffs1x3Exact_;const le=n(320);t.getCoeffs1x2=le.getCoeffs1x2;const ce=n(149);t.getCoeffs1x2Quad=ce.getCoeffs1x2Quad;const ae=n(321);t.getCoeffs1x2Exact=ae.getCoeffs1x2Exact;const fe=n(158);t.getCoeffs1x2Exact_=fe.getCoeffs1x2Exact_;const de=n(322);t.getCoeffs1x1=de.getCoeffs1x1;const pe=n(146);t.getCoeffs1x1Quad=pe.getCoeffs1x1Quad;const ge=n(323);t.getCoeffs1x1Exact=ge.getCoeffs1x1Exact;const ve=n(155);t.getCoeffs1x1Exact_=ve.getCoeffs1x1Exact_;const he=n(164);t.getCoeffs3=he.getCoeffs3;const _e=n(324);t.getCoeffs3Quad=_e.getCoeffs3Quad;const xe=n(325);t.getCoeffs3Exact=xe.getCoeffs3Exact;const me=n(326);t.toExpansion=me.toExpansion;const be=n(327);t.toEstimation=be.toEstimation;const Pe=n(328);t.fromPowerBases=Pe.fromPowerBases;const Me=n(329);t.getHodograph=Me.getHodograph;const Ee=n(330);t.generateCuspAtHalf3=Ee.generateCuspAtHalf3;const ye=n(331);t.cubicThroughPointGiven013=ye.cubicThroughPointGiven013;const we=n(332);t.bezierSelfIntersection=we.bezierSelfIntersection;const Oe=n(334);t.getEndpointIntersections=Oe.getEndpointIntersections;const Ce=n(165);t.inversion01Precise=Ce.inversion01Precise;const Ie=n(335);t.inversion1_BL52_1ULP=Ie.inversion1_BL52_1ULP;const Se=n(1);t.getXY=Se.getXY;const Be=n(336);t.getDxy=Be.getDxy;const je=n(337);t.getDdxy=je.getDdxy;const Te=n(8);t.getX=Te.getX;const Ne=n(9);t.getY=Ne.getY;const De=n(75);t.getDx=De.getDx;const Fe=n(76);t.getDy=Fe.getDy;const Ae=n(144);t.getDdx=Ae.getDdx;const qe=n(145);t.getDdy=qe.getDdy;const Le=n(338);t.getDxyAt1=Le.getDxyAt1;const Qe=n(339);t.getDdxyAt1=Qe.getDdxyAt1;const ze=n(166);t.getDxyAt0=ze.getDxyAt0;const Ye=n(167);t.getDdxyAt0=Ye.getDdxyAt0;const Re=n(168);t.getDddxy=Re.getDddxy;const Xe=n(340);t.evaluateX=Xe.evaluateX;const He=n(341);t.evaluateY=He.evaluateY;const Ve=n(31);t.evaluate=Ve.evaluate;const ke=n(31);t.evaluateExact=ke.evaluateExact;const Ge=n(26);t.evaluateDx=Ge.evaluateDx;const We=n(80);t.evaluateDdx=We.evaluateDdx;const Ue=n(28);t.evaluateDy=Ue.evaluateDy;const $e=n(81);t.evaluateDdy=$e.evaluateDdy;const Ke=n(169);t.tangent=Ke.tangent;const Ze=n(342);t.normal=Ze.normal;const Je=n(139);t.from0ToT=Je.from0ToT;const et=n(140);t.fromTTo1=et.fromTTo1;const tt=n(56);t.fromTo=tt.fromTo,t.fromToPrecise=tt.fromToPrecise;const nt=n(82);t.getOtherTs=nt.getOtherTs;const rt=n(82);t.bezierBezierIntersectionImplicit=rt.bezierBezierIntersectionImplicit;const ot=n(138);t.toCubic=ot.toCubic;const it=n(343);t.BezDebug=it.BezDebug;const ut=n(84);t.κ=ut.κ;const st=n(345);t.quadToPolyline=st.quadToPolyline;const lt=n(170);t.isQuadObtuse=lt.isQuadObtuse;const ct=n(83);t.getIntervalBox=ct.getIntervalBox,t.getIntervalBox1=ct.getIntervalBox1,t.getIntervalBox2=ct.getIntervalBox2,t.getIntervalBox3=ct.getIntervalBox3;const at=n(347);t.getIntervalBoxQuad=at.getIntervalBoxQuad,t.getIntervalBox1Quad=at.getIntervalBox1Quad,t.getIntervalBox2Quad=at.getIntervalBox2Quad,t.getIntervalBox3Quad=at.getIntervalBox3Quad;const ft=n(29);t.splitAt=ft.splitAt,t.splitAtPrecise=ft.splitAtPrecise;const dt=n(30);t.closestPointOnBezierPrecise=dt.closestPointOnBezierPrecise;const pt=n(348);t.hausdorffDistance=pt.hausdorffDistance,t.hausdorffDistanceCandidates=pt.hausdorffDistanceCandidates;const gt=n(57);t.lengthUpperBound=gt.lengthUpperBound;const vt=n(172);t.lengthSquaredUpperBound=vt.lengthSquaredUpperBound;const ht=n(171);t.splitByMaxCurveLength=ht.splitByMaxCurveLength;const _t=n(349);t.getCurvatureExtrema=_t.getCurvatureExtrema;const xt=n(350);t.getInflections=xt.getInflections;const mt=n(174);t.flatness=mt.flatness;const bt=n(351);t.splitByMaxCurvature=bt.splitByMaxCurvature;const Pt=n(352);t.splitByCurvatureAndLength=Pt.splitByCurvatureAndLength;const Mt=n(353);t.areBeziersInSameKFamily=Mt.areBeziersInSameKFamily;const Et=n(354);t.getInterfaceCcw=Et.getInterfaceCcw;const yt=n(175);t.isLine=yt.isLine,t.isHorizontalLine=yt.isHorizontalLine,t.isVerticalLine=yt.isVerticalLine;const wt=n(355);t.isSelfOverlapping=wt.isSelfOverlapping;const Ot=n(141);t.getTangentPolyFromPoint=Ot.getTangentPolyFromPoint;const Ct=n(78);t.getTangentPolyFromPointExact=Ct.getTangentPolyFromPointExact;const It=n(85);t.getXBoundsTight=It.getXBoundsTight,t.getYBoundsTight=It.getYBoundsTight;const St=n(85);t.getBounds=St.getBounds;const Bt=n(356);t.getBoundingBoxTight=Bt.getBoundingBoxTight;const jt=n(176);t.getBoundingBox=jt.getBoundingBox;const Tt=n(357);t.toHybridQuadratic=Tt.toHybridQuadratic;const Nt=n(358);t.isCubicReallyQuad=Nt.isCubicReallyQuad;const Dt=n(359);t.toQuadraticFromCubic=Dt.toQuadraticFromCubic;const Ft=n(360);t.circleBezierIntersection=Ft.circleBezierIntersection;const At=n(362);t.circleBezierIntersectionPrecise=At.circleBezierIntersectionPrecise;let qt=o.memoize(i.grahamScan);t.getBoundingHull=qt;let Lt=ut.κ;t.curvature=Lt,t.toString=function(e){let[[t,n],[r,o],[i,u],[s,l]]=e;return`[[${t},${n}],[${r},${o}],[${i},${u}],[${s},${l}]]`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(238);function i(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function u(e,t){return Math.sqrt(i(e,t))}function s(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function l(e){return e[0]*e[0]+e[1]*e[1]}function c(e,t,n){return e[0]*(t[1]*n[2]-t[2]*n[1])-e[1]*(t[0]*n[2]-t[2]*n[0])+e[2]*(t[0]*n[1]-t[1]*n[0])}function a(e,t){function n(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?n:n(t)}t.lineLineIntersection=o.lineLineIntersection,t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},t.ccw=function(e,t,n){return r.orient2d(e,t,n)},t.segSegIntersection=function(e,t){let[n,o]=e,[i,u]=t,[s,l]=n,[c,a]=o,[f,d]=i,[p,g]=u,v=r.expansionDiff(r.expansionProduct(r.twoDiff(c,s),r.twoDiff(g,d)),r.expansionProduct(r.twoDiff(a,l),r.twoDiff(p,f))),h=r.expansionDiff(r.expansionProduct(r.twoDiff(l,d),r.twoDiff(p,f)),r.expansionProduct(r.twoDiff(s,f),r.twoDiff(g,d))),_=r.expansionDiff(r.expansionProduct(r.twoDiff(l,d),r.twoDiff(c,s)),r.expansionProduct(r.twoDiff(s,f),r.twoDiff(a,l)));if(0!==v[v.length-1]){if(r.sign(h)*r.sign(v)>=0&&r.compare(r.abs(v),r.abs(h))>=0&&r.sign(_)*r.sign(v)>=0&&r.compare(r.abs(v),r.abs(_))>=0){r.estimate(h),r.estimate(v);return[r.estimate(r.twoSum(r.estimate(r.expansionProduct(r.twoDiff(c,s),h))/r.estimate(v),s)),r.estimate(r.twoSum(r.estimate(r.expansionProduct(r.twoDiff(a,l),h))/r.estimate(v),l))]}}else h[h.length-1]},t.doesSegSegIntersect=function(e,t){return!(r.orient2d(e[0],e[1],t[0])*r.orient2d(e[0],e[1],t[1])>0)&&!(r.orient2d(t[0],t[1],e[0])*r.orient2d(t[0],t[1],e[1])>0)},t.squaredDistanceBetween=i,t.scale=function(e,t){return[e[0]*t,e[1]*t]},t.reverse=function(e){return[-e[0],-e[1]]},t.toUnitVector=function(e){let t=1/Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]*t,e[1]*t]},t.toLength=function(e,t){let n=t/s(e);return[e[0]*n,e[1]*n]},t.fromTo=function(e,t){return[t[0]-e[0],t[1]-e[1]]},t.interpolate=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},t.mean=function(e){let t=e[0],n=e[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]},t.distanceBetween=u,t.len=s,t.lengthSquared=l,t.manhattanDistanceBetween=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},t.manhattanLength=function(e){return Math.abs(e[0])+Math.abs(e[1])},t.distanceBetweenPointAndLine=function(e,t){let[n,r]=e,[[o,i],[u,s]]=t,l=s-i,c=u-o,a=l*n-c*r+u*i-s*o,f=Math.sqrt(c*c+l*l);return Math.abs(a/f)},t.squaredDistanceBetweenPointAndLineSegment=function(e,t){const n=i;let r=t[0],o=t[1],u=n(r,o);if(0==u)return n(e,r);let s=((e[0]-r[0])*(o[0]-r[0])+(e[1]-r[1])*(o[1]-r[1]))/u;return s=Math.max(0,Math.min(1,s)),n(e,[r[0]+s*(o[0]-r[0]),r[1]+s*(o[1]-r[1])])},t.circumCenter=function(e){let t=e[0],n=e[1],r=e[2];const o=l;let i=.5*c([o(t),t[1],1],[o(n),n[1],1],[o(r),r[1],1]),u=.5*c([t[0],o(t),1],[n[0],o(n),1],[r[0],o(r),1]),s=c([t[0],t[1],1],[n[0],n[1],1],[r[0],r[1],1]);return[i/s,u/s]},t.inCenter=function(e){const t=u;let n=e[0],r=e[1],o=e[2],i=t(r,o),s=t(n,o),l=t(n,r),c=i+s+l;return[(i*n[0]+s*r[0]+l*o[0])/c,(i*n[1]+s*r[1]+l*o[1])/c]},t.centroid=function(e){let t=[];if(1===e.length)return e[0];let n=e[e.length-1];for(let r=0;r<e.length;r++){let[o,i]=n,[u,s]=e[r];n=[u,s],u===o&&s===i||t.push([u,s])}if(2===t.length){let e=t[0],n=t[1];return[(e[0]+n[0])/2,(e[1]+n[1])/2]}if(3===t.length){let e=t[0],n=t[1],r=t[2];return[(e[0]+n[0]+r[0])/3,(e[1]+n[1]+r[1])/3]}let r=0;for(let e=0;e<t.length;e++){let n=t[e],o=e===t.length-1?t[0]:t[e+1];r+=n[0]*o[1]-o[0]*n[1]}r/=2;let o=[0,0];for(let e=0;e<t.length;e++){let n=t[e],r=e===t.length-1?t[0]:t[e+1];o[0]=o[0]+(n[0]+r[0])*(n[0]*r[1]-r[0]*n[1]),o[1]=o[1]+(n[1]+r[1])*(n[0]*r[1]-r[0]*n[1])}return[o[0]/(6*r),o[1]/(6*r)]},t.det3=c,t.translate=a;let f=(d=a,function(e,t){let n=d(e),r=e=>e.map(n);return void 0===t?r:r(t)});var d;t.translatePs=f;let p=function(e){return function(t,n,r){let o=e(t,n),i=e=>e.map(o);return void 0===r?i:i(r)}}(g);function g(e,t,n){f([1,2]);function r(n){return[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return void 0===n?r:r(n)}t.rotatePs=p,t.rotate=g,t.equal=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.reverseRotate=function(e,t,n){return[+n[0]*t+n[1]*e,-n[0]*e+n[1]*t]},t.rotate90Degrees=function(e){return[-e[1],e[0]]},t.rotateNeg90Degrees=function(e){return[e[1],-e[0]]},t.getClosestTo=function(e,t){let n=void 0,r=Number.POSITIVE_INFINITY;for(let o=0;o<t.length;o++){let u=t[o],s=i(e,u);s<r&&(n=u,r=s)}return n},t.getObjClosestTo=function(e,t,n){let r=void 0,o=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let s=t[u],l=i(e,n(s));l<o&&(r=s,o=l)}return r},t.translateThenRotatePs=function(e,t,n,r){const o=a(e);return r.map(e=>g(t,n,o(e)))},t.rotateThenTranslatePs=function(e,t,n,r){return r.map(r=>a(n,g(e,t,r)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(133);t.drawFs=r.drawFs;const o=n(293);t.enableDebugDrawFs=o.enableDebugDrawFs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(14),i=n(2),u=n(58);function s(e){return 0===e.t||1===e.t}function l(e){return u.getCornerAtEnd(1===e.t?e.curve:e.curve.prev)}t.PointOnShape=class{constructor(e,t){this.curve=e,this.t=t,this.p_=void 0}get p(){return void 0===this.p_?this.p_=i.evalDeCasteljau(this.curve.ps,this.t):this.p_}};let c=o.memoize(e=>!!s(e)&&l(e).isSharp);t.isPosSharpCorner=c;let a=o.memoize(e=>!!s(e)&&l(e).isDull);t.isPosDullCorner=a;let f=o.memoize(e=>!!s(e)&&l(e).isQuiteSharp);t.isPosQuiteSharpCorner=f;let d=o.memoize(e=>!!s(e)&&l(e).isQuiteDull);t.isPosQuiteDullCorner=d,t.posToHumanString=function(e){return e.p[0]+", "+e.p[1]+" | bz: "+e.curve.idx+" | t: "+e.t},t.calcPosOrder=function(e,t){if(!s(t))return 0;if(!a(t))return 0;let n=l(t),o=r.rotateNeg90Degrees(n.tangents[0]),i=r.toUnitVector(r.fromTo(t.p,e.center));return-r.dot(o,i)},t.comparePoss=function(e,t){if(void 0===e||void 0===t)return;let n;return n=e.curve.idx-t.curve.idx,0!==n||(n=e.t-t.t),n};let p=o.memoize(e=>{let t=e.curve.ps,n=e.t;return 1/-i.κ(t,n)});t.getOsculatingCircle=function(e,t){if(c(t))return{center:t.p,radius:0};let n=p(t);n<0&&(n=Number.POSITIVE_INFINITY),n=Math.min(n,e);let o=t.curve.ps,u=t.t,s=r.toUnitVector(i.normal(o,u)),l=i.evalDeCasteljau(o,u);return{center:[l[0]+s[0]*n,l[1]+s[1]*n],radius:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(244);t.equal=r.equal;const o=n(113);t.add=o.add;const i=n(68);t.subtract=i.subtract;const u=n(44);t.multiplyByConst=u.multiplyByConst;const s=n(114);t.negate=s.negate;const l=n(24);t.differentiate=l.differentiate;const c=n(46);t.multiply=c.multiply;const a=n(27);t.degree=a.degree;const f=n(245);t.gcdExact=f.gcdExact;const d=n(69);t.evaluate=d.evaluate;const p=n(70);t.evaluateExact=p.evaluateExact;const g=n(47);t.Horner=g.Horner;const v=n(250);t.compHorner=v.compHorner;const h=n(251);t.compHornerIsFaithful=h.compHornerIsFaithful;const _=n(254);t.isConstMultipleOf=_.isConstMultipleOf;const x=n(118);t.SumK=x.SumK;const m=n(256);t.CompHornerK=m.CompHornerK;const b=n(258);t.evaluateAt0=b.evaluateAt0;const P=n(119);t.signChanges=P.signChanges;const M=n(120);t.invert=M.invert;const E=n(121);t.changeVariablesLinear=E.changeVariablesLinear,t.changeVariablesLinearExactExp=E.changeVariablesLinearExactExp,t.changeVariablesLinearExact=E.changeVariablesLinearExact;const y=n(259);t.changeVariablesTranslateX=y.changeVariablesTranslateX,t.changeVariablesTranslateXExactExp=y.changeVariablesTranslateXExactExp,t.changeVariablesTranslateXExact=y.changeVariablesTranslateXExact;const w=n(260);t.changeVariablesDilate=w.changeVariablesDilate,t.changeVariablesDilateExactExp=w.changeVariablesDilateExactExp,t.changeVariablesDilateExact=w.changeVariablesDilateExact;const O=n(122);t.reflectAboutYAxis=O.reflectAboutYAxis;const C=n(123);t.sturmChain=C.sturmChain;const I=n(19);t.removeLeadingZeros=I.removeLeadingZeros,t.approxRemoveLeadingZeros=I.approxRemoveLeadingZeros,t.expRemoveLeadingZeros=I.expRemoveLeadingZeros;const S=n(261);t.deflate=S.deflate,t.deflateQuad=S.deflateQuad;const B=n(67);t.pInfNorm=B.pInfNorm;const j=n(262);t.toCasStr=j.toCasStr;const T=n(124);t.quadraticRoots=T.quadraticRoots;const N=n(263);t.numRootsInRange=N.numRootsInRange,t.numRootsInRangeExact=N.numRootsInRangeExact;const D=n(125);t.brent=D.brent;const F=n(265);t.bisection=F.bisection;const A=n(126);t.positiveRootUpperBound_LMQ=A.positiveRootUpperBound_LMQ,t.positiveRootLowerBound_LMQ=A.positiveRootLowerBound_LMQ,t.negativeRootUpperBound_LMQ=A.negativeRootUpperBound_LMQ,t.negativeRootLowerBound_LMQ=A.negativeRootLowerBound_LMQ;const q=n(268);t.rootMagnitudeUpperBound_fujiwara=q.rootMagnitudeUpperBound_fujiwara;const L=n(269);t.rootMagnitudeUpperBound_rouche=L.rootMagnitudeUpperBound_rouche;const Q=n(270);t.allRoots=Q.allRoots;const z=n(127);t.allRootsMultiWithErrBounds=z.allRootsMultiWithErrBounds;const Y=n(274);t.refineK1=Y.refineK1;const R=n(275);t.flatRoots=R.flatRoots,t.flatRootsArr=R.flatRootsArr,t.flatCoefficients=R.flatCoefficients,t.flatCoefficientsArr=R.flatCoefficientsArr,t.predictiveRandom=R.predictiveRandom;const X=n(276);t.hornerErrorBound=X.hornerErrorBound;const H=n(50);t.HornerExact=H.HornerExact;const V=n(128);t.hornerWithRunningError=V.hornerWithRunningError;const k=n(131);t.maxAbsCoeffPolyEval=k.maxAbsCoeffPolyEval;const G=n(130);t.fromRoots=G.fromRoots;const W=n(277);t.conditionNumber=W.conditionNumber;const U=n(278);t.scaleFloatToInt=U.scaleFloatToInt;const $=n(279);t.scaleFloatsToInts=$.scaleFloatsToInts;const K=n(280);t.scalePolyToIntsExp=K.scalePolyToIntsExp;const Z=n(49);t.evalK1MultiWithErrBounds=Z.evalK1MultiWithErrBounds;const J=n(281);t.PolyDebug=J.PolyDebug;const ee=n(137);t.createRootExact=ee.createRootExact,t.mid=ee.mid;const te=n(294);t.rootIntervalToExp=te.rootIntervalToExp;const ne=n(129);t.refineMultiWithErrBounds=ne.refineMultiWithErrBounds},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Number.EPSILON/2,o=Math.pow(Number.EPSILON/2,2);function i(e){let t=e*r;return t/(1-t)}function u(e){let t=e*o;return t/(1-t)}t.γ=i,t.γγ=u;const s=i(1);t.γ1=s;const l=i(2);t.γ2=l;const c=i(3);t.γ3=c;const a=i(4);t.γ4=a;const f=i(5);t.γ5=f;const d=i(6);t.γ6=d;const p=i(7);t.γ7=p;const g=i(8);t.γ8=g;const v=i(9);t.γ9=v;const h=i(10);t.γ10=h;const _=i(11);t.γ11=_;const x=i(12);t.γ12=x;const m=i(13);t.γ13=m;const b=i(14);t.γ14=b;const P=u(1);t.γγ1=P;const M=u(2);t.γγ2=M;const E=u(3);t.γγ3=E;const y=u(4);t.γγ4=y;const w=u(5);t.γγ5=w;const O=u(6);t.γγ6=O;const C=u(7);t.γγ7=C;const I=u(8);t.γγ8=I;const S=u(9);t.γγ9=S;const B=u(10);t.γγ10=B;const j=u(11);t.γγ11=j;const T=u(12);t.γγ12=T;const N=u(13);t.γγ13=N;const D=u(14);t.γγ14=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getX=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[o+3*(n-r)-t,3*(r-2*n+t),3*(n-t),t]}if(3===e.length){let[[t],[n],[r]]=e;return[r-2*n+t,2*(n-t),t]}if(2===e.length){let[[t],[n]]=e;return[n-t,t]}},t.getXExact=function(e){if(4===e.length){let[[t],[n],[o],[i]]=e;return[r.calculateSum([[i],r.twoSum(-2*o,-o),r.twoSum(2*n,n),[-t]]),r.calculateSum([r.twoSum(2*o,o),r.twoSum(-4*n,-2*n),r.twoSum(2*t,t)]),r.calculateSum([r.twoSum(2*n,n),r.twoSum(-2*t,-t)]),[t]]}if(3===e.length){let[[t],[n],[o]]=e;return[r.calculateSum([[o],[-2*n],[t]]),r.twoDiff(2*n,2*t),[t]]}if(2===e.length){let[[t],[n]]=e;return[r.twoDiff(n,t),[t]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getY=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[o+3*(n-r)-t,3*(r-2*n+t),3*(n-t),t]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[r-2*n+t,2*(n-t),t]}if(2===e.length){let[[,t],[,n]]=e;return[n-t,t]}},t.getYExact=function(e){if(4===e.length){let[[,t],[,n],[,o],[,i]]=e;return[r.calculateSum([[i],r.twoSum(-2*o,-o),r.twoSum(2*n,n),[-t]]),r.calculateSum([r.twoSum(2*o,o),r.twoSum(-4*n,-2*n),r.twoSum(2*t,t)]),r.calculateSum([r.twoSum(2*n,n),r.twoSum(-2*t,-t)]),[t]]}if(3===e.length){let[[,t],[,n],[,o]]=e;return[r.calculateSum([[o],[-2*n],[t]]),r.twoDiff(2*n,2*t),[t]]}if(2===e.length){let[[,t],[,n]]=e;return[r.twoDiff(n,t),[t]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evalDeCasteljau=function(e,t){if(0===t)return e[0];if(1===t)return e[e.length-1];if(4===e.length){const[[n,r],[o,i],[u,s],[l,c]]=e;let a=n+(o-n)*t,f=o+(u-o)*t,d=a+(f-a)*t,p=r+(i-r)*t,g=i+(s-i)*t,v=p+(g-p)*t;return[d+(f+(u+(l-u)*t-f)*t-d)*t,v+(g+(s+(c-s)*t-g)*t-v)*t]}if(3===e.length){const[[n,r],[o,i],[u,s]]=e;let l=n+(o-n)*t,c=r+(i-r)*t;return[l+(o+(u-o)*t-l)*t,c+(i+(s-i)*t-c)*t]}if(2===e.length){const[[n,r],[o,i]]=e;return[n+(o-n)*t,r+(i-r)*t]}},t.evalDeCasteljauX=function(e,t){if(0===t)return e[0][0];if(1===t)return e[e.length-1][0];if(4===e.length){const[[n],[r],[o],[i]]=e;let u=n+(r-n)*t,s=r+(o-r)*t,l=u+(s-u)*t;return l+(s+(o+(i-o)*t-s)*t-l)*t}if(3===e.length){const[[n],[r],[o]]=e;let i=n+(r-n)*t;return i+(r+(o-r)*t-i)*t}if(2===e.length){const[[n],[r]]=e;return n+(r-n)*t}},t.evalDeCasteljauY=function(e,t){if(0===t)return e[0][1];if(1===t)return e[e.length-1][1];if(4===e.length){const[[,n],[,r],[,o],[,i]]=e;let u=n+(r-n)*t,s=r+(o-r)*t,l=u+(s-u)*t;return l+(s+(o+(i-o)*t-s)*t-l)*t}if(3===e.length){const[[,n],[,r],[,o]]=e;let i=n+(r-n)*t;return i+(r+(o-r)*t-i)*t}if(2===e.length){const[[,n],[,r]]=e;return n+(r-n)*t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_CLASS="red thin10 nofill "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compress=function(e){let t=e.slice(),n=t.length;if(1===t.length)return t;let r=t[t.length-1],o=n;for(let e=n-2;e>=0;--e){let n=r,i=t[e];r=n+i;let u=i-(r-n);u&&(t[--o]=r,r=u)}let i=0;for(let e=o;e<n;++e){let n=t[e],o=r;r=n+o;let u=o-(r-n);u&&(t[i++]=u)}return t[i++]=r,t.length=i,0===t.length?[0]:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(96),o=n(364),i=n(17);class u{constructor(e,t,n,r,o,i,u){this.cp=e,this.isHoleClosing=t,this.isIntersection=n,this.prev=r,this.next=o,this.prevOnCircle=i,this.nextOnCircle=u}get matCurveToNextVertex(){return i.getCurveToNext(this)}getChildren(){let e=[],t=this.next,n=t;do{e.push(n),n=n.nextOnCircle}while(n.nextOnCircle!==t);return e}get vertexChildren(){if(this.isTerminating())return[];let e=this,t=[],n=e;for(;n!==e.prevOnCircle;)n.isTerminating()||t.push(n.next),n=n.nextOnCircle;return t}getAllOnLoop(){let e=this,t=[e],n=this.next;for(;n!==e;)t.push(n),n=n.next;return t}static insert(e,t,n,r,o){let i,s,l=new u(r,e,t);return"undefined"!=typeof _debug_&&_debug_.generated.elems.cpNode.push({generated:_debug_.generated,cpNode:l}),o?(i=o,s=i.next):(i=l,s=l),s.prev=l,i.next=l,l.prev=i,l.next=s,n.insert(l),l}getCpNodesOnCircle(e=!1){let t=this,n=t,r=[];do{e?e=!1:r.push(n),n=n.nextOnCircle}while(n!==t);return r}static isOnSameCircle(e,t){return e.getCpNodesOnCircle(!0).indexOf(t)>=0}isTerminating(){return this===this.next.prevOnCircle}isFullyTerminating(){return this.prevOnCircle.getCpNodesOnCircle(!0).every(e=>e.isTerminating())}getFirstExit(){let e=this,t=e;for(;t.next===t.prevOnCircle;)if(t=t.next,t===e)return;return t}isSharp(){return 0===this.cp.circle.radius}isOneProng(){if(0===this.cp.circle.radius)return!0;let e=this.nextOnCircle,t=this.cp.pointOnShape.p,n=e.cp.pointOnShape.p;return t[0]===n[0]&&t[1]===n[1]}getProngCount(){let e=this,t=e,n=0;do{n++,t=t.nextOnCircle}while(t!==e);return n}getRealProngCount(){return this.isOneProng()?1:this.getProngCount()}}t.CpNode=u,u.comparator=(e,t)=>r.compareCps(e.cp,t.cp),u.remove=o.removeCpNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(239),o="function"==typeof WeakMap;t.memoize=function(e){if(!o)return e;let t=new WeakMap;return function(n){let r=t.get(n);return void 0!==r||(r=e(n),t.set(n,r)),r}},t.memoize2=function(e){if(!o)return e;let t=new WeakMap;return function(n,o){let i=r.pairMap_get(t,n,o);return void 0!==i||(i=e(n,o),r.pairMap_set(t,n,o,i)),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.XMLNS="http://www.w3.org/2000/svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=Math.pow(2,27)+1;t.twoProduct=function(e,t){let n=e*t,o=r*e,i=o-(o-e),u=e-i,s=r*t,l=s-(s-t),c=t-l;return[u*c-(n-i*l-u*l-i*c),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59);t.getCurveToNext=function(e){return r.getCurveBetween(e,e.next)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fastTwoSum=function(e,t){let n=e+t;return[t-(n-e),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(67);t.removeLeadingZeros=function e(t){return 0!==t[0]?t:e(t.slice(1))},t.expRemoveLeadingZeros=function e(t){return t.length<=1||0!==r.sign(t[0])?t:e(t.slice(1))},t.approxRemoveLeadingZeros=function e(t,n=Number.EPSILON){let r=o.pInfNorm(t);if(0===r)return[0];if(Math.abs(t[0])>n*r)return t;let i=t.slice(1);for(;Math.abs(i[0])<n*r;)i=i.slice(1);return e(i,n)},t.expApproxRemoveLeadingZeros=function e(t){let n=22250738585072014e-324,o=Math.abs(r.estimate(t[0]));if(0===t.length||1===t.length&&o<=n)return[[0]];if(o>n)return t;let i=t.slice(1);for(;i.length>0&&Math.abs(r.estimate(i[0]))<n;)i=i.slice(1);return 0===i.length?[[0]]:e(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(103);function o(e){return Math.log2(e&-e)}function i(e){return e>=128?7:e>=64?6:e>=32?5:e>=16?4:e>=8?3:e>=4?2:e>=2?1:e>=1?0:NaN}t.getLowestSetBit=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=r.significand(e),n=t.length;for(let e=n-1;e>=0;e--){if(0===t[e])continue;let r=o(t[e]);if(Number.isFinite(r))return 8*(n-e-1)+r}return NaN},t.getHighestSetBit=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=r.significand(e),n=t.length;for(let e=0;e<n;e++){let r=i(t[e]);if(Number.isFinite(r))return 8*(n-e-1)+r}return NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(61);t.exponent=function(e){return r.parseDouble(e).exponent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(106),o=n(18),i=n(23),u=n(12);t.fastExpansionSum=function(e,t){let n=r.merge(e,t),s=n.length;if(1===s)return n;let l,c=new Array(s);[c[0],l]=o.fastTwoSum(n[1],n[0]);for(let e=2;e<s;e++)[c[e-1],l]=i.twoSum(l,n[e]);return c[s-1]=l,u.compress(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.twoSum=function(e,t){let n=e+t,r=n-e;return[e-(n-r)+(t-r),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(45),i=Math.abs;t.differentiate=function(e){let t=[],n=e.length-1;for(let r=0;r<n;r++)t.push((n-r)*e[r]);return t},t.differentiateQuad=function(e){let t=[],n=e.length-1;for(let o=0;o<n;o++)t.push(r.qMultDouble2(n-o,e[o]));return t},t.differentiateQuadWithError=function({p:e,pE:t}){let n=[],u=[],s=e.length-1;for(let l=0;l<s;l++){let c=s-l,a=r.qMultDouble2(c,e[l]);n.push(a);let f=0==(c&c-1)?0:o.γγ3,d=r.estimate(a);u.push(c*t[l]+i(d)*f)}return{p:n,pE:u}},t.differentiateExact=function(e){let t=[],n=e.length-1;for(let o=0;o<n;o++)t.push(r.scaleExpansion(e[o],n-o));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sign=function(e){return 0===e.length?0:e[e.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(75);t.evaluateDx=function(e,t){const n=o.getDx(e),i=r.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.degree=function(e){return e.length-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(76);t.evaluateDy=function(e,t){const n=o.getDy(e),i=r.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);let o=[function(e,t){let[[n,r],[o,i]]=e,u=1-t,s=[u*n+t*o,u*r+t*i];return[[[n,r],s],[s,[o,i]]]},function(e,t){let[[n,r],[o,i],[u,s]]=e,l=1-t,c=[n*Math.pow(l,2)+2*o*l*t+u*Math.pow(t,2),r*Math.pow(l,2)+2*i*l*t+s*Math.pow(t,2)];return[[[n,r],[n*l+o*t,r*l+i*t],c],[c,[o*l+u*t,i*l+s*t],[u,s]]]},function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,a=1-t,f=[l*Math.pow(t,3)+3*u*a*Math.pow(t,2)+3*o*Math.pow(a,2)*t+n*Math.pow(a,3),c*Math.pow(t,3)+3*s*a*Math.pow(t,2)+3*i*Math.pow(a,2)*t+r*Math.pow(a,3)],d=[[n,r],[o*t+n*a,i*t+r*a],[u*Math.pow(t,2)+2*o*a*t+n*Math.pow(a,2),s*Math.pow(t,2)+2*i*a*t+r*Math.pow(a,2)],f],p=[f,[l*Math.pow(t,2)+2*u*t*a+o*Math.pow(a,2),c*Math.pow(t,2)+2*s*t*a+i*Math.pow(a,2)],[l*t+u*a,c*t+s*a],[l,c]];return[d,p]}];t.splitAt=function(e,t){return o[e.length-2](e,t)};let i=[function(e,t){let[[n,o],[i,u]]=e,s=1-t,l=[r.estimate(r.fastExpansionSum(r.twoProduct(s,n),r.twoProduct(t,i))),r.estimate(r.fastExpansionSum(r.twoProduct(s,o),r.twoProduct(t,u)))];return[[[n,o],l],[l,[i,u]]]},function(e,t){let[[n,o],[i,u],[s,l]]=e,c=1-t,a=r.twoProduct(t,t),f=r.twoProduct(c,c),d=r.twoProduct(c,t),p=[r.estimate(r.calculateSum([r.scaleExpansion(f,n),r.scaleExpansion(d,2*i),r.scaleExpansion(a,s)])),r.estimate(r.calculateSum([r.scaleExpansion(f,o),r.scaleExpansion(d,2*u),r.scaleExpansion(a,l)]))],g=[[n,o],[r.estimate(r.fastExpansionSum(r.twoProduct(n,c),r.twoProduct(i,t))),r.estimate(r.fastExpansionSum(r.twoProduct(o,c),r.twoProduct(u,t)))],p],v=[p,[r.estimate(r.fastExpansionSum(r.twoProduct(i,c),r.twoProduct(s,t))),r.estimate(r.fastExpansionSum(r.twoProduct(u,c),r.twoProduct(l,t)))],[s,l]];return[g,v]},function(e,t){let[[n,o],[i,u],[s,l],[c,a]]=e,f=1-t,d=r.twoProduct(f,f),p=r.scaleExpansion(d,f),g=r.twoProduct(t,t),v=r.scaleExpansion(g,t),h=r.twoProduct(f,t),_=r.scaleExpansion(g,f),x=r.scaleExpansion(d,t),m=[r.estimate(r.calculateSum([r.scaleExpansion(v,c),r.scaleExpansion(_,3*s),r.scaleExpansion(x,3*i),r.scaleExpansion(p,n)])),r.estimate(r.calculateSum([r.scaleExpansion(v,a),r.scaleExpansion(_,3*l),r.scaleExpansion(x,3*u),r.scaleExpansion(p,o)]))],b=[[n,o],[r.estimate(r.fastExpansionSum(r.twoProduct(i,t),r.twoProduct(n,f))),r.estimate(r.fastExpansionSum(r.twoProduct(u,t),r.twoProduct(o,f)))],[r.estimate(r.calculateSum([r.scaleExpansion(g,s),r.scaleExpansion(h,2*i),r.scaleExpansion(d,n)])),r.estimate(r.calculateSum([r.scaleExpansion(g,l),r.scaleExpansion(h,2*u),r.scaleExpansion(d,o)]))],m],P=[m,[r.estimate(r.calculateSum([r.scaleExpansion(g,c),r.scaleExpansion(h,2*s),r.scaleExpansion(d,i)])),r.estimate(r.calculateSum([r.scaleExpansion(g,a),r.scaleExpansion(h,2*l),r.scaleExpansion(d,u)]))],[r.estimate(r.fastExpansionSum(r.twoProduct(c,t),r.twoProduct(s,f))),r.estimate(r.fastExpansionSum(r.twoProduct(a,t),r.twoProduct(l,f)))],[c,a]];return[b,P]}];t.splitAtPrecise=function(e,t){return i[e.length-2](e,t)};let u=[function(e,t){let[[n,o],[i,u]]=e,s=1-t,l=[r.fastExpansionSum(r.scaleExpansion(n,s),r.scaleExpansion(i,t)),r.fastExpansionSum(r.scaleExpansion(o,s),r.scaleExpansion(u,t))];return[[[n,o],l],[l,[i,u]]]},function(e,t){let[[n,o],[i,u],[s,l]]=e,c=1-t,a=r.twoProduct(t,t),f=r.twoProduct(c,c),d=r.twoProduct(c,t),p=[r.calculateSum([r.expansionProduct(f,n),r.expansionProduct(d,r.scaleExpansion(i,2)),r.expansionProduct(a,s)]),r.calculateSum([r.expansionProduct(f,o),r.expansionProduct(d,r.scaleExpansion(u,2)),r.expansionProduct(a,l)])],g=[[n,o],[r.fastExpansionSum(r.scaleExpansion(n,c),r.scaleExpansion(i,t)),r.fastExpansionSum(r.scaleExpansion(o,c),r.scaleExpansion(u,t))],p],v=[p,[r.fastExpansionSum(r.scaleExpansion(i,c),r.scaleExpansion(s,t)),r.fastExpansionSum(r.scaleExpansion(u,c),r.scaleExpansion(l,t))],[s,l]];return[g,v]},function(e,t){let[[n,o],[i,u],[s,l],[c,a]]=e,f=1-t,d=r.twoProduct(f,f),p=r.scaleExpansion(d,f),g=r.twoProduct(t,t),v=r.scaleExpansion(g,t),h=r.twoProduct(f,t),_=r.scaleExpansion(g,f),x=r.scaleExpansion(d,t),m=[r.calculateSum([r.expansionProduct(v,c),r.expansionProduct(_,r.scaleExpansion(s,3)),r.expansionProduct(x,r.scaleExpansion(i,3)),r.expansionProduct(p,n)]),r.calculateSum([r.expansionProduct(v,a),r.expansionProduct(_,r.scaleExpansion(l,3)),r.expansionProduct(x,r.scaleExpansion(u,3)),r.expansionProduct(p,o)])],b=[[n,o],[r.fastExpansionSum(r.scaleExpansion(i,t),r.scaleExpansion(n,f)),r.fastExpansionSum(r.scaleExpansion(u,t),r.scaleExpansion(o,f))],[r.calculateSum([r.expansionProduct(g,s),r.expansionProduct(h,r.scaleExpansion(i,2)),r.expansionProduct(d,n)]),r.calculateSum([r.expansionProduct(g,l),r.expansionProduct(h,r.scaleExpansion(u,2)),r.expansionProduct(d,o)])],m],P=[m,[r.calculateSum([r.expansionProduct(g,c),r.expansionProduct(h,r.scaleExpansion(s,2)),r.expansionProduct(d,i)]),r.calculateSum([r.expansionProduct(g,a),r.expansionProduct(h,r.scaleExpansion(l,2)),r.expansionProduct(d,u)])],[r.fastExpansionSum(r.scaleExpansion(c,t),r.scaleExpansion(s,f)),r.fastExpansionSum(r.scaleExpansion(a,t),r.scaleExpansion(l,f))],[c,a]];return[b,P]}];t.splitAtExact=function(e,t){return u[e.length-2](e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(141),o=n(78),i=n(31),u=n(3),s=n(6),l=n(0),c=n(10);t.closestPointOnBezierPrecise=function(e,t){let n=o.getTangentPolyFromPointExact(e,t),r=s.allRootsMultiWithErrBounds(n,n.map(e=>0),void 0).map(s.mid);r.push(0),r.push(1);let c=r.map(t=>({p:i.evaluateExact(e,t).map(l.estimate),t:t})),a=Number.POSITIVE_INFINITY,f=void 0;return c.forEach(e=>{let n=u.squaredDistanceBetween(e.p,t);n<a&&(a=n,f=e)}),f},t.closestPointOnBezier=function(e,t){let n=r.getTangentPolyFromPoint(e,t),o=s.allRoots(n,0,1);o.push(0),o.push(1);let i=o.map(t=>({p:c.evalDeCasteljau(e,t),t:t})),l=Number.POSITIVE_INFINITY,a=void 0;return i.forEach(e=>{let n=u.squaredDistanceBetween(e.p,t);n<l&&(l=n,a=e)}),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.evaluate=function(e,t){const n=e.length;return void 0===t?r:r(t);function r(t){if(0===t)return e[0];if(1===t)return e[n-1];let r=1-t;if(4===e.length){let[[n,o],[i,u],[s,l],[c,a]]=e;return[n*Math.pow(r,3)+3*i*Math.pow(r,2)*t+3*s*r*Math.pow(t,2)+c*Math.pow(t,3),o*Math.pow(r,3)+3*u*Math.pow(r,2)*t+3*l*r*Math.pow(t,2)+a*Math.pow(t,3)]}if(3===e.length){let[[n,o],[i,u],[s,l]]=e;return[n*Math.pow(r,2)+2*i*r*t+s*Math.pow(t,2),o*Math.pow(r,2)+2*u*r*t+l*Math.pow(t,2)]}if(2===e.length){let[[n,o],[i,u]]=e;return[n*r+i*t,o*r+u*t]}}},t.evaluateExact=function(e,t){const n=e.length;if(0===t)return e[0].map(e=>[e]);if(1===t)return e[n-1].map(e=>[e]);let o=1-t,i=r.twoProduct(o,o),u=r.scaleExpansion(i,o),s=r.twoProduct(t,t),l=r.scaleExpansion(s,t);if(4===e.length){let[[n,c],[a,f],[d,p],[g,v]]=e;return[r.calculateSum([r.scaleExpansion(u,n),r.expansionProduct(r.scaleExpansion(r.twoProduct(3,a),t),i),r.expansionProduct(r.scaleExpansion(r.twoProduct(3,d),o),s),r.scaleExpansion(l,g)]),r.calculateSum([r.scaleExpansion(u,c),r.expansionProduct(r.scaleExpansion(r.twoProduct(3,f),t),i),r.expansionProduct(r.scaleExpansion(r.twoProduct(3,p),o),s),r.scaleExpansion(l,v)])]}if(3===e.length){let[[n,u],[l,c],[a,f]]=e;return[r.calculateSum([r.scaleExpansion(i,n),r.scaleExpansion(r.twoProduct(2*l,o),t),r.scaleExpansion(s,a)]),r.calculateSum([r.scaleExpansion(i,u),r.scaleExpansion(r.twoProduct(2*c,o),t),r.scaleExpansion(s,f)])]}if(2===e.length){let[[n,i],[u,s]]=e;return[r.fastExpansionSum(r.twoProduct(n,o),r.twoProduct(u,t)),r.fastExpansionSum(r.twoProduct(i,o),r.twoProduct(s,t))]}},t.expEvaluateExact=function(e,t){const n=e.length;if(0===t)return e[0];if(1===t)return e[n-1];let o=1-t,i=r.twoProduct(o,o),u=r.scaleExpansion(i,o),s=r.twoProduct(t,t),l=r.scaleExpansion(s,t);if(r.twoProduct(o,t),r.scaleExpansion(s,o),r.scaleExpansion(i,t),4===e.length){let[[n,c],[a,f],[d,p],[g,v]]=e;return[r.calculate([[n,u],[[3],a,i,[t]],[[3],d,[o],s],[g,l]]),r.calculate([[c,u],[[3],f,i,[t]],[[3],p,[o],s],[v,l]])]}if(3===e.length){let[[n,u],[l,c],[a,f]]=e;return[r.calculate([[n,i],[l,[2*o],[t]],[a,s]]),r.calculate([[u,i],[c,[2*o],[t]],[f,s]])]}if(2===e.length){let[[n,i],[u,s]]=e;return[r.fastExpansionSum(r.scaleExpansion(n,o),r.scaleExpansion(u,t)),r.fastExpansionSum(r.scaleExpansion(i,o),r.scaleExpansion(s,t))]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=Math.abs;t.getImplicitForm3=function(e){let[[t,n,i,u],[s,l,c,a]]=r.getXY(e),f=t*c,d=i*s,p=t*l,g=n*l,v=n*s,h=t*t,_=l*l,x=s*s,m=i*t,b=n*n,P=c*s,M=l*s,E=n*t,y=t*s,w=t*a,O=u*s,C=n*a,I=u*l,S=n*c,B=i*l,j=i*a,T=u*c,N=o(f),D=o(d),F=o(p),A=o(g),q=o(v),L=o(h),Q=o(_),z=o(x),Y=o(m),R=o(b),X=o(P),H=o(M),V=o(E),k=o(y),G=o(w),W=o(O),U=o(C),$=o(I),K=o(S),Z=o(B),J=o(j),ee=o(T),te=w-O,ne=f-d,re=p-v,oe=C-I,ie=S-B,ue=j-T,se=P-_,le=m-b,ce=v+p,ae=d+f,fe=2*ne,de=o(te),pe=o(ne),ge=o(re),ve=o(oe),he=o(ie),_e=o(ue),xe=o(ce),me=2*pe,be=G+W+de,Pe=N+D+pe,Me=F+q+ge,Ee=U+$+ve,ye=K+Z+he,we=J+ee+_e,Oe=q+F+xe,Ce=D+N+o(ae),Ie=2*Pe,Se=te*te,Be=te*ne,je=te*re,Te=te*ie,Ne=ne*ne,De=fe*oe,Fe=re*oe,Ae=re*ie,qe=re*ue,Le=be*de*2+o(Se),Qe=be*pe+de*Pe+o(Be),ze=be*ge+de*Me+o(je),Ye=be*he+de*ye+o(Te),Re=Pe*pe*2+o(Ne),Xe=Ie*ve+me*Ee+o(De),He=Me*ve+ge*Ee+o(Fe),Ve=Me*he+ge*ye+o(Ae),ke=Me*_e+ge*we+o(Fe),Ge=-3*te-ie,We=o(Ge),Ue=3*(be+de)+ye+We,$e=-s*x,Ke=3*t*x,Ze=-3*s*h,Je=t*h,et=2*o($e),tt=6*z*o(t),nt=6*L*o(s),rt=2*o(Je),ot=o(se),it=X+Q+ot,ut=o(le),st=Y+R+o(le),lt=Ge*x,ct=re*se,at=lt+ct,ft=fe*M,dt=at+ft,pt=z*(Ue+We)+o(lt)+(Me*ot+it*ge+o(ct))+o(at)+(H*(Ie+me)+o(ft))+o(at+ft),gt=Ge*h,vt=re*le,ht=gt+vt,_t=fe*E,xt=ht+_t,mt=L*(Ue+We)+o(gt)+(st*ge+Me*ut+o(vt))+o(ht)+(V*(Ie+me)+o(_t))+o(xt),bt=g-ae/2,Pt=o(bt),Mt=A+Ce/2+Pt,Et=Ge*y,yt=ne*ce,wt=Et+yt,Ot=k*(Ue+We)+o(Et)+(Pe*xe+pe*Oe+o(yt))+o(wt),Ct=re*bt,It=2*(Ct-wt),St=2*(Me*Pt+ge*Mt+o(Ct)+Ot)+o(It),Bt=-3*Se,jt=Bt-2*Te,Tt=De+qe,Nt=jt+Tt,Dt=3*Le+o(Bt)+2*Ye+o(jt)+(Xe+ke+o(Tt))+o(Nt),Ft=2*(Be-Fe),At=2*(Qe+He)+o(Ft),qt=je-Ne,Lt=qt+Ae,Qt=ze+Re+o(qt)+Ve+o(Lt),zt=s*Nt,Yt=l*Ft,Rt=c*Lt,Xt=Yt+Rt,Ht=zt+Xt,Vt=o(s)*Dt+o(zt)+(o(l)*At+o(Yt)+(o(c)*Qt+o(Rt))+o(Xt))+o(Ht),kt=t*Nt,Gt=n*Ft,Wt=i*Lt,Ut=Gt+Wt,$t=-(kt+Ut),Kt=o(t)*Dt+o(kt)+(o(n)*At+o(Gt)+(o(i)*Qt+o(Wt))+o(Ut))+o($t),Zt=De-Se,Jt=Xe+Le+o(Zt),en=Zt-Te,tn=o(en),nn=Jt+Ye+tn,rn=Lt*ue,on=Fe*oe,un=rn-on,sn=Qt*o(ue)+o(Lt)*we+o(rn)+(He*ve+o(Fe)*Ee+o(on))+o(un),ln=te*en,cn=ln+un;return{coeffs:{"vₓₓₓ":$e,"vₓₓᵧ":Ke,"vₓᵧᵧ":Ze,"vᵧᵧᵧ":Je,"vₓₓ":dt,"vₓᵧ":It,"vᵧᵧ":xt,"vₓ":Ht,"vᵧ":$t,v:cn},errorBound:{"vₓₓₓ_":et,"vₓₓᵧ_":tt,"vₓᵧᵧ_":nt,"vᵧᵧᵧ_":rt,"vₓₓ_":pt,"vₓᵧ_":St,"vᵧᵧ_":mt,"vₓ_":Vt,"vᵧ_":Kt,v_:be*tn+de*nn+o(ln)+sn+o(cn)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=Math.abs,u=r.twoProduct,s=r.qNegativeOf,l=r.qMultBy2,c=r.qDivBy2,a=r.qMultDouble2,f=r.qMultQuad,d=r.qDiffQuad,p=r.qAddQuad;t.getImplicitForm3Quad=function(e){let[[t,n,r,g],[v,h,_,x]]=o.getXY(e),m=u(t,_),b=u(r,v),P=u(t,h),M=u(n,h),E=u(n,v),y=u(t,t),w=u(h,h),O=u(v,v),C=u(r,t),I=u(n,n),S=u(_,v),B=u(h,v),j=u(n,t),T=u(t,v),N=u(t,x),D=u(g,v),F=u(n,x),A=u(g,h),q=u(n,_),L=u(r,h),Q=u(r,x),z=u(g,_),Y=d(N,D),R=d(m,b),X=d(P,E),H=d(F,A),V=d(q,L),k=d(Q,z),G=d(S,w),W=d(C,I),U=p(E,P),$=p(b,m),K=l(R),Z=f(Y,Y),J=f(Y,R),ee=f(Y,X),te=f(Y,V),ne=f(R,R),re=f(K,H),oe=f(X,H),ie=f(X,V),ue=f(X,k),se=2*i(Z[1]),le=2*i(J[1]),ce=2*i(ee[1]),ae=2*i(te[1]),fe=2*i(ne[1]),de=2*i(re[1]),pe=2*i(oe[1]),ge=2*i(ie[1]),ve=2*i(oe[1]),he=a(-v,O),_e=i(he[1]),xe=a(3*t,O),me=i(xe[1]),be=a(-3*v,y),Pe=i(be[1]),Me=a(t,y),Ee=i(Me[1]),ye=d(a(-3,Y),V),we=f(ye,O),Oe=2*i(we[1]),Ce=f(X,G),Ie=2*i(Ce[1]),Se=p(we,Ce),Be=Oe+Ie+i(Se[1]),je=f(K,B),Te=2*i(je[1]),Ne=p(Se,je),De=Be+Te+i(Ne[1]),Fe=f(ye,y),Ae=2*i(Fe[1]),qe=f(X,W),Le=2*i(qe[1]),Qe=p(Fe,qe),ze=Ae+Le+i(Qe[1]),Ye=f(K,j),Re=2*i(Ye[1]),Xe=p(Qe,Ye),He=ze+Re+i(Xe[1]),Ve=d(M,c($)),ke=f(ye,T),Ge=2*i(ke[1]),We=f(R,U),Ue=2*i(We[1]),$e=p(ke,We),Ke=Ge+Ue+i($e[1]),Ze=f(X,Ve),Je=2*i(Ze[1]),et=l(d(Ze,$e)),tt=2*(Je+Ke)+i(et[1]),nt=a(-3,Z),rt=3*se+i(nt[1]),ot=d(nt,l(te)),it=rt+2*ae+i(ot[1]),ut=p(re,ue),st=de+ve+i(ut[1]),lt=p(ot,ut),ct=it+st+i(lt[1]),at=l(d(J,oe)),ft=2*(le+pe)+i(at[1]),dt=d(ee,ne),pt=ce+fe+i(dt[1]),gt=p(dt,ie),vt=pt+ge+i(gt[1]),ht=a(v,lt),_t=i(v)*ct+i(ht[1]),xt=a(h,at),mt=i(h)*ft+i(xt[1]),bt=a(_,gt),Pt=i(_)*vt+i(bt[1]),Mt=p(xt,bt),Et=mt+Pt+i(Mt[1]),yt=p(ht,Mt),wt=_t+Et+i(yt[1]),Ot=a(t,lt),Ct=i(t)*ct+i(Ot[1]),It=a(n,at),St=i(n)*ft+i(It[1]),Bt=a(r,gt),jt=i(r)*vt+i(Bt[1]),Tt=p(It,Bt),Nt=St+jt+i(Tt[1]),Dt=s(p(Ot,Tt)),Ft=Ct+Nt+i(Dt[1]),At=d(re,Z),qt=de+se+i(At[1]),Lt=d(At,te),Qt=qt+ae+i(Lt[1]),zt=f(gt,k),Yt=vt*i(k[1])+2*i(zt[1]),Rt=f(oe,H),Xt=pe*i(H[1])+2*i(Rt[1]),Ht=d(zt,Rt),Vt=Yt+Xt+i(Ht[1]),kt=f(Y,Lt),Gt=i(Y[1])*Qt+2*i(kt[1]),Wt=p(kt,Ht);return{coeffs:{"vₓₓₓ":he,"vₓₓᵧ":xe,"vₓᵧᵧ":be,"vᵧᵧᵧ":Me,"vₓₓ":Ne,"vₓᵧ":et,"vᵧᵧ":Xe,"vₓ":yt,"vᵧ":Dt,v:Wt},errorBound:{"vₓₓₓ_":_e,"vₓₓᵧ_":me,"vₓᵧᵧ_":Pe,"vᵧᵧᵧ_":Ee,"vₓₓ_":De,"vₓᵧ_":tt,"vᵧᵧ_":He,"vₓ_":wt,"vᵧ_":Ft,v_:Gt+Vt+i(Wt[1])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qMultBy2,s=r.qDiffQuad,l=r.qAddQuad,c=r.scaleExpansion2,a=r.expansionProduct,f=r.fastExpansionSum,d=r.expansionDiff,p=r.negativeOf,g=r.eMultBy2,v=r.eDivBy2;t.getImplicitForm3Exact_=function(e){let[[t,n,r,h],[_,x,m,b]]=o.getXY(e),P=i(t,m),M=i(r,_),E=i(t,x),y=i(n,x),w=i(n,_),O=i(t,t),C=i(x,x),I=i(_,_),S=i(r,t),B=i(n,n),j=i(m,_),T=i(x,_),N=i(n,t),D=i(t,_),F=i(t,b),A=i(h,_),q=i(n,b),L=i(h,x),Q=i(n,m),z=i(r,x),Y=i(r,b),R=i(h,m),X=s(F,A),H=s(P,M),V=s(E,w),k=s(q,L),G=s(Q,z),W=s(Y,R),U=s(j,C),$=s(S,B),K=l(w,E),Z=l(M,P),J=u(H),ee=a(X,X),te=a(X,H),ne=a(X,V),re=a(X,G),oe=a(H,H),ie=a(J,k),ue=a(V,k),se=a(V,G),le=a(V,W),ce=c(-_,I),ae=c(3*t,I),fe=c(-3*_,O),de=c(t,O),pe=d(c(-3,X),G),ge=a(pe,I),ve=a(V,U),he=f(ge,ve),_e=a(J,T),xe=f(he,_e),me=a(pe,O),be=a(V,$),Pe=f(me,be),Me=a(J,N),Ee=f(Pe,Me),ye=d(y,v(Z)),we=a(pe,D),Oe=a(H,K),Ce=f(we,Oe),Ie=a(V,ye),Se=g(d(Ie,Ce)),Be=c(-3,ee),je=d(Be,g(re)),Te=f(ie,le),Ne=f(je,Te),De=g(d(te,ue)),Fe=d(ne,oe),Ae=f(Fe,se),qe=c(_,Ne),Le=c(x,De),Qe=c(m,Ae),ze=f(Le,Qe),Ye=f(qe,ze),Re=c(t,Ne),Xe=c(n,De),He=c(r,Ae),Ve=f(Xe,He),ke=p(f(Re,Ve)),Ge=d(ie,ee),We=d(Ge,re),Ue=a(Ae,W),$e=a(ue,k),Ke=d(Ue,$e),Ze=a(X,We);return{"vₓₓₓ":ce,"vₓₓᵧ":ae,"vₓᵧᵧ":fe,"vᵧᵧᵧ":de,"vₓₓ":xe,"vₓᵧ":Se,"vᵧᵧ":Ee,"vₓ":Ye,"vᵧ":ke,v:f(Ze,Ke)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=Math.abs;t.getImplicitForm2=function(e){let[[t,n,i],[u,s,l]]=r.getXY(e),c=t*s,a=n*u,f=t*l,d=i*u,p=n*l,g=i*s,v=t*t,h=t*u,_=u*u,x=c-a,m=f-d,b=p-g,P=o(x),M=o(m),E=o(b),y=o(c)+o(a)+P,w=o(f)+o(d)+M,O=o(p)+o(g)+E,C=s*x,I=2*u*m,S=C-I,B=2*t*m,j=n*x,T=B-j,N=x*b,D=m*m,F=N-D;return{coeffs:{"vₓₓ":-_,"vₓᵧ":2*h,"vᵧᵧ":-v,"vₓ":S,"vᵧ":T,v:F},errorBound:{"vₓₓ_":o(_),"vₓᵧ_":2*o(h),"vᵧᵧ_":o(v),"vₓ_":o(s)*y+o(C)+(o(u)*w*2+o(I))+o(S),"vᵧ_":o(t)*w*2+o(B)+(o(n)*y+o(j))+o(T),v_:y*E+P*O+o(N)+(M*w*2+o(D))+o(F)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=Math.abs,u=r.twoProduct,s=r.qNegativeOf,l=r.qMultBy2,c=r.qMultDouble2,a=r.qMultQuad,f=r.qDiffQuad;t.getImplicitForm2Quad=function(e){let[[t,n,r],[d,p,g]]=o.getXY(e),v=u(t,p),h=u(n,d),_=u(t,g),x=u(r,d),m=u(n,g),b=u(r,p),P=u(t,t),M=u(t,d),E=u(d,d),y=t*p,w=n*d,O=t*g,C=r*d,I=n*g,S=r*p,B=f(v,h),j=f(_,x),T=f(m,b),N=y-w,D=O-C,F=I-S,A=s(E),q=l(M),L=s(P),Q=p*N,z=c(p,B),Y=i(Q),R=2*d*D,X=l(c(d,j)),H=i(R),V=Q-R,k=f(z,X),G=Y+H+i(V),W=2*t*D,U=l(c(t,j)),$=i(W),K=n*N,Z=c(n,B),J=i(K),ee=W-K,te=f(U,Z),ne=$+J+i(ee),re=N*F,oe=a(B,T),ie=2*i(re),ue=D*D,se=a(j,j),le=i(ue),ce=re-ue;return{coeffs:{"vₓₓ":A,"vₓᵧ":q,"vᵧᵧ":L,"vₓ":k,"vᵧ":te,v:f(oe,se)},errorBound:{"vₓ_":G,"vᵧ_":ne,v_:ie+le+i(ce)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qNegativeOf,s=r.qMultBy2,l=r.scaleExpansion2,c=r.qDiffQuad,a=r.eMultBy2,f=r.expansionDiff,d=r.expansionProduct;t.getImplicitForm2Exact_=function(e){let[[t,n,r],[p,g,v]]=o.getXY(e),h=i(t,g),_=i(n,p),x=i(t,v),m=i(r,p),b=i(n,v),P=i(r,g),M=i(t,t),E=i(t,p),y=i(p,p),w=c(h,_),O=c(x,m),C=c(b,P),I=u(y),S=s(E),B=u(M),j=l(g,w),T=a(l(p,O)),N=f(j,T),D=a(l(t,O)),F=l(n,w),A=f(D,F),q=d(w,C),L=d(O,O);return{"vₓₓ":I,"vₓᵧ":S,"vᵧᵧ":B,"vₓ":N,"vᵧ":A,v:f(q,L)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qDiffQuad;t.getImplicitForm1Quad=function(e){let[[t,n],[r,s]]=o.getXY(e);return{coeffs:{"vₓ":-r,"vᵧ":t,v:u(i(n,r),i(t,s))},errorBound:{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(5),i=n(184),u=n(185);t.getClosestBoundaryPoint=function(e,t,n,s){e=i.cullBezierPieces(e,t);let l,c=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){let a=e[i],f=u.closestPointsOnCurve(a.curve,t,a.ts,n,s),d=r.getObjClosestTo(t,f,e=>e.p);if(void 0===d)continue;let p=r.distanceBetween(d.p,t),g=a.curve,v=d.t;p<c&&(0===v&&(v=1,g=a.curve.prev),l={pos:new o.PointOnShape(g,v),d:p},c=p)}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qDiffQuad=function([e,t],[n,r]){let o=t-r,i=o-t,u=e-n,s=u-e,l=t-(o-i)+(-r-i)+u,c=o+l,a=e-(u-s)+(-n-s)+(l-(c-o)),f=c+a;return[a-(f-c),f]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),o=n(64);t.expansionDiff=function(e,t){let n=o.negativeOf(t);return r.fastExpansionSum(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(23),i=n(18),u=n(12);t.scaleExpansion=function(e,t){let n,s,l=e.length,c=new Array(2*l);[c[0],n]=r.twoProduct(e[0],t);for(let u=1;u<l;u++){let[l,a]=r.twoProduct(e[u],t);[c[2*u-1],s]=o.twoSum(n,l),[c[2*u],n]=i.fastTwoSum(a,s)}return c[2*l-1]=n,u.compress(c)},t.scaleExpansion2=function(e,t){let n,s,l=t.length,c=new Array(2*l);[c[0],n]=r.twoProduct(t[0],e);for(let u=1;u<l;u++){let[l,a]=r.twoProduct(t[u],e);[c[2*u-1],s]=o.twoSum(n,l),[c[2*u],n]=i.fastTwoSum(a,s)}return c[2*l-1]=n,u.compress(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),o=n(42),i=n(12);t.expansionProduct=function(e,t){let n=[0];for(let i=0;i<e.length;i++)n=r.fastExpansionSum(n,o.scaleExpansion(t,e[i]));return i.compress(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(0);t.multiplyByConst=function(e,t){if(0===e)return[];let n=t.length,o=[];for(let r=0;r<n;r++)o.push(e*t[r]);return r.removeLeadingZeros(o)},t.expMultiplyByConst=function(e,t){if(0===o.sign(e))return[[0]];let n=t.length-1,r=[];for(let i=0;i<n+1;i++)r.push(o.expansionProduct(e,t[i]));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Number.EPSILON/2,o=Math.pow(Number.EPSILON/2,2);function i(e){let t=e*r;return t/(1-t)}function u(e){let t=e*o;return t/(1-t)}t.γ=i,t.γγ=u;const s=i(1);t.γ1=s;const l=i(2);t.γ2=l;const c=i(3);t.γ3=c;const a=i(4);t.γ4=a;const f=i(5);t.γ5=f;const d=i(6);t.γ6=d;const p=i(7);t.γ7=p;const g=i(8);t.γ8=g;const v=i(9);t.γ9=v;const h=i(10);t.γ10=h;const _=i(11);t.γ11=_;const x=i(12);t.γ12=x;const m=i(13);t.γ13=m;const b=i(14);t.γ14=b;i(25),i(39);const P=u(1);t.γγ1=P;const M=u(2);t.γγ2=M;const E=u(3);t.γγ3=E;const y=u(4);t.γγ4=y;const w=u(5);t.γγ5=w;const O=u(6);t.γγ6=O;const C=u(7);t.γγ7=C;const I=u(8);t.γγ8=I;const S=u(9);t.γγ9=S;const B=u(10);t.γγ10=B;const j=u(11);t.γγ11=j;const T=u(12);t.γγ12=T;const N=u(13);t.γγ13=N;const D=u(14);t.γγ14=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(0);function i(e,t){let n=e.length-1,i=t.length-1,u=n+i,s=new Array(u+1).fill([0]);for(let r=0;r<n+1;r++)for(let l=0;l<i+1;l++)s[u-(r+l)]=o.fastExpansionSum(s[u-(r+l)],o.expansionProduct(e[n-r],t[i-l]));return r.expRemoveLeadingZeros(s)}t.multiply=function(e,t){let n=e.length-1,o=t.length-1,i=n+o,u=new Array(i+1).fill(0);for(let r=0;r<n+1;r++)for(let s=0;s<o+1;s++)u[i-(r+s)]+=e[n-r]*t[o-s];return r.removeLeadingZeros(u)},t.multiplyExact=function(e){if(1===e.length)return e[0];let t=e[0];for(let n=1;n<e.length;n++)t=i(t,e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Horner=function(e,t){let n=e[0];for(let r=1;r<e.length;r++)n=n*t+e[r];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.EFTHorner=function(e,t){let n,o=[],i=[],u=e[0];for(let s=1;s<e.length;s++){let[l,c]=r.twoProduct(u,t);[n,u]=r.twoSum(c,e[s]),o.push(l),i.push(n)}return{"r̂":u,"pπ":o,"pσ":i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48),o=n(128),i=n(47),u=n(271),s=n(45),l=Math.abs;t.evalK1MultiWithErrBounds=function(e,t,n,c=1){let[a,f]=o.hornerWithRunningError(e[0],n),d=s.γ2*u.AbsHorner(e[0],n),p=i.Horner(t,n),g=f+d+p;if(g*c<l(a))return{"r̂":a,e:g};let{"r̂":v,"pπ":h,"pσ":_}=r.EFTHorner(e[0],n),[x,m]=o.hornerWithRunningError(h,n),[b,P]=o.hornerWithRunningError(_,n),[M,E]=o.hornerWithRunningError(e[1],n),y=m+P+E+p;return v=x+b+M+v,y+=s.γ1*v,y*c<l(v)?{"r̂":v,e:y}:{"r̂":0,e:y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.HornerExact=function(e,t){let n=e[0];for(let o=1;o<e.length;o++)n=r.fastExpansionSum(e[o],r.scaleExpansion(n,t));return r.estimate(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qDiffQuad;t.getImplicitForm1Exact_=function(e){let[[t,n],[r,s]]=o.getXY(e);return{"vₓ":-r,"vᵧ":t,v:u(i(n,r),i(t,s))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0);t.getImplicitForm3Exact=function(e){let[t,n,u,s]=r.getXExact(e),[l,c,a,f]=o.getYExact(e);return{"vₓₓₓ":i.calculateProduct([l,l,l]),"vₓₓᵧ":i.calculateProduct([[-3],t,l,l]),"vₓᵧᵧ":i.calculateProduct([[3],l,t,t]),"vᵧᵧᵧ":i.negativeOf(i.calculateProduct([t,t,t])),"vₓₓ":i.calculate([[[-3],t,a,c,l],[u,c,l,l],[[-1],n,l,c,c],[[2],n,a,l,l],[[3],t,f,l,l],[t,c,c,c],[[-3],s,l,l,l]]),"vₓᵧ":i.calculate([[u,t,c,l],[[-1],n,t,a,l],[[-6],f,l,t,t],[[-3],u,n,l,l],[[-2],n,t,c,c],[[2],c,l,n,n],[[3],a,c,t,t],[[6],s,t,l,l]]),"vᵧᵧ":i.calculate([[[3],u,n,t,l],[t,c,n,n],[[-1],n,a,t,t],[[-3],s,l,t,t],[[-2],u,c,t,t],[[-1],l,n,n,n],[[3],f,t,t,t]]),"vₓ":i.calculate([[n,t,f,a,l],[[-1],u,n,a,c,l],[[-1],u,t,f,c,l],[[6],s,t,a,c,l],[a,u,u,l,l],[l,n,n,a,a],[[3],l,t,t,f,f],[u,t,a,c,c],[[-1],n,t,c,a,a],[[-6],s,t,f,l,l],[[-4],s,n,a,l,l],[[-3],f,a,c,t,t],[[-2],s,u,c,l,l],[[-2],u,t,l,a,a],[[-2],f,c,l,n,n],[[2],s,n,l,c,c],[[2],n,t,f,c,c],[[3],u,n,f,l,l],[t,t,a,a,a],[[3],s,s,l,l,l],[[-2],s,t,c,c,c]]),"vᵧ":i.calculate([[s,n,t,a,l],[u,n,t,a,c],[[-1],s,u,t,c,l],[[-6],u,n,t,f,l],[[-1],u,u,u,l,l],[[-3],t,t,t,f,f],[[-1],u,t,t,a,a],[[-1],t,u,u,c,c],[[-3],t,s,s,l,l],[n,c,l,u,u],[[-1],u,a,l,n,n],[[-3],s,a,c,t,t],[[-2],s,c,l,n,n],[[-2],t,f,c,n,n],[[2],s,n,t,c,c],[[2],n,f,a,t,t],[[2],t,a,l,u,u],[[3],s,u,n,l,l],[[4],u,f,c,t,t],[[6],s,f,l,t,t],[[2],f,l,n,n,n]]),v:i.calculate([[s,u,n,a,c,l],[s,u,t,f,c,l],[[-1],s,n,t,f,a,l],[[-1],u,n,t,f,a,c],[f,u,u,u,l,l],[[-1],l,n,n,n,f,f],[u,f,t,t,a,a],[u,c,s,s,l,l],[t,f,u,u,c,c],[t,c,n,n,f,f],[[-1],s,a,u,u,l,l],[[-1],s,l,n,n,a,a],[[-1],n,a,t,t,f,f],[[-1],n,l,s,s,c,c],[[-3],s,l,t,t,f,f],[[-2],u,c,t,t,f,f],[[2],n,a,s,s,l,l],[[3],t,f,s,s,l,l],[s,n,t,c,a,a],[u,f,a,l,n,n],[[-1],s,u,t,a,c,c],[[-1],n,f,c,l,u,u],[[-3],s,u,n,f,l,l],[[-3],t,a,c,l,s,s],[[-2],s,n,t,f,c,c],[[-2],t,f,a,l,u,u],[[2],s,u,t,l,a,a],[[2],s,f,c,l,n,n],[[3],s,f,a,c,t,t],[[3],u,n,t,l,f,f],[t,t,t,f,f,f],[[-1],s,s,s,l,l,l],[t,s,s,c,c,c],[[-1],s,t,t,a,a,a]])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0);t.getImplicitForm2Exact=function(e){let[t,n,u]=r.getXExact(e),[s,l,c]=o.getYExact(e);return{"vₓₓ":i.expansionProduct(s,s),"vₓᵧ":i.calculateProduct([[-2],t,s]),"vᵧᵧ":i.expansionProduct(t,t),"vₓ":i.calculate([[[-2],u,s,s],[n,l,s],[[2],t,c,s],[[-1],t,l,l]]),"vᵧ":i.calculate([[[2],u,t,s],[[-1],n,n,s],[n,t,l],[[-2],t,t,c]]),v:i.calculate([[u,u,s,s],[[-1],u,n,l,s],[[-2],u,t,c,s],[u,t,l,l],[n,n,c,s],[[-1],n,t,c,l],[t,t,c,c]])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.getImplicitForm1=function(e){let[[t,n],[o,i]]=r.getXY(e),u=n*o-t*i;return{coeffs:{"vₓ":-o,"vᵧ":t,v:u},errorBound:{v_:Math.abs(t*i)+Math.abs(n*o)+Math.abs(u)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0);t.getImplicitForm1Exact=function(e){let[t,n]=r.getXExact(e),[u,s]=o.getYExact(e);return{"vₓ":u,"vᵧ":i.negativeOf(t),v:i.expansionDiff(i.expansionProduct(t,s),i.expansionProduct(n,u))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31),o=n(29),i=n(10);t.fromTo=function(e){return function(t,n){let r,u=t>n;if(t>n&&([t,n]=[n,t]),0===t&&1===n)r=e;else if(0===t)r=o.splitAt(e,n)[0];else if(1===n)r=o.splitAt(e,t)[1];else if(t===n){let n=i.evalDeCasteljau(e,t);if(2===e.length)return[n,n];if(3===e.length)return[n,n,n];if(4===e.length)return[n,n,n,n]}else r=o.splitAt(o.splitAt(e,t)[1],(n-t)/(1-t))[0];return u?r.slice().reverse():r}},t.fromToPrecise=function(e){return function(t,n){let r,u=t>n;if(t>n&&([t,n]=[n,t]),0===t&&1===n)r=e;else if(0===t)r=o.splitAtPrecise(e,n)[0];else if(1===n)r=o.splitAtPrecise(e,t)[1];else if(t===n){let n=i.evalDeCasteljau(e,t);if(2===e.length)return[n,n];if(3===e.length)return[n,n,n];if(4===e.length)return[n,n,n,n]}else r=o.splitAtPrecise(o.splitAtPrecise(e,t)[1],(n-t)/(1-t))[0];return u?r.slice().reverse():r}},t.fromToExact=function(e){return function(t,n){if(0===t&&1===n)return e;if(0===t)return o.splitAtExact(e,n)[0];if(1===n)return o.splitAtExact(e,t)[1];if(t!==n)return o.splitAtExact(o.splitAtExact(e,t)[1],(n-t)/(1-t))[0];{let n=r.expEvaluateExact(e,t);if(2===e.length)return[n,n];if(3===e.length)return[n,n,n];if(4===e.length)return[n,n,n,n]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.lengthUpperBound=function(e){let t=0;for(let n=0;n<e.length-1;n++)t+=r.distanceBetween(e[n],e[n+1]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(3),i=n(2);function u(e,t){let n,r,u=i.getInterfaceCcw(e,t),s=u<0,l=u>0,c=e[e.length-2],a=e[e.length-1],f=[a[0]-c[0],a[1]-c[1]],d=t[0],p=t[1],g=[p[0]-d[0],p[1]-d[1]],v=[o.toUnitVector(f),o.toUnitVector(g)],h=o.cross(v[0],v[1]);return o.dot(f,g)>0?(n=h<-.0698,r=h>.0698):(n=s,r=l),{tangents:v,crossTangents:h,isSharp:s,isDull:l,isQuiteSharp:n,isQuiteDull:r}}t.getCorner=u;let s=r.memoize((function(e){return u(e.ps,e.next.ps)}));t.getCornerAtEnd=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(365);t.getCurveBetween=function(e,t){let n,i=e.cp.circle.center,u=o.getEdgeDirection(e),s=t.cp.circle.center,l=o.getEdgeDirection(t.prevOnCircle),c=r.lineLineIntersection(u,l),a=r.fromTo(i,s);if(c){let e=r.fromTo(i,c),t=r.fromTo(s,c);n=r.dot(e,a)<0||r.dot(t,a)>0}else n=!0;if(!n)return[i,c,s];let f=r.rotate90Degrees(a),d=r.fromTo(u[0],u[1]),p=r.fromTo(l[0],l[1]),g=Math.abs(r.cross(a,d))/9,v=Math.abs(r.cross(a,p))/9;if(g>.01||v>.01)return[i,s];if(g>1e-4||v>1e-4){let e=r.interpolate(i,s,1/3),t=r.interpolate(i,s,2/3),n=[e,r.translate(f,e)],o=[t,r.translate(f,t)];return[i,r.lineLineIntersection(u,n),r.lineLineIntersection(l,o),s]}return[i,s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.getNeighbouringPoints=function(e,t,n,o){let i=e.findBounds(new r.CpNode({pointOnShape:t,circle:void 0,order:n,order2:o},!1,!1));return i[0]||i[1]?i[0]&&i[1]?[i[0].data,i[1].data]:[e.max(e.root),e.min(e.root)]:[void 0,void 0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(104),o=n(62);t.parseDouble=function(e){let t=o.doubleToOctets(e),n=t[0],r=t[1],i=n>>7,u=((127&n)<<4)+((240&r)>>4),s=0===u?0:16,l=0===u?u-1022:u-1023,c=t.slice(1);return c[0]=(15&r)+s,{sign:i,exponent:l,significand:c}},t.parseDoubleDetailed=function(e){let t=r.doubleToBinaryString(e),[,n,o,i]=t.match(/^(.)(.{11})(.{52})$/),u=0===parseInt(o,2)?"0":"1";return{full:n+o+u+i,sign:n,exponent:o,hidden:u,significand:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doubleToOctets=function(e){var t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!1),Array.from(new Uint8Array(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimate=function(e){let t=e[0];for(let n=1;n<e.length;n++)t+=e[n];return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.negativeOf=function(e){let t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=-e[r];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(12),i=n(21),u=n(25);t.bitLength=function(e){return 0===e?0:r.getHighestSetBit(e)-r.getLowestSetBit(e)+1},t.expBitLength=function(e){let t=o.compress(e);if(0===u.sign(t))return 0;let n=t[t.length-1],s=t[0];return i.exponent(n)-i.exponent(s)+(53-r.getLowestSetBit(s))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),o=n(12);t.growExpansion=function(e,t){let n=e.length,i=t,u=new Array(n+1);for(let t=0;t<n;t++)[u[t],i]=r.twoSum(i,e[t]);return u[n]=i,o.compress(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);t.pInfNorm=function(e){let t=0;for(let n=0;n<e.length;n++){let r=Math.abs(e[n]);r>t&&(t=r)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(0);t.subtract=function(e,t){let n=e.length-1,o=t.length-1,i=n-o,u=0,s=0;i>0?s=-i:i<0&&(u=+i);let l=Math.max(n,o),c=[];for(let n=0;n<l+1;n++){let r=e[n+u]||0,o=t[n+s]||0;c.push(r-o)}return r.removeLeadingZeros(c)},t.subtractExact=function(e,t){let n=e.length-1,i=t.length-1,u=n-i,s=0,l=0;u>0?l=-u:u<0&&(s=+u);let c=Math.max(n,i),a=[];for(let n=0;n<c+1;n++){let r=e[n+s]||[0],i=t[n+l]||[0];a.push(o.expansionDiff(r,i))}return r.expRemoveLeadingZeros(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=function(e,t){function n(t){if(0===e.length)return 0;let n=e[0];for(let r=1;r<e.length;r++)n=e[r]+n*t;return n}return void 0===t?n:n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.evaluateExact=function(e,t){if(0===e.length)return[0];let n=e[0];for(let o=1;o<e.length;o++)n=r.fastExpansionSum(e[o],r.expansionProduct(n,t));return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.circle=function(e,t,n=r.DEFAULT_CLASS,i){let u=t.center,s=t.radius,l=document.createElementNS(o.XMLNS,"circle");return l.setAttributeNS(null,"cx",u[0].toString()),l.setAttributeNS(null,"cy",u[1].toString()),l.setAttributeNS(null,"r",s.toString()),l.setAttributeNS(null,"class",n),e.appendChild(l),i&&setTimeout(()=>l.remove(),i),[l]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(71),i=n(73);t.crossHair=function(e,t,n=r.DEFAULT_CLASS,u=3,s){let l={center:t,radius:u},c=o.circle(e,l,n),a=[[t[0]-u,t[1]],[t[0]+u,t[1]]],f=[[t[0],t[1]-u],[t[0],t[1]+u]],d=i.line(e,a,n),p=i.line(e,f,n);return s&&setTimeout(()=>{c.forEach(e=>e.remove()),d.forEach(e=>e.remove()),p.forEach(e=>e.remove())},s),[...c,...d,...p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.line=function(e,t,n=r.DEFAULT_CLASS,i){let u=document.createElementNS(o.XMLNS,"line");return u.setAttributeNS(null,"x1",t[0][0].toString()),u.setAttributeNS(null,"y1",t[0][1].toString()),u.setAttributeNS(null,"x2",t[1][0].toString()),u.setAttributeNS(null,"y2",t[1][1].toString()),u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(73),i=n(134),u=n(135);t.bezier=function(e,t,n=r.DEFAULT_CLASS,s){return 2===t.length?o.line(e,t,n,s):3===t.length?i.quadBezier(e,t,n,s):4===t.length?u.cubicBezier(e,t,n,s):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getDx=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[3*(o+3*(n-r)-t),6*(r-2*n+t),3*(n-t)]}if(3===e.length){let[[t],[n],[r]]=e;return[2*(r-2*n+t),2*(n-t)]}if(2===e.length){let[[t],[n]]=e;return[n-t]}throw new Error("The bezier curve must be of order 1, 2 or 3.")},t.getDxExact=function(e){if(4===e.length){let[[t],[n],[o],[i]]=e;return[r.calculateSum([r.twoProduct(3,i),r.twoProduct(-9,o),r.twoProduct(9,n),r.twoProduct(-3,t)]),r.calculateSum([r.twoProduct(6,o),r.twoProduct(-12,n),r.twoProduct(6,t)]),r.calculateSum([r.twoProduct(3,n),r.twoProduct(-3,t)])]}if(3===e.length){let[[t],[n],[o]]=e;return[r.calculateSum([[2*o],[-4,n],[2*t]]),r.fastExpansionSum([2*n],[-2,t])]}if(2===e.length){let[[t],[n]]=e;return[r.twoDiff(n,t)]}throw new Error("The bezier curve must be of order 1, 2 or 3.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getDy=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[3*(o+3*(n-r)-t),6*(r-2*n+t),3*(n-t)]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[2*(r-2*n+t),2*(n-t)]}if(2===e.length){let[[,t],[,n]]=e;return[n-t]}throw new Error("The bezier curve must be of order 1, 2 or 3.")},t.getDyExact=function(e){if(4===e.length){let[[,t],[,n],[,o],[,i]]=e;return[r.calculateSum([r.twoProduct(3,i),r.twoProduct(-9,o),r.twoProduct(9,n),r.twoProduct(-3,t)]),r.calculateSum([r.twoProduct(6,o),r.twoProduct(-12,n),r.twoProduct(6,t)]),r.calculateSum([r.twoProduct(3,n),r.twoProduct(-3,t)])]}if(3===e.length){let[[,t],[,n],[,o]]=e;return[r.calculateSum([[2*o],[-4,n],[2*t]]),r.fastExpansionSum([2*n],[-2,t])]}if(2===e.length){let[[,t],[,n]]=e;return[r.twoDiff(n,t)]}throw new Error("The bezier curve must be of order 1, 2 or 3.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gaussQuadrature=function(e,t,n=16){if(t[0]===t[1])return 0;let{weights:o,abscissas:i}=r[n],[u,s]=t,l=0,c=(s-u)/2,a=(s+u)/2;for(let t=0;t<=n-1;t++)l+=o[t]*e(c*i[t]+a);return c*l};const r={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=r.twoProduct,i=r.qAddQuad,u=r.qMultBy2,s=r.qMultBy4,l=r.qMultByNeg2,c=r.qDiffQuad,a=r.qMultDouble2;t.getTangentPolyFromPointExact=function(e,t){return 4===e.length?function(e,t){let[[n,r],[s,f],[d,p],[g,v]]=e,[h,_]=t,x=n-h,m=s-h,b=d-h,P=g-h,M=r-_,E=f-_,y=p-_,w=v-_,O=o(x,x),C=a(6,o(x,m)),I=a(6,o(x,b)),S=u(o(x,P)),B=a(9,o(m,m)),j=a(18,o(m,b)),T=a(6,o(m,P)),N=a(9,o(b,b)),D=a(6,o(b,P)),F=o(P,P),A=o(M,M),q=a(6,o(M,E)),L=a(6,o(M,y)),Q=u(o(M,w)),z=a(9,o(E,E)),Y=a(18,o(E,y)),R=a(6,o(E,w)),X=a(9,o(y,y)),H=a(6,o(y,w)),V=o(w,w),k=i(T,N),G=i(S,j),W=i(I,B),U=i(R,X),$=i(Q,Y),K=i(L,z),Z=c(i(i(F,O),i(k,W)),i(i(G,D),C)),J=c(i(i(V,A),i(U,K)),i(i($,H),q)),ee=a(6,i(Z,J)),te=i(l(i(i(k,u(W)),a(3,O))),i(i(D,a(3,G)),a(5,C))),ne=i(l(i(i(U,u(K)),a(3,A))),i(i(H,a(3,$)),a(5,q))),re=a(5,i(te,ne)),oe=i(i(k,a(3,c(u(W),G))),a(5,c(a(3,O),u(C)))),ie=i(i(U,a(3,c(u(K),$))),a(5,c(a(3,A),u(q)))),ue=a(4,i(oe,ie)),se=c(G,u(c(u(W),a(5,c(C,u(O)))))),le=c($,u(c(u(K),a(5,c(q,u(A)))))),ce=a(3,i(se,le)),ae=c(W,a(5,c(C,a(3,O)))),fe=c(K,a(5,c(q,a(3,A)))),de=u(i(ae,fe)),pe=c(C,a(6,O)),ge=c(q,a(6,A)),ve=i(pe,ge);return[ee,re,ue,ce,de,ve]}(e,t):3===e.length?function(e,t){let[[n,r],[l,f],[d,p]]=e,[g,v]=t,h=n-g,_=l-g,x=d-g,m=r-v,b=f-v,P=p-v,M=o(h,h),E=o(h,_),y=o(h,x),w=o(_,_),O=o(_,x),C=o(x,x),I=o(m,m),S=o(m,b),B=o(m,P),j=o(b,b),T=o(b,P),N=o(P,P),D=i(B,u(j)),F=i(y,u(w)),A=i(c(i(C,u(F)),s(i(O,E))),M),q=i(c(i(N,u(D)),s(i(T,S))),I),L=i(A,q),Q=i(c(O,F),c(a(3,E),M)),z=i(c(T,D),c(a(3,S),I)),Y=a(3,i(Q,z)),R=c(D,a(3,c(u(S),I))),X=c(F,a(3,c(u(E),M))),H=i(R,X),V=c(S,I),k=c(E,M),G=i(V,k);return[L,Y,H,G]}(e,t):2===e.length?function(e,t){let[[n,r],[u,s]]=e,[a,f]=t,d=n-a,p=u-a,g=r-f,v=s-f,h=o(d,d),_=o(d,p),x=o(p,p),m=o(g,g),b=o(g,v),P=o(v,v),M=i(_,b),E=i(m,h),y=i(i(x,P),i(l(M),E)),w=c(M,E);return[y,w]}(e,t):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=Math.abs,u=(Number.EPSILON,o.qDiffQuad),s=o.qAddQuad,l=o.qMultQuad,c=o.qMultDouble2;t.evalDeCasteljauWithErr=function(e,t){if(0===t)return{p:e[0],pE:[0,0]};if(1===t)return{p:e[e.length-1],pE:[0,0]};if(4===e.length){const[[n,o],[u,s],[l,c],[a,f]]=e;let d=i(n),p=i(o),g=i(u),v=i(s),h=i(l),_=i(c),x=i(a),m=i(f),b=n+(u-n)*t,P=u+(l-u)*t,M=b+(P-b)*t,E=M+(P+(l+(a-l)*t-P)*t-M)*t,y=d+(g+d)*t,w=g+(h+g)*t,O=y+(w+y)*t,C=O+(w+(h+(x+h)*t+w)*t+O)*t;C=8*r.γ1*C;let I=o+(s-o)*t,S=s+(c-s)*t,B=I+(S-I)*t,j=B+(S+(c+(f-c)*t-S)*t-B)*t,T=p+(v+p)*t,N=v+(_+v)*t,D=T+(N+T)*t,F=D+(N+(_+(m+_)*t+N)*t+D)*t;return F=8*r.γ1*F,{p:[E,j],pE:[C,F]}}if(3===e.length){const[[n,o],[u,s],[l,c]]=e;let a=i(n),f=i(o),d=i(u),p=i(s),g=i(l),v=i(c),h=n+(u-n)*t,_=h+(u+(l-u)*t-h)*t,x=a+(d+a)*t,m=x+(d+(g+d)*t+x)*t;m=5*r.γ1*m;let b=o+(s-o)*t,P=b+(s+(c-s)*t-b)*t,M=f+(p+f)*t,E=M+(p+(v+p)*t+M)*t;return E=5*r.γ1*E,{p:[_,P],pE:[m,E]}}if(2===e.length){const[[n,o],[u,s]]=e;let l=i(n),c=i(o),a=i(u),f=i(s),d=n+(u-n)*t,p=o+(s-o)*t,g=l+(a+l)*t;g=2*r.γ1*g;let v=c+(f+c)*t;return v=2*r.γ1*v,{p:[d,p],pE:[g,v]}}},t.evalDeCasteljauWithErrQuad=function(e,t){if(0===t[0]&&0===t[1])return{p:e[0].map(e=>[e]),pE:[0,0]};if(0===t[0]&&1===t[1])return{p:e[e.length-1].map(e=>[e]),pE:[0,0]};let n=t[1];if(4===e.length){const[[o,a],[f,d],[p,g],[v,h]]=e;let _=i(o),x=i(a),m=i(f),b=i(d),P=i(p),M=i(g),E=i(v),y=i(h),w=s([0,o],c(f-o,t)),O=s([0,f],c(p-f,t)),C=s([0,p],c(v-p,t)),I=s(w,l(u(O,w),t)),S=s(O,l(u(C,O),t)),B=s(I,l(u(S,I),t)),j=_+(m+_)*n,T=m+(P+m)*n,N=j+(T+j)*n,D=N+(T+(P+(E+P)*n+T)*n+N)*n;D=10*r.γ1*r.γ1*D;let F=s([0,a],c(d-a,t)),A=s([0,d],c(g-d,t)),q=s([0,g],c(h-g,t)),L=s(F,l(u(A,F),t)),Q=s(A,l(u(q,A),t)),z=s(L,l(u(Q,L),t)),Y=x+(b+x)*n,R=b+(M+b)*n,X=Y+(R+Y)*n,H=X+(R+(M+(y+M)*n+R)*n+X)*n;return H=10*r.γ1*r.γ1*H,{p:[B,z],pE:[D,H]}}if(3===e.length){const[[o,a],[f,d],[p,g]]=e;let v=i(o),h=i(a),_=i(f),x=i(d),m=i(p),b=i(g),P=s([0,o],c(f-o,t)),M=s([0,f],c(p-f,t)),E=s(P,l(u(M,P),t)),y=v+(_+v)*n,w=y+(_+(m+_)*n+y)*n;w=6*r.γ1*r.γ1*w;let O=s([0,a],c(d-a,t)),C=s([0,d],c(g-d,t)),I=s(O,l(u(C,O),t)),S=h+(x+h)*n,B=S+(x+(b+x)*n+S)*n;return B=6*r.γ1*r.γ1*B,{p:[E,I],pE:[w,B]}}if(2===e.length){const[[o,u],[l,a]]=e;let f=i(o),d=i(u),p=i(l),g=i(a),v=s([0,o],c(l-o,t)),h=s([0,u],c(a-u,t)),_=f+(p+f)*n;_=2*r.γ1*r.γ1*_;let x=d+(g+d)*n;return x=2*r.γ1*r.γ1*x,{p:[v,h],pE:[_,x]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(144),o=n(6);t.evaluateDdx=function(e,t){const n=r.getDdx(e),i=o.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(145),o=n(6);t.evaluateDdy=function(e,t){const n=r.getDdy(e),i=o.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(146),u=n(147),s=n(148),l=n(149),c=n(150),a=n(151),f=n(152),d=n(153),p=n(154),g=n(155),v=n(156),h=n(157),_=n(158),x=n(159),m=n(160),b=n(161),P=n(162),M=n(163),E=n(24),y=n(83),w=n(142),O=Math.abs,C=[[i.getCoeffs1x1Quad,l.getCoeffs1x2Quad,f.getCoeffs1x3Quad],[u.getCoeffs2x1Quad,c.getCoeffs2x2Quad,d.getCoeffs2x3Quad],[s.getCoeffs3x1Quad,a.getCoeffs3x2Quad,p.getCoeffs3x3Quad]],I=[[g.getCoeffs1x1Exact_,_.getCoeffs1x2Exact_,b.getCoeffs1x3Exact_],[v.getCoeffs2x1Exact_,x.getCoeffs2x2Exact_,P.getCoeffs2x3Exact_],[h.getCoeffs3x1Exact_,m.getCoeffs3x2Exact_,M.getCoeffs3x3Exact_]];function S(e,t){let{coeffs:n,errBound:o}=C[e.length-2][t.length-2](e,t),i=()=>I[e.length-2][t.length-2](e,t),u=!0;for(let e=0;e<n.length;e++)if(O(n[e][1])-o[e]>0){u=!1;break}let s=!1;if(u){s=!0;let e=i();for(let t=0;t<e.length;t++)if(0!==r.sign(e[t])){s=!1;break}}if(!s)return{coeffs:n,errBound:o,getPsExact:()=>{let e=i(),t=[e];for(;e.length>1;)e=E.differentiateExact(t[t.length-1]),t.push(e);return t}}}function B(e,t){let n=S(e,t);if(void 0===n)return;let{coeffs:r,errBound:i,getPsExact:u}=n;return o.allRootsMultiWithErrBounds(r,i,u)}t.getIntersectionCoeffs=S,t.bezierBezierIntersectionImplicit=B,t.getOtherTs=function(e,t,n){if(void 0===n)return;if(0===n.length)return[];let r=B(t,e);if(void 0===r)return;if(0===r.length)return[];let o=r.map(t=>y.getIntervalBox(e,[t.tS,t.tE])),i=n.map(e=>y.getIntervalBox(t,[e.tS,e.tE])),u=[];for(let e=0;e<r.length;e++){let t=o[e];for(let o=0;o<n.length;o++){let s=i[o],l=w.intersectBoxes(t,s);if(void 0!==l){let t={ri:r[e],box:l,kind:1},i={ri:n[o],box:l,kind:1};u.push([t,i])}}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79),o=Number.EPSILON/2,i=Math.abs;function u([[e,t],[n,r],[u,s],[l,c]],[a,f]){let d=1-a,p=a*a,g=a*d,v=d*d,h=p*a,_=p*d,x=v*a,m=v*d,b=1-(f=(f-a)/(1-a)*(1+Number.EPSILON)),P=f*f,M=f*b,E=b*b,y=P*f,w=P*b,O=E*f,C=E*b,I=i(e),S=i(t),B=i(n),j=i(r),T=i(u),N=i(s),D=i(l),F=i(c),A=l*a+u*d,q=l*p+2*u*g+n*v;n=q*f+(e=l*h+e*m+3*(u*_+n*x))*b,u=A*P+e*E+2*q*M,l=l*y+e*C+3*(A*w+q*O);let L=D*a+T*d,Q=D*p+2*T*g+B*v;I=D*h+I*m+3*(T*_+B*x),B=Q*f+I*b,T=L*P+I*E+2*Q*M,D=D*y+I*C+3*(L*w+Q*O),I*=8*o,B*=11*o,T*=14*o,D*=16*o;let z=c*a+s*d,Y=c*p+2*s*g+r*v;r=Y*f+(t=c*h+t*m+3*(s*_+r*x))*b,s=z*P+t*E+2*Y*M,c=c*y+t*C+3*(z*w+Y*O);let R=F*a+N*d,X=F*p+2*N*g+j*v;S=F*h+S*m+3*(N*_+j*x),j=X*f+S*b,N=R*P+S*E+2*X*M,F=F*y+S*C+3*(R*w+X*O),S*=8*o,j*=11*o,N*=14*o,F*=16*o;let H=Math.min(e-I,n-B,u-T,l-D),V=Math.max(e+I,n+B,u+T,l+D);return[[H,Math.min(t-S,r-j,s-N,c-F)],[V,Math.max(t+S,r+j,s+N,c+F)]]}function s([[e,t],[n,r],[u,s]],[l,c]){let a=1-l,f=l*l,d=l*a,p=a*a,g=1-(c=(c-l)/(1-l)*(1+Number.EPSILON)),v=c*c,h=c*g,_=g*g,x=i(e),m=i(t),b=i(n),P=i(r),M=i(u),E=i(s),y=u*f+2*n*d+e*p,w=u*l+n*a;e=y,n=c*w+g*y;let O=M*f+2*b*d+x*p,C=M*l+b*a;x=O,b=c*C+g*O,M=v*(u=v*u+2*h*w+_*y)+2*h*C+_*O,x*=5*o,b*=8*o,M*=10*o;let I=s*f+2*r*d+t*p,S=s*l+r*a;t=I,r=c*S+g*I;let B=E*f+2*P*d+m*p,j=E*l+P*a;m=B,P=c*j+g*B,E=v*(s=v*s+2*h*S+_*I)+2*h*j+_*B,m*=5*o,P*=8*o,E*=10*o;let T=Math.min(e-x,n-b,u-M),N=Math.max(e+x,n+b,u+M);return[[T,Math.min(t-m,r-P,s-E)],[N,Math.max(t+m,r+P,s+E)]]}function l([[e,t],[n,r]],[u,s]){let l=1-u,c=1-(s=(s-u)/(1-u)*(1+Number.EPSILON)),a=i(e),f=i(t),d=i(n),p=i(r);n=n*s+(e=n*u+e*l)*c,a=d*u+a*l,d=d*s+a*c,a*=3*o,d*=6*o,r=r*s+(t=r*u+t*l)*c,f=p*u+f*l,p=p*s+f*c,f*=3*o,p*=6*o;let g=Math.min(e-a,n-d),v=Math.max(e+a,n+d);return[[g,Math.min(t-f,r-p)],[v,Math.max(t+f,r+p)]]}function c(e,t){let n=e[0],o=e[e.length-1];if(0===t)return[n,n];if(1===t)return[o,o];let{p:i,pE:u}=r.evalDeCasteljauWithErr(e,t);return[[i[0]-u[0],i[1]-u[1]],[i[0]+u[0],i[1]+u[1]]]}t.getIntervalBox=function(e,t){return t[0]!==t[1]?4===e.length?u(e,t):3===e.length?s(e,t):l(e,t):c(e,t[0])},t.getIntervalBox3=u,t.getIntervalBox2=s,t.getIntervalBox1=l,t.getIntervalBoxExactT=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),o=n(28),i=n(80),u=n(81),s=n(0),l=n(166),c=n(167),a=n(168);t.κ=function(e,t){let n=r.evaluateDx(e),s=o.evaluateDy(e),l=i.evaluateDdx(e),c=u.evaluateDdy(e);function a(e){let t=n(e),r=s(e),o=l(e);return(t*c(e)-r*o)/Math.sqrt(Math.pow(t*t+r*r,3))}return void 0===t?a:a(t)},t.compareCurvaturesAtInterface=function(e,t){let[n,r]=l.getDxyAt0(e),[o,i]=c.getDdxyAt0(e),[u,f]=l.getDxyAt0(t),[d,p]=c.getDdxyAt0(t),g=s.expansionDiff(s.twoProduct(n,i),s.twoProduct(r,o)),v=s.expansionDiff(s.twoProduct(u,p),s.twoProduct(f,d)),h=s.sign(g),_=s.sign(v);if(h!==_)return h-_;let x=s.fastExpansionSum(s.twoProduct(u,u),s.twoProduct(f,f)),m=s.fastExpansionSum(s.twoProduct(n,n),s.twoProduct(r,r)),b=s.expansionProduct(x,x),P=s.expansionProduct(b,x),M=s.expansionProduct(m,m),E=s.expansionProduct(M,m);if(0!==h||0!==_){let e=s.expansionProduct(g,g),t=s.expansionProduct(v,v),n=s.expansionProduct(e,P),r=s.expansionProduct(t,E),o=s.sign(s.expansionDiff(n,r));if(0!==o)return h>0?o:-o}let[y,w]=a.getDddxy(e),[O,C]=a.getDddxy(t),I=s.expansionDiff(s.twoProduct(n,w),s.twoProduct(r,y)),S=s.fastExpansionSum(s.twoProduct(n,o),s.twoProduct(r,i)),B=s.expansionDiff(s.twoProduct(u,C),s.twoProduct(f,O)),j=s.fastExpansionSum(s.twoProduct(u,d),s.twoProduct(f,p)),T=s.expansionDiff(s.expansionProduct(m,I),s.scaleExpansion(s.expansionProduct(g,S),3)),N=s.expansionDiff(s.expansionProduct(x,B),s.scaleExpansion(s.expansionProduct(v,j),3)),D=s.sign(T),F=s.sign(N);if(h!==_)return D-F;if(0===D&&0===F)return 0;let A=s.expansionProduct(T,T),q=s.expansionProduct(b,P),L=s.expansionProduct(N,N),Q=s.expansionProduct(M,E),z=s.expansionProduct(A,q),Y=s.expansionProduct(L,Q),R=s.sign(s.expansionDiff(z,Y));return D>0?R:-R}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(75),i=n(76),u=n(6),s=n(83),l=n(7),c=n(0),a=n(10),f=Math.abs,d=Number.EPSILON/2;let p=r.memoize((function(e){let t,n,r=e[0],i=e[e.length-1];if(r[0]<i[0]?(t={ts:[0,0],box:[r,r]},n={ts:[1,1],box:[i,i]}):(t={ts:[1,1],box:[i,i]},n={ts:[0,0],box:[r,r]}),2===e.length)return{minX:t,maxX:n};let u,l=o.getDx(e);u=4===e.length?h(l):g(l);for(let r=0;r<u.length;r++){let o=u[r],i=[o.r-o.rE,o.r+o.rE],l=s.getIntervalBox(e,i);l[0][0]<t.box[0][0]&&(t={ts:i,box:l}),l[1][0]>n.box[0][0]&&(n={ts:i,box:l})}return{minX:t,maxX:n}}));function g([e,t]){let n=-t/e,r=d*f(t/e);return n+r>0&&n-r<1?[{r:n,rE:r}]:[]}t.getXBoundsTight=p;let v=r.memoize((function(e){let t,n,r=e[0],o=e[e.length-1];if(r[1]<o[1]?(t={ts:[0,0],box:[r,r]},n={ts:[1,1],box:[o,o]}):(t={ts:[1,1],box:[o,o]},n={ts:[0,0],box:[r,r]}),2===e.length)return{minY:t,maxY:n};let u,l=i.getDy(e);u=4===e.length?h(l):g(l);for(let r=0;r<u.length;r++){let o=u[r],i=[o.r-o.rE,o.r+o.rE],l=s.getIntervalBox(e,i);l[0][1]<t.box[0][1]&&(t={ts:i,box:l}),l[1][1]>n.box[0][1]&&(n={ts:i,box:l})}return{minY:t,maxY:n}}));function h([e,t,n]){if(0===e)return g([t,n]);let r=t*t,o=r-4*e*n,i=d*r+4*d*f(e*n)+l.γ1*f(o);if(o<=-i)return[];let u,{est:s,err:a}=c.sqrtWithErr(o,i);u=t>=0?-t-s:-t+s;let p=a+l.γ1*f(u),{est:v,err:h}=c.divWithErr(u,2*e,p,0),{est:_,err:x}=c.divWithErr(2*n,u,0,p),m=[];return v+h>0&&v-h<1&&m.push({r:v,rE:h}),_+x>0&&_-x<1&&m.push({r:_,rE:x}),m}t.getYBoundsTight=v;let _=r.memoize((function(e){let t=u.allRoots(o.getDx(e),0,1),n=u.allRoots(i.getDy(e),0,1);t.push(0,1),n.push(0,1);let r,s,l,c,f=Number.POSITIVE_INFINITY,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){let o=t[n],i=a.evalDeCasteljauX(e,o);i<f&&(f=i,r=o),i>p&&(p=i,s=o)}for(let t=0;t<n.length;t++){let r=n[t],o=a.evalDeCasteljauY(e,r);o<d&&(d=o,l=r),o>g&&(g=o,c=r)}return{ts:[[r,l],[s,c]],box:[[f,d],[p,g]]}}));t.getBounds=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areBoxesIntersecting=function(e){return(t,n)=>{let[[r,o],[i,u]]=t,[[s,l],[c,a]]=n;return o>u&&([o,u]=[u,o]),l>a&&([l,a]=[a,l]),r>i&&([r,i]=[i,r]),s>c&&([s,c]=[c,s]),e?r<=c&&i>=s&&l<=u&&a>=o:r<c&&i>s&&l<u&&a>o}},t.areBoxesIntersectingQuad=function(e){return(t,n)=>{let[[r,o],[i,u]]=t,[[s,l],[c,a]]=n;return(o[1]>u[1]||o[1]===u[1]&&o[0]>u[0])&&([o,u]=[u,o]),(l[1]>a[1]||l[1]===a[1]&&l[0]>a[0])&&([l,a]=[a,l]),(r[1]>i[1]||r[1]===i[1]&&r[0]>i[0])&&([r,i]=[i,r]),(s[1]>c[1]||s[1]===c[1]&&s[0]>c[0])&&([s,c]=[c,s]),e?(r[1]<c[1]||r[1]===c[1]&&r[0]<=c[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>=s[0])&&(l[1]<u[1]||l[1]===u[1]&&l[0]<=u[0])&&(a[1]>o[1]||a[1]===o[1]&&a[0]>=o[0]):(r[1]<c[1]||r[1]===c[1]&&r[0]<c[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>s[0])&&(l[1]<u[1]||l[1]===u[1]&&l[0]<u[0])&&(a[1]>o[1]||a[1]===o[1]&&a[0]>o[0])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.makeSimpleX=function(e,t,n){let o=t.ps;if(0===e){o[0];return{x:{ri:{tS:e,tE:e,multiplicity:1},box:[o[0],o[0]],kind:n},curve:t}}if(1===e){let r=o[o.length-1];return{x:{ri:{tS:e,tE:e,multiplicity:1},box:[r,r],kind:n},curve:t}}let{p:i,pE:u}=r.evalDeCasteljauWithErr(o,e);return{x:{ri:{tS:e,tE:e,multiplicity:1},box:[[i[0]-u[0],i[1]-u[1]],[i[0]+u[0],i[1]+u[1]]],kind:n},curve:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.toGrid=function(e,t,n){let o=n-(t-Math.floor(Math.log2(Math.abs(e))))+1;return o<=0?0:n>=53?e:r.reduceSignificand(e,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.getClosestSquareDistanceToRect=function(e,t){let[[n,o],[i,u]]=e,[s,l]=t;return s<n?l<o?r.squaredDistanceBetween(e[0],t):l>u?r.squaredDistanceBetween([n,u],t):Math.pow(n-s,2):s>i?l<o?r.squaredDistanceBetween([i,o],t):l>u?r.squaredDistanceBetween(e[1],t):Math.pow(s-i,2):l<o?Math.pow(o-l,2):l>u?Math.pow(l-u,2):0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(96);function i(e,t,n,r){let o=t;do{o=o.next;let t=o===n?r:1;e.push({curve:o,ts:[0,t]})}while(o!==n)}t.getBoundaryPieceBeziers=function(e){let t=e[0],n=e[1],u=[],s=!0;do{if(!s){s=!0,t=t.prevOnCircle;continue}s=!1;let e=t.cp.pointOnShape,n=t.next.cp.pointOnShape;n.curve===e.curve&&r.isPosQuiteSharpCorner(e)&&r.isPosQuiteSharpCorner(n)||(n.curve===e.curve&&o.compareCps(t.next.cp,t.cp)>0?u.push({curve:e.curve,ts:[e.t,n.t]}):(u.push({curve:e.curve,ts:[e.t,1]}),t.cp.pointOnShape.curve.loop===t.next.cp.pointOnShape.curve.loop&&i(u,e.curve,n.curve,n.t))),t=t.next}while(t!==n);return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(60);t.isAnotherCpCloseby=function(e,t,n,i,u,s,l){const c=1e-4*s;let a=e.get(t.curve.loop),f=o.getNeighbouringPoints(a,t,i,u);if(!f[0])return!1;for(let e of f){let o=e.cp.pointOnShape,i=t.p,u=o.p;if(r.distanceBetween(i,u)>c)continue;let s=r.toUnitVector(r.fromTo(e.cp.pointOnShape.p,e.cp.circle.center)),l=r.toUnitVector(r.fromTo(i,n.center));if(r.dot(s,l)>.9986295347545738)return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(190);let i=r.memoize((function(e){let t,n,r,i,u=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(let a of e){let e=o.getLoopBounds(a);e.minX.p[0]<u&&(t=e.minX,u=e.minX.p[0]),e.maxX.p[0]>s&&(n=e.maxX,s=e.maxX.p[0]),e.minY.p[1]<l&&(r=e.minY,l=e.minY.p[1]),e.maxY.p[1]>c&&(i=e.maxY,c=e.maxY.p[1])}return{minX:t,minY:r,maxX:n,maxY:i}}));t.getShapeBounds=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeaves=function(e){let t=[];return e.getAllOnLoop().forEach((function(e){e.isTerminating()&&t.push(e)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseEdges=function(e,t){let n=e.getCpNodesOnCircle();for(;n.length;){let e=n.pop();t(e),e.isTerminating()||n.push(...e.getChildren())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(3),i=n(17);t.getBranches=function(e,t=1){for(;!e.isFullyTerminating();)e=e.next;let n=[],u=[e.prevOnCircle],s=[];for(;u.length;){let e=u.pop();s.push(e);let l=e.getChildren();if(e.isFullyTerminating()){s.length>1&&n.push(s),s=[];continue}if(1===l.length){u.push(l[0]);continue}if(l=l.filter(e=>!e.isTerminating()),0===l.length){n.push(s),s=[];continue}if(l.length>1){n.push(s),s=[],u.push(...l);continue}let c=o.toUnitVector(r.tangent(i.getCurveToNext(e.next.prevOnCircle),0)),a=o.toUnitVector(r.tangent(i.getCurveToNext(l[0]),0)),f=o.cross(c,a);Math.abs(Math.asin(f)*(180/Math.PI))>t&&(n.push(s),s=[]),u.push(l[0])}return s.length&&n.push(s),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.compareCps=function(e,t){let n=r.comparePoss(e.pointOnShape,t.pointOnShape);if(void 0!==n)return 0!==n?n:(n=e.order-t.order,0!==n?n:e.order2-t.order2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qAddQuad=function([e,t],[n,r]){let o=t+r,i=o-t,u=e+n,s=u-e,l=t-(o-i)+(r-i)+u,c=o+l,a=e-(u-s)+(n-s)+(l-(c-o)),f=c+a;return[a-(f-c),f]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(18);t.qMultQuad=function([e,t],[n,i]){let[u,s]=r.twoProduct(t,i),l=u+(t*n+e*i);return o.fastTwoSum(s,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(18);t.qMultDouble1=function(e,[t,n]){let[i,u]=r.twoProduct(n,e),s=t*e,[l,c]=o.fastTwoSum(u,s),a=l+i,[f,d]=o.fastTwoSum(c,a);return[f,d]},t.qMultDouble2=function(e,[t,n]){let[i,u]=r.twoProduct(n,e),s=i+t*e;return o.fastTwoSum(u,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(99);t.qDivQuad=function([e,t],[n,i]){let u=t/i,[s,l]=o.qMultDouble1(u,[n,i]),c=(t-l+(e-s))/i;return r.fastTwoSum(u,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),o=n(102),i=n(12),u=n(105);t.toBitlength=function(e,t){if(e=i.compress(e),0===r.sign(e))return[0];let n=o.msbExponent(e[e.length-1]),s=n,l=e.length-1;for(;l>0;){let r=o.msbExponent(e[l-1]);if(n-r>t)break;s=r,l--}let c=Math.min(t-(n-s),53),a=e[l];a=u.reduceSignificand(a,c);let f=e.slice(l);return f[0]=a,f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(21);t.msbExponent=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=o.exponent(e);return r.getHighestSetBit(e)-52+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(61);t.significand=function(e){return r.parseDouble(e).significand}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(62);function o(e){let t=e.toString(2);for(;t.length<8;t="0"+t);return t}t.doubleToBinaryString=function(e){return r.doubleToOctets(e).map(o).join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceSignificand=function(e,t){let n=53-t,r=(Math.pow(2,n)+1)*e;return r-(r-e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(e,t){let n=e.length,r=t.length,o=0,i=0,u=[];for(;o<n&&i<r;)0!==e[o]?0!==t[i]?Math.abs(e[o])<=Math.abs(t[i])?(u.push(e[o]),o++):(u.push(t[i]),i++):i++:o++;for(;o<n;)u.push(e[o]),o++;for(;i<r;)u.push(t[i]),i++;return 0===u.length?[0]:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(108);t.isAdjacent=function(e,t){return r.isOverlapping(e,t)||r.isOverlapping(e,2*t)||r.isOverlapping(2*e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(21);function i(e,t){return!u(e,t)}function u(e,t){if(0===e||0===t)return!0;Math.abs(t)>Math.abs(e)&&([e,t]=[t,e]);let n=r.getLowestSetBit(e),i=r.getHighestSetBit(t);return n+(o.exponent(e)-o.exponent(t))>i}t.isOverlapping=i,t.isNonOverlapping=u,t.isNonOverlappingAll=function(e){for(let t=1;t<e.length;t++)if(i(e[t-1],e[t]))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.twoDiff=function(e,t){let n=e-t,r=e-n;return[e-(n+r)+(r-t),n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43),o=n(16),i=n(42),u=n(12);t.calculateProduct=function(e){let t=e[0];for(let n=1;n<e.length;n++){let u=e[n];t=1==u.length?1===t.length?o.twoProduct(t[0],u[0]):i.scaleExpansion(t,u[0]):1===t.length?i.scaleExpansion(u,t[0]):r.expansionProduct(u,t)}return u.compress(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.octetsToDouble=function(e){var t=new ArrayBuffer(8);return new Uint8Array(t).set(e),new DataView(t).getFloat64(0,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(243),o=n(77),i=n(3);function u(e,t){if(e[0]===e[1])return 0;let[[n,i],[u,s],[l,c],[a,f]]=t;if(n===u&&u===l&&l===a&&i===s&&s===c&&c===f)return 0;const d=r.ds(t);return o.gaussQuadrature(d,e)}function s(e,t){if(e[0]===e[1])return 0;let[[n,i],[u,s],[l,c]]=t;if(n===u&&u===l&&i===s&&s===c)return 0;const a=r.ds(t);return o.gaussQuadrature(a,e)}function l(e,t){let[n,r]=e;if(n===r)return 0;let[[o,u],[s,l]]=t;if(o===s&&u===l)return 0;let c=[o+n*(s-o),u+n*(l-u)],a=[o+r*(s-o),u+r*(l-u)];return i.distanceBetween(c,a)}t.length=function(e,t){let n=[,,l,s,u];function r(t){return n[t.length](e,t)}return void 0===t?r:r(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(0);t.add=function(e,t){let n=e.length-1,o=t.length-1,i=n-o,u=i<0?+i:0,s=i>0?-i:0,l=Math.max(n,o),c=[];for(let n=0;n<l+1;n++){let r=e[n+u]||0,o=t[n+s]||0;c.push(r+o)}return r.removeLeadingZeros(c)},t.addExact=function(e,t){let n=e.length-1,i=t.length-1,u=n-i,s=u<0?+u:0,l=u>0?-u:0,c=Math.max(n,i),a=[];for(let n=0;n<c+1;n++){let r=e[n+s]||[0],i=t[n+l]||[0];a.push(o.fastExpansionSum(r,i))}return r.expRemoveLeadingZeros(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44),o=n(0);t.negate=function(e){return r.multiplyByConst(-1,e)},t.expNegate=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(o.negativeOf(e[n]));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(246),o=n(116),i=n(27),u=n(0),s=n(249);t.subresultantPseudoRemainderSequence=function(e,t,n){let l=[e,t],c=[i.degree(e),i.degree(t)],a=[[1]],f=[[1]],d=2;for(;;){a.push(l[d-1][0]);let e=c[d-2]-c[d-1],t=n?-1:(e+1)%2==0?1:-1,p=u.expansionProduct(a[d-2],u.intPow(f[d-2],e)),g=1-e,v=u.intPow(a[d-1],e),h=u.intPow(f[d-2],Math.abs(g));f.push(g<0?u.expansionDiv(v,h,0):u.expansionProduct(v,h));let _=r.prem(l[d-2],l[d-1],n).r.map(e=>u.expansionDiv(e,p,0));if(_=t>0?_:_.map(u.negativeOf),c.push(i.degree(_)),o.expIsZero(_))return l;if(l.push(_),s.expIsConst(_))return l;d++}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.expIsZero=function(e){return 0===e.length||1===e.length&&0===r.sign(e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HornerSum=function(e,t,n){let r=e[0]+t[0];for(let o=1;o<e.length;o++)r=e[o]+t[o]+r*n;return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(255);t.SumK=function(e,t){for(let n=1;n<t;n++)e=r.vecSum(e);let n=e[0];for(let t=1;t<e.length;t++)n+=e[t];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=Math.sign;t.signChanges=function(e){let t=e.length-1,n=0,r=o(e[0]);for(let i=1;i<t+1;i++){let t=o(e[i]);t!==r&&0!==t&&(n++,r=t)}return n},t.expSignChanges=function(e){let t=e.length-1,n=0,i=o(r.sign(e[0]));for(let u=1;u<t+1;u++){let t=o(r.sign(e[u]));t!==i&&0!==t&&(n++,i=t)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invert=function(e){return e.slice().reverse()},t.expInvert=function(e){return e.slice().reverse()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.changeVariablesLinear=function(e,t,n){let r=e.length-1,o=[];for(let e=0;e<r+1;e++)o.push(new Array(r+1).fill(0));o[0][0]=1;for(let e=1;e<=r;e++){o[0][e]=n*o[0][e-1];for(let r=1;r<=e;r++)o[r][e]=n*o[r][e-1]+t*o[r-1][e-1]}let i=new Array(r+1).fill(0);for(let t=0;t<=r;t++){i[r-t]=0;for(let n=t;n<=r;n++){let u=o[t][n]*e[r-n];i[r-t]+=u}}return i},t.changeVariablesLinearExactExp=function(e,t,n){let o=e.length-1,i=[];for(let e=0;e<o+1;e++)i.push(new Array(o+1).fill([0]));i[0][0]=[1];for(let e=1;e<=o;e++){i[0][e]=r.expansionProduct(n,i[0][e-1]);for(let o=1;o<=e;o++)i[o][e]=r.fastExpansionSum(r.expansionProduct(n,i[o][e-1]),r.expansionProduct(t,i[o-1][e-1]))}let u=new Array(o+1).fill([0]);for(let t=0;t<=o;t++){u[o-t]=[0];for(let n=t;n<=o;n++){let s=r.expansionProduct(i[t][n],e[o-n]);u[o-t]=r.fastExpansionSum(u[o-t],s)}}return u},t.changeVariablesLinearExact=function(e,t,n){let o=e.length-1,i=[];for(let e=0;e<o+1;e++)i.push(new Array(o+1).fill([0]));i[0][0]=[1];for(let e=1;e<=o;e++){i[0][e]=r.scaleExpansion2(n,i[0][e-1]);for(let o=1;o<=e;o++)i[o][e]=r.fastExpansionSum(r.scaleExpansion2(n,i[o][e-1]),r.scaleExpansion2(t,i[o-1][e-1]))}let u=new Array(o+1).fill([0]);for(let t=0;t<=o;t++){u[o-t]=[0];for(let n=t;n<=o;n++){let s=r.expansionProduct(i[t][n],e[o-n]);u[o-t]=r.fastExpansionSum(u[o-t],s)}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.reflectAboutYAxis=function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n},t.expReflectAboutYAxis=function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=r.negativeOf(n[e]));return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),o=n(46),i=n(44),u=n(68),s=n(115);t.sturmChainExact=function(e){let t=r.differentiateExact(e);return s.subresultantPseudoRemainderSequence(e,t,!0)},t.sturmChain=function(e){function t(e,t){let n=e[1]/e[0]-t[1]/t[0],r=e[0]/t[0],s=o.multiply(i.multiplyByConst(r,t),[1,n]);return u.subtract(s,e)}let n=[];n.push(e),n.push(r.differentiate(e));let s=1;for(;n[s].length-1>0;){let e=t(n[s-1],n[s]);for(;n[s].length-e.length<1;)e.shift();n.push(e),s++}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quadraticRoots=function(e){let t,n,[r,o,i]=e,u=o*o-4*r*i;return u<0?[]:0===u?[-o/(2*r)]:(u=Math.sqrt(u),o>=0?(t=(-o-u)/(2*r),n=2*i/(-o-u)):(t=2*i/(-o+u),n=(-o+u)/(2*r)),t<n?[t,n]:[n,t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brent=function(e,t,n){if(t===n)return t;let r,o=e(t),i=e(n);if(o*i>0)throw new Error("Root not bracketed");if(Math.abs(o)<Math.abs(i)){r=t,t=n,n=r;let e=o;o=i,i=e}r=t;let u,s=!0;for(;;){let l,c=2*Number.EPSILON*Math.abs(n),a=e(r);if(o!==a&&i!==a){let e=o-a,u=o-i,s=i-a;l=((t*i*s-n*o*e)*a+r*o*u*i)/(u*e*s)}else l=n-i*((n-t)/(i-o));let f=(3*t+n)/4,d=Math.abs(n-r),p=Math.abs(l-n),g=Math.abs(r-u);!(l>f&&l<n||l<f&&l>n)||s&&(p>=d/2||d<c)||!s&&(p>=g/2||g<c)?(l=(t+n)/2,s=!0):s=!1;let v=e(l);if(u=r,r=n,o*v<0?n=l:t=l,Math.abs(o)<Math.abs(i)){let e=t;t=n,n=e}if(0===i)return n;if(0===v)return l;if(Math.abs(t-n)<=c)return n;o=e(t),i=e(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(114),o=n(266),i=n(267),u=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];function s(e){let t=e.length-1;if(t<1)return 0;e[0]<0&&(e=r.negate(e));let n=[];for(let e=0;e<t;e++)n.push(1);let o=0;for(let r=0;r<=t;r++){if(e[r]>=0)continue;let t=Number.POSITIVE_INFINITY,i=!1;for(let o=0;o<r;o++){if(e[o]<=0)continue;let s,l=n[o];s=l>20?Math.pow(2,l):u[l];let c=Math.pow(-e[r]/(e[o]/s),1/(r-o));n[o]++,t>c&&(t=c),i=!0}i&&o<t&&(o=t)}return o}t.positiveRootUpperBound_LMQ=s;let l=o.upperToLowerBound(s);t.positiveRootLowerBound_LMQ=l;let c=i.positiveToNegativeBound(s);t.negativeRootUpperBound_LMQ=c;let a=o.upperToLowerBound(c);t.negativeRootLowerBound_LMQ=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),o=n(49),i=n(50),u=n(272),s=n(273),l=n(129),c=Math.abs;function a(e){let t=[],n=e[0],r={tS:n.tS,tE:n.tE,multiplicity:n.multiplicity};for(let n=0;n<e.length-1;n++){let o=e[n],i=e[n+1];o.tE!==i.tS?(t.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return t.push(r),console.log("joined"),t}t.allRootsMultiWithErrBounds=function(e,t,n,f=0,d=1){let p=2*Number.EPSILON,g={ps:void 0};n||(n=()=>{let t=e,n=[t];for(;t.length>1;)t=r.differentiateExact(n[n.length-1]),n.push(t);return n});let v,h,_=u.transposePoly(e),x=0,m=0;v=0,h=!1;do{if(x=h?i.HornerExact(g.ps[0],f):o.evalK1MultiWithErrBounds(_,t,f).r̂,0===x){if(v++,v>=3&&!h){h=!0,g.ps=g.ps||n();continue}f-=p}}while(0===x);v=0,h=!1;do{if(m=h?i.HornerExact(g.ps[0],d):o.evalK1MultiWithErrBounds(_,t,d).r̂,0===m){if(v++,v>=3&&!h){h=!0,g.ps=g.ps||n();continue}d+=p}}while(0===m);let b=[{p:e,pE:t}];for(let t=0;t<e.length-1;t++)b.push(r.differentiateQuadWithError(b[t]));let P,M=[],E=e.length-1,y=c(b[E].p[0][1]);for(let t=1;t<e.length;t++){let{p:e,pE:n}=b[E-t],r=u.transposePoly(e);M=w(r,n,M,p,E-t),P=y,y=0;let o=r[0];for(let t=0;t<e.length;t++)y+=c(o[t])}return M;function w(e,t,r,o,i){let u=[],c=s.evalAdaptive(e,t,f,g,n,i);if(!r.length){let r=s.evalAdaptive(e,t,d,g,n,i);if(c*r>=0)return[];let[u,a]=l.refineMultiWithErrBounds(e,t,f,d,c,r,g,n,i,o);return[{tS:u,tE:a,multiplicity:1}]}let p=r[0].tS,v=s.evalAdaptive(e,t,p,g,n,i);if(c*v>0);else if(c*v<0){let[r,s]=l.refineMultiWithErrBounds(e,t,f,p,c,v,g,n,i,o);u.push({tS:r,tE:s,multiplicity:1})}let h=f,_=c,x=p,m=v;for(let c=0;c<r.length;c++){let a=r[c+1],f=r[c];p=x,h=r[c].tE,x=a?a.tS:d;let b=_;v=m,_=s.evalAdaptive(e,t,h,g,n,i),m=s.evalAdaptive(e,t,x,g,n,i);let M=!1;if(v*_>0)if(_*m>0)h!==p&&f.multiplicity%2==1&&(M=!0);else if(_*m<0){h!==p&&f.multiplicity%2==1&&(M=!0);let[r,s]=l.refineMultiWithErrBounds(e,t,h,x,_,m,g,n,i,o);u.push({tS:r,tE:s,multiplicity:1})}else h!==p&&f.multiplicity%2==1&&(M=!0);else if(v*_<0){if(u.push({tS:f.tS,tE:f.tE,multiplicity:3}),_*m<0){let[r,s]=l.refineMultiWithErrBounds(e,t,h,x,_,m,g,n,i,o);u.push({tS:r,tE:s,multiplicity:1})}}else if(0===_)0===v?u.push({tS:f.tS,tE:f.tE,multiplicity:f.multiplicity+1}):v*m>0?u.push({tS:f.tS,tE:f.tE,multiplicity:2}):u.push({tS:f.tS,tE:f.tE,multiplicity:3});else{if(_*m<0){let[r,s]=l.refineMultiWithErrBounds(e,t,h,x,_,m,g,n,i,o);u.push({tS:r,tE:s,multiplicity:1})}b*_>0?u.push({tS:f.tS,tE:f.tE,multiplicity:2}):u.push({tS:f.tS,tE:f.tE,multiplicity:3})}if(M){let e=_>0?Math.min(v,_):Math.max(v,_),t=P*(2*o);(e+(_>0?2*-t*o:2*t*o))*_<0&&u.push({tS:f.tS,tE:f.tE,multiplicity:2})}}for(let e=0;e<u.length-1;e++){let t=u[e],n=u[e+1];if(t.tE===n.tS)return a(u)}return u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.abs,o=Number.EPSILON/2;t.hornerWithRunningError=function(e,t){let n=e[0],i=r(n)/2;for(let o=1;o<e.length;o++)n=n*t+e[o],i=i*r(t)+r(n);return i=o*(2*i-r(n)),[n,i]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49),o=n(50);let i=Number.EPSILON,u=Math.abs;t.refineMultiWithErrBounds=function(e,t,n,s,l,c,a,f,d,p=2*i){let g=!1,v=n,h=s,_=v,x=l,m=h-v,b=m;for(;;){u(x)<u(c)&&(v=h,h=_,_=v,l=c,c=x,x=l);let i=.5*(_-h);if(u(i)<=p)return h<_?[h,_]:[_,h];if(u(m)<p||u(l)<=u(c))m=i,b=m;else{let e,t,n=c/l;if(v===_)e=2*i*n,t=1-n;else{t=l/x;let r=c/x;e=n*(2*i*t*(t-r)-(h-v)*(r-1)),t=(t-1)*(r-1)*(n-1)}0<e?t=-t:e=-e,n=m,m=b,2*e<3*i*t-u(p*t)&&e<u(.5*n*t)?b=e/t:(m=i,b=m)}if(v=h,l=c,p<u(b)?h+=b:0<i?h+=p:h-=p,0===(c=g?o.HornerExact(a.ps[d],h):r.evalK1MultiWithErrBounds(e,t,h).r̂)){if(g)return[h,h];let i=Math.max(n,h-p),u=Math.min(s,h+p);if(r.evalK1MultiWithErrBounds(e,t,i).r̂*r.evalK1MultiWithErrBounds(e,t,u).r̂!=0)return[i,u];if(g=!0,a.ps=a.ps||f(),0===(c=o.HornerExact(a.ps[d],h)))return console.log("d",0),[h,h]}(0<c&&0<x||c<=0&&x<=0)&&(_=v,x=l,m=h-v,b=m)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),o=n(0);t.fromRoots=function(e){let t=[1];for(let n=0;n<e.length;n++)t=r.multiply(t,[1,-e[n]]);return t},t.fromRootsExact=function(e){let t=[[1]];for(let n=0;n<e.length;n++)t=r.multiplyExact([t,[[1],[-e[n]]]]);return t.map(o.compress)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(132),o=n(47),i=n(45);t.maxAbsCoeffPolyEval=function(e,t){return e=r.absCoeff(e),o.Horner(e,Math.abs(t))*(1+i.γ1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.absCoeff=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(Math.abs(e[n]));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71),o=n(72),i=n(283),u=n(73),s=n(284),l=n(285),c=n(286),a=n(287),f=n(288),d=n(135),p=n(74),g=n(289),v=n(134),h=n(292);let _={circle:r.circle,crossHair:o.crossHair,dot:i.dot,line:u.line,rect:s.rect,beziers:f.beziers,bezier:p.bezier,bezierPiece:g.bezierPiece,quadBezier:v.quadBezier,cubicBezier:d.cubicBezier,polygon:l.polygon,loop:c.loop,polyline:a.polyline,text:h.text};t.drawFs=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.quadBezier=function(e,t,n=r.DEFAULT_CLASS,i){let[[u,s],[l,c],[a,f]]=t,d=document.createElementNS(o.XMLNS,"path");return d.setAttributeNS(null,"d",`M${u} ${s} Q${l} ${c} ${a} ${f}`),n&&d.setAttributeNS(null,"class",n),e.appendChild(d),i&&setTimeout(()=>d.remove(),i),[d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15),i=n(72);t.cubicBezier=function(e,t,n=r.DEFAULT_CLASS,u){let[[s,l],[c,a],[f,d],[p,g]]=t;if(s===p&&c===p&&f===p&&l===g&&a===g&&d===g)return i.crossHair(e,[s,l],n,.2,u);let v=document.createElementNS(o.XMLNS,"path");return v.setAttributeNS(null,"d",`M${s} ${l} C${c} ${a} ${f} ${d} ${p} ${g}`),v.setAttributeNS(null,"class",n),e.appendChild(v),u&&setTimeout(()=>v.remove(),u),[v]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateBezier=function(e,t){let n=1-t;if(4===e.length){let[[r,o],[i,u],[s,l],[c,a]]=e;return[r*Math.pow(n,3)+3*i*Math.pow(n,2)*t+3*s*n*Math.pow(t,2)+c*Math.pow(t,3),o*Math.pow(n,3)+3*u*Math.pow(n,2)*t+3*l*n*Math.pow(t,2)+a*Math.pow(t,3)]}if(3===e.length){let[[r,o],[i,u],[s,l]]=e;return[r*Math.pow(n,2)+2*i*n*t+s*Math.pow(t,2),o*Math.pow(n,2)+2*u*n*t+l*Math.pow(t,2)]}if(2===e.length){let[[r,o],[i,u]]=e;return[r*n+i*t,o*n+u*t]}return[NaN,NaN]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRootExact=function(e){return{tS:e,tE:e,multiplicity:1}},t.mid=function(e){return(e.tS+e.tE)/2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297),o=n(298);t.toCubic=function(e){return 2===e.length?r.linearToCubic(e):3===e.length?o.quadraticToCubic(e):4===e.length?e:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29);t.from0ToT=function(e,t){return r.splitAt(e,t)[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29);t.fromTTo1=function(e,t){return r.splitAt(e,t)[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTangentPolyFromPoint=function(e,t){return 4===e.length?function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,[a,f]=t,d=n-a,p=o-a,g=u-a,v=l-a,h=r-f,_=i-f,x=s-f,m=c-f,b=d*d,P=6*d*p,M=6*g*v,E=h*h,y=6*h*_,w=6*x*m,O=6*p*v+9*g*g,C=2*d*v+18*p*g,I=6*d*g+9*p*p,S=6*_*m+9*x*x,B=2*h*m+18*_*x,j=6*h*x+9*_*_;return[6*(v*v-M+O-C+I-P+b+(m*m-w+S-B+j-y+E)),5*(M-2*(O+2*I+3*b)+3*C+5*P+(w-2*(S+2*j+3*E)+3*B+5*y)),4*(O-3*(C-2*I)-5*(2*P-3*b)+(S-3*(B-2*j)-5*(2*y-3*E))),3*(C-2*(2*I-5*(P-2*b))+(B-2*(2*j-5*(y-2*E)))),2*(I-5*(P-3*b)+(j-5*(y-3*E))),P-6*b+(y-6*E)]}(e,t):3===e.length?function(e,t){let[[n,r],[o,i],[u,s]]=e,[l,c]=t,a=n-l,f=o-l,d=u-l,p=r-c,g=i-c,v=s-c,h=a*a,_=a*f,x=f*d,m=p*p,b=p*g,P=g*v,M=p*v+g*g*2,E=a*d+f*f*2;return[v*v+2*M-4*(P+b)+m+d*d+2*E-4*(x+_)+h,3*(P-M+3*b-m+x-E+3*_-h),M-3*(2*b-m)+E-3*(2*_-h),b-m+_-h]}(e,t):2===e.length?function(e,t){let[[n,r],[o,i]]=e,[u,s]=t,l=n-u,c=o-u,a=r-s,f=i-s,d=l*c+a*f,p=a*a+l*l;return[c*c+f*f-2*d+p,d-p]}(e,t):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.min,o=Math.max;t.intersectBoxes=function(e,t){let[[n,i],[u,s]]=e,[[l,c],[a,f]]=t;if(n>u&&([n,u]=[u,n]),l>a&&([l,a]=[a,l]),i>s&&([i,s]=[s,i]),c>f&&([c,f]=[f,c]),n<=a&&u>=l&&c<=s&&f>=i)return[[o(n,l),o(i,c)],[r(u,a),r(s,f)]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(33),i=n(7),u=n(0),s=n(34),l=n(35),c=n(36),a=n(37),f=n(38),d=Math.abs,p=u.twoProduct,g=u.qMultDouble2,v=u.qMultQuad,h=u.qAddQuad,_=u.scaleExpansion2,x=u.expansionProduct,m=u.fastExpansionSum;t.isPointOnBezierExtension=function(e,t){return 4===e.length?function(e,t){let[n,l]=t;{let{coeffs:{"vₓₓₓ":t,"vₓₓᵧ":o,"vₓᵧᵧ":u,"vᵧᵧᵧ":s,"vₓₓ":c,"vₓᵧ":a,"vᵧᵧ":f,"vₓ":p,"vᵧ":g,v:v},errorBound:{"vₓₓₓ_":h,"vₓₓᵧ_":_,"vₓᵧᵧ_":x,"vᵧᵧᵧ_":m,"vₓₓ_":b,"vₓᵧ_":P,"vᵧᵧ_":M,"vₓ_":E,"vᵧ_":y,v_:w}}=r.getImplicitForm3(e),O=d(t),C=d(o),I=d(u),S=d(s),B=d(c),j=d(a),T=d(f),N=d(n),D=n*n,F=D,A=D*n,q=d(A),L=F*N+q,Q=d(l),z=l*l,Y=z,R=z*l,X=d(R),H=Y*Q+X,V=D*l,k=d(V),G=F*Q+k,W=n*z,U=d(W),$=N*Y+U,K=n*l,Z=d(K),J=t*A,ee=h*q+O*L+d(J),te=o*V,ne=_*k+C*G+d(te),re=u*W,oe=x*U+I*$+d(re),ie=s*R,ue=m*X+S*H+d(ie),se=c*D,le=(b+B)*F+d(se),ce=a*K,ae=(P+j)*Z+d(ce),fe=f*z,de=(M+T)*Y+d(fe),pe=p*n,ge=E*N+d(pe),ve=g*l,he=y*Q+d(ve),_e=J+te,xe=re+ie,me=_e+xe,be=se+ce,Pe=be+fe,Me=me+Pe,Ee=pe+ve,ye=Ee+v,we=Me+ye,Oe=ee+ne+d(_e)+(oe+ue+d(xe))+d(me)+(le+ae+d(be)+de+d(Pe))+d(Me)+(ge+he+d(Ee)+w+d(ye))+d(we);if(i.γ1*Oe<d(we))return!1}{let{coeffs:{"vₓₓₓ":t,"vₓₓᵧ":r,"vₓᵧᵧ":s,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":_,"vₓ":x,"vᵧ":m,v:b},errorBound:{"vₓₓₓ_":P,"vₓₓᵧ_":M,"vₓᵧᵧ_":E,"vᵧᵧᵧ_":y,"vₓₓ_":w,"vₓᵧ_":O,"vᵧᵧ_":C,"vₓ_":I,"vᵧ_":S,v_:B}}=o.getImplicitForm3Quad(e),j=d(t[1]),T=d(r[1]),N=d(s[1]),D=d(c[1]),F=(d(a[1]),d(f[1]),d(_[1]),d(n)),A=p(n,n),q=d(A[1]),L=g(n,A),Q=d(L[1]),z=d(l),Y=p(l,l),R=d(Y[1]),X=g(l,Y),H=d(X[1]),V=g(l,A),k=d(V[1]),G=g(n,Y),W=d(G[1]),U=p(n,l),$=d(U[1]),K=v(t,L),Z=(P+j)*Q+2*d(K[1]),J=v(r,V),ee=(M+T)*k+2*d(J[1]),te=v(s,G),ne=(E+N)*W+2*d(te[1]),re=v(c,X),oe=(y+D)*H+2*d(re[1]),ie=v(a,A),ue=w*q+2*d(ie[1]),se=v(f,U),le=O*$+2*d(se[1]),ce=v(_,Y),ae=C*R+2*d(ce[1]),fe=g(n,x),de=I*F+d(fe[1]),pe=g(l,m),ge=S*z+d(pe[1]),ve=h(K,J),he=Z+ee+d(ve[1]),_e=h(te,re),xe=ne+oe+d(_e[1]),me=h(ve,_e),be=he+xe+d(me[1]),Pe=h(ie,se),Me=ue+le+d(Pe[1]),Ee=h(Pe,ce),ye=Me+ae+d(Ee[1]),we=h(me,Ee),Oe=be+ye+d(we[1]),Ce=h(fe,pe),Ie=de+ge+d(Ce[1]),Se=h(Ce,b),Be=Ie+B+d(Se[1]),je=h(we,Se),Te=Oe+Be+d(je[1]);if(i.γγ3*Te<d(u.estimate(je)))return!1}{let{"vₓₓₓ":t,"vₓₓᵧ":r,"vₓᵧᵧ":o,"vᵧᵧᵧ":i,"vₓₓ":c,"vₓᵧ":a,"vᵧᵧ":f,"vₓ":d,"vᵧ":g,v:v}=s.getImplicitForm3Exact_(e),h=p(n,n),b=_(n,h),P=p(l,l),M=_(l,P),E=_(l,h),y=_(n,P),w=p(n,l),O=x(t,b),C=x(r,E),I=x(o,y),S=x(i,M),B=x(c,h),j=x(a,w),T=x(f,P),N=_(n,d),D=_(l,g),F=m(O,C),A=m(I,S),q=m(F,A),L=m(B,j),Q=m(L,T),z=m(q,Q),Y=m(N,D),R=m(Y,v),X=m(z,R);return 0===u.sign(X)}}(e,t):3===e.length?function(e,t){let[n,r]=t;{let{coeffs:{"vₓₓ":t,"vₓᵧ":o,"vᵧᵧ":u,"vₓ":s,"vᵧ":c,v:a},errorBound:{"vₓₓ_":f,"vₓᵧ_":p,"vᵧᵧ_":g,"vₓ_":v,"vᵧ_":h,v_:_}}=l.getImplicitForm2(e),x=d(t),m=d(o),b=d(u),P=d(n),M=n*n,E=M,y=d(r),w=r*r,O=w,C=n*r,I=d(C),S=t*M,B=(f+x)*E+d(S),j=o*C,T=(p+m)*I+d(j),N=u*w,D=(g+b)*O+d(N),F=s*n,A=v*P+d(F),q=c*r,L=h*y+d(q),Q=S+j,z=Q+N,Y=F+q,R=z+Y,X=R+a,H=B+T+d(Q)+D+d(z)+(A+L+d(Y))+d(R)+_+d(X);if(i.γ1*H<d(X))return!1}{let{coeffs:{"vₓₓ":t,"vₓᵧ":o,"vᵧᵧ":s,"vₓ":l,"vᵧ":a,v:f},errorBound:{"vₓ_":_,"vᵧ_":x,v_:m}}=c.getImplicitForm2Quad(e),b=d(n),P=p(n,n),M=d(r),E=p(r,r),y=p(n,r),w=v(t,P),O=2*d(w[1]),C=v(o,y),I=2*d(C[1]),S=v(s,E),B=2*d(S[1]),j=g(n,l),T=_*b+d(j[1]),N=g(r,a),D=x*M+d(N[1]),F=h(w,C),A=O+I+d(F[1]),q=h(F,S),L=A+B+d(q[1]),Q=h(j,N),z=T+D+d(Q[1]),Y=h(q,Q),R=L+z+d(Y[1]),X=h(Y,f),H=R+m+d(X[1]);if(i.γγ3*H<d(u.estimate(X)))return!1}{let{"vₓₓ":t,"vₓᵧ":o,"vᵧᵧ":i,"vₓ":s,"vᵧ":l,v:c}=a.getImplicitForm2Exact_(e),f=p(n,n),d=p(r,r),g=p(n,r),v=x(t,f),h=x(o,g),b=x(i,d),P=_(n,s),M=_(r,l),E=m(v,h),y=m(E,b),w=m(P,M),O=m(w,c),C=m(y,O);return 0===u.sign(C)}}(e,t):function(e,t){let[n,r]=t,{coeffs:{"vₓ":o,"vᵧ":s,v:l}}=f.getImplicitForm1Quad(e),c=p(n,o),a=p(r,s),g=h(c,a),v=d(g[1]),_=h(g,l),b=v+d(_[1]);return!(i.γγ3*b<d(u.estimate(_)))&&(g=x(c,a),_=m(g,l),0===u.sign(_))}(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdx=function(e){if(4===e.length){let[[t],[n],[r],[o]]=e;return[6*(o+3*(n-r)-t),6*(r-2*n+t)]}if(3===e.length){let[[t],[n],[r]]=e;return[2*(r-2*n+t)]}if(2===e.length)return[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdy=function(e){if(4===e.length){let[[,t],[,n],[,r],[,o]]=e;return[6*(o+3*(n-r)-t),6*(r-2*n+t)]}if(3===e.length){let[[,t],[,n],[,r]]=e;return[2*(r-2*n+t)]}if(2===e.length)return[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(38),i=n(1),u=r.twoProduct,s=r.qAddQuad;t.getCoeffs1x1Quad=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":r,v:l}}=o.getImplicitForm1Quad(e),[[c,a],[f,d]]=i.getXY(t),p=u(c,n),g=u(f,r),v=s(p,g),h=u(a,n),_=u(d,r),x=s(h,_);return{coeffs:[v,s(x,l)],errBound:[0,0]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(36),u=n(1);let s=Math.abs;const l=o.twoProduct,c=o.qMultBy2,a=o.qMultDouble2,f=o.qMultQuad,d=o.qAddQuad;t.getCoeffs2x1Quad=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":o,"vᵧᵧ":p,"vₓ":g,"vᵧ":v,v:h},errorBound:{"vₓ_":_,"vᵧ_":x,v_:m}}=i.getImplicitForm2Quad(e),[[b,P],[M,E]]=u.getXY(t),y=n[1],w=o[1],O=p[1],C=g[1],I=v[1],S=h[1],B=P*P,j=P*b,T=P*E,N=P*M,D=b*b,F=b*E,A=b*M,q=E*E,L=E*M,Q=M*M,z=l(P,P),Y=l(P,b),R=l(P,E),X=l(P,M),H=l(b,b),V=l(b,E),k=l(b,M),G=l(E,E),W=l(E,M),U=l(M,M),$=s(P),K=s(b),Z=s(E),J=s(M),ee=D*y,te=f(H,n),ne=2*s(ee),re=Q*O,oe=f(U,p),ie=2*s(re),ue=A*w,se=f(k,o),le=2*s(ue),ce=ee+re,ae=d(te,oe),fe=ne+ie+s(ce),de=ce+ue,pe=d(ae,se),ge=fe+le+s(de),ve=j*y,he=f(Y,n),_e=2*s(ve),xe=L*O,me=f(W,p),be=2*s(xe),Pe=N+F,Me=d(X,V),Ee=Pe*w,ye=f(Me,o),we=2*s(Ee),Oe=2*(ve+xe),Ce=c(d(he,me)),Ie=2*(_e+be)+s(Oe),Se=Oe+Ee,Be=d(Ce,ye),je=Ie+we+s(Se),Te=b*C,Ne=a(b,g),De=K*_+s(Te),Fe=M*I,Ae=a(M,v),qe=J*x+s(Fe),Le=Te+Fe,Qe=d(Ne,Ae),ze=De+qe+s(Le),Ye=Se+Le,Re=d(Be,Qe),Xe=je+ze+s(Ye),He=B*y,Ve=f(z,n),ke=2*s(He),Ge=T*w,We=f(R,o),Ue=2*s(Ge),$e=q*O,Ke=f(G,p),Ze=2*s($e),Je=He+Ge,et=d(Ve,We),tt=ke+Ue+s(Je),nt=Je+$e,rt=d(et,Ke),ot=tt+Ze+s(nt),it=P*C,ut=a(P,g),st=$*_+s(it),lt=E*I,ct=a(E,v),at=Z*x+s(lt),ft=it+lt,dt=d(ut,ct),pt=st+at+s(ft),gt=nt+ft,vt=d(rt,dt),ht=ot+pt+s(gt),_t=gt+S;return{coeffs:[pe,Re,d(vt,h)],errBound:[ge,Xe,ht+m+s(_t)].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(33),u=n(1);let s=Math.abs;const l=o.twoProduct,c=o.qMultBy2,a=o.qMultDouble2,f=o.qMultQuad,d=o.qAddQuad;t.getCoeffs3x1Quad=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":o,"vₓᵧᵧ":p,"vᵧᵧᵧ":g,"vₓₓ":v,"vₓᵧ":h,"vᵧᵧ":_,"vₓ":x,"vᵧ":m,v:b},errorBound:{"vₓₓₓ_":P,"vₓₓᵧ_":M,"vₓᵧᵧ_":E,"vᵧᵧᵧ_":y,"vₓₓ_":w,"vₓᵧ_":O,"vᵧᵧ_":C,"vₓ_":I,"vᵧ_":S,v_:B}}=i.getImplicitForm3Quad(e),[[j,T],[N,D]]=u.getXY(t),F=n[1],A=o[1],q=p[1],L=g[1],Q=v[1],z=h[1],Y=_[1],R=x[1],X=m[1],H=b[1],V=T*T,k=T*j,G=T*D,W=T*N,U=j*j,$=j*D,K=j*N,Z=D*D,J=D*N,ee=N*N,te=l(T,T),ne=l(T,j),re=l(T,D),oe=l(T,N),ie=l(j,j),ue=l(j,D),se=l(j,N),le=l(D,D),ce=l(D,N),ae=l(N,N),fe=s(V),de=s(k),pe=s(G),ge=s(W),ve=s(U),he=s($),_e=s(K),xe=s(Z),me=s(J),be=s(ee),Pe=s(T),Me=s(j),Ee=s(D),ye=s(N),we=T*F,Oe=a(T,n),Ce=Pe*P+s(we),Ie=3*T*F,Se=a(3*T,n),Be=3*Pe*P+s(Ie),je=T*A,Te=a(T,o),Ne=Pe*M+s(je),De=D*A,Fe=a(D,o),Ae=Ee*M+s(De),qe=T*q,Le=a(T,p),Qe=Pe*E+s(qe),ze=D*q,Ye=a(D,p),Re=Ee*E+s(ze),Xe=D*L,He=a(D,g),Ve=Ee*y+s(Xe),ke=3*D*L,Ge=a(3*D,g),We=3*Ee*y+s(ke),Ue=j*F,$e=a(j,n),Ke=Me*P+s(Ue),Ze=j*q,Je=a(j,p),et=Me*E+s(Ze),tt=N*A,nt=a(N,o),rt=ye*M+s(tt),ot=N*L,it=a(N,g),ut=ye*y+s(ot),st=Ue+tt,lt=d($e,nt),ct=Ke+rt+s(st),at=Ze+ot,ft=d(Je,it),dt=et+ut+s(at),pt=U*st,gt=f(ie,lt),vt=ve*ct+2*s(pt),ht=ee*at,_t=f(ae,ft),xt=be*dt+2*s(ht),mt=pt+ht,bt=d(gt,_t),Pt=vt+xt+s(mt),Mt=Ie+De,Et=d(Se,Fe),yt=Be+Ae+s(Mt),wt=2*(je+ze),Ot=c(d(Te,Ye)),Ct=2*(Ne+Re)+s(wt),It=qe+ke,St=d(Le,Ge),Bt=Qe+We+s(It),jt=Mt+Q,Tt=d(Et,v),Nt=yt+w+s(jt),Dt=wt+z,Ft=d(Ot,h),At=Ct+O+s(Dt),qt=It+Y,Lt=d(St,_),Qt=Bt+C+s(qt),zt=U*jt,Yt=f(ie,Tt),Rt=ve*Nt+2*s(zt),Xt=K*Dt,Ht=f(se,Ft),Vt=_e*At+2*s(Xt),kt=ee*qt,Gt=f(ae,Lt),Wt=be*Qt+2*s(kt),Ut=zt+Xt,$t=d(Yt,Ht),Kt=Rt+Vt+s(Ut),Zt=Ut+kt,Jt=d($t,Gt),en=Kt+Wt+s(Zt),tn=2*(De+Q),nn=c(d(Fe,v)),rn=2*(Ae+w)+s(tn),on=2*(qe+Y),un=c(d(Le,_)),sn=2*(Qe+C)+s(on),ln=Ie+tn,cn=d(Se,nn),an=Be+rn+s(ln),fn=ke+on,dn=d(Ge,un),pn=We+sn+s(fn),gn=je+z,vn=d(Te,h),hn=Ne+O+s(gn),_n=ze+z,xn=d(Ye,h),mn=Re+O+s(_n),bn=k*ln,Pn=f(ne,cn),Mn=de*an+2*s(bn),En=J*fn,yn=f(ce,dn),wn=me*pn+2*s(En),On=W*gn,Cn=f(oe,vn),In=ge*hn+2*s(On),Sn=$*_n,Bn=f(ue,xn),jn=he*mn+2*s(Sn),Tn=j*R,Nn=a(j,x),Dn=Me*I+s(Tn),Fn=N*X,An=a(N,m),qn=ye*S+s(Fn),Ln=bn+En,Qn=d(Pn,yn),zn=Mn+wn+s(Ln),Yn=On+Sn,Rn=d(Cn,Bn),Xn=In+jn+s(Yn),Hn=Ln+Yn,Vn=d(Qn,Rn),kn=zn+Xn+s(Hn),Gn=Tn+Fn,Wn=d(Nn,An),Un=Dn+qn+s(Gn),$n=Hn+Gn,Kn=d(Vn,Wn),Zn=kn+Un+s($n),Jn=we+De,er=d(Oe,Fe),tr=Ce+Ae+s(Jn),nr=Xe+qe,rr=d(He,Le),or=Ve+Qe+s(nr),ir=Jn+Q,ur=d(er,v),sr=tr+w+s(ir),lr=nr+Y,cr=d(rr,_),ar=or+C+s(lr),fr=V*ir,dr=f(te,ur),pr=fe*sr+2*s(fr),gr=Z*lr,vr=f(le,cr),hr=xe*ar+2*s(gr),_r=G*z,xr=f(re,h),mr=pe*O+2*s(_r),br=fr+gr,Pr=d(dr,vr),Mr=pr+hr+s(br),Er=br+_r,yr=d(Pr,xr),wr=Mr+mr+s(Er),Or=T*R,Cr=a(T,x),Ir=Pe*I+s(Or),Sr=D*X,Br=a(D,m),jr=Ee*S+s(Sr),Tr=Or+Sr,Nr=d(Cr,Br),Dr=Ir+jr+s(Tr),Fr=Er+Tr,Ar=d(yr,Nr),qr=wr+Dr+s(Fr),Lr=Fr+H;return{coeffs:[bt,Jt,Kn,d(Ar,b)],errBound:[Pt,en,Zn,qr+B+s(Lr)].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(38),i=n(1),u=r.twoProduct,s=r.qAddQuad;t.getCoeffs1x2Quad=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":r,v:l}}=o.getImplicitForm1Quad(e),[[c,a,f],[d,p,g]]=i.getXY(t),v=u(c,n),h=u(d,r),_=s(v,h),x=u(a,n),m=u(p,r),b=s(x,m),P=u(f,n),M=u(g,r),E=s(P,M);return{coeffs:[_,b,s(E,l)],errBound:[0,0,0]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(36),u=n(1),s=Math.abs,l=o.twoProduct,c=o.qMultBy2,a=o.qMultDouble2,f=o.qMultQuad,d=o.qAddQuad;t.getCoeffs2x2Quad=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":o,"vᵧᵧ":p,"vₓ":g,"vᵧ":v,v:h},errorBound:{"vₓ_":_,"vᵧ_":x,v_:m}}=i.getImplicitForm2Quad(e),[[b,P,M],[E,y,w]]=u.getXY(t),O=n[1],C=o[1],I=p[1],S=g[1],B=v[1],j=h[1],T=M*M,N=M*P,D=M*b,F=M*w,A=M*y,q=M*E,L=P*P,Q=P*b,z=P*w,Y=P*y,R=P*E,X=b*y,H=b*b,V=b*w,k=b*E,G=w*w,W=w*y,U=w*E,$=y*y,K=y*E,Z=E*E,J=l(M,M),ee=l(M,P),te=l(M,b),ne=l(M,w),re=l(M,y),oe=l(M,E),ie=l(P,P),ue=l(P,b),se=l(P,w),le=l(P,y),ce=l(P,E),ae=l(b,y),fe=l(b,b),de=l(b,w),pe=l(b,E),ge=l(w,w),ve=l(w,y),he=l(w,E),_e=l(y,y),xe=l(y,E),me=l(E,E),be=s(M),Pe=s(P),Me=s(b),Ee=s(w),ye=s(y),we=s(E),Oe=H*O,Ce=f(fe,n),Ie=2*s(Oe),Se=k*C,Be=f(pe,o),je=2*s(Se),Te=Z*I,Ne=f(me,p),De=2*s(Te),Fe=Oe+Se,Ae=d(Ce,Be),qe=Ie+je+s(Fe),Le=Fe+Te,Qe=d(Ae,Ne),ze=qe+De+s(Le),Ye=Q*O,Re=f(ue,n),Xe=2*s(Ye),He=K*I,Ve=f(xe,p),ke=2*s(He),Ge=R+X,We=d(ce,ae),Ue=Ge*C,$e=f(We,o),Ke=2*s(Ue),Ze=2*(Ye+He),Je=c(d(Re,Ve)),et=2*(Xe+ke)+s(Ze),tt=Ze+Ue,nt=d(Je,$e),rt=et+Ke+s(tt),ot=2*D+L,it=d(c(te),ie),ut=2*U+$,st=d(c(he),_e),lt=q+Y,ct=d(oe,le),at=lt+V,ft=d(ct,de),dt=ot*O,pt=f(it,n),gt=2*s(dt),vt=ut*I,ht=f(st,p),_t=2*s(vt),xt=at*C,mt=f(ft,o),bt=2*s(xt),Pt=b*S,Mt=a(b,g),Et=Me*_+s(Pt),yt=E*B,wt=a(E,v),Ot=we*x+s(yt),Ct=dt+vt,It=d(pt,ht),St=gt+_t+s(Ct),Bt=Ct+xt,jt=d(It,mt),Tt=St+bt+s(Bt),Nt=Pt+yt,Dt=d(Mt,wt),Ft=Et+Ot+s(Nt),At=Bt+Nt,qt=d(jt,Dt),Lt=Tt+Ft+s(At),Qt=N*O,zt=f(ee,n),Yt=2*s(Qt),Rt=W*I,Xt=f(ve,p),Ht=2*s(Rt),Vt=A+z,kt=d(re,se),Gt=Vt*C,Wt=f(kt,o),Ut=2*s(Gt),$t=2*(Qt+Rt),Kt=c(d(zt,Xt)),Zt=2*(Yt+Ht)+s($t),Jt=P*S,en=a(P,g),tn=Pe*_+s(Jt),nn=y*B,rn=a(y,v),on=ye*x+s(nn),un=$t+Gt,sn=d(Kt,Wt),ln=Zt+Ut+s(un),cn=Jt+nn,an=d(en,rn),fn=tn+on+s(cn),dn=un+cn,pn=d(sn,an),gn=ln+fn+s(dn),vn=T*O,hn=f(J,n),_n=2*s(vn),xn=F*C,mn=f(ne,o),bn=2*s(xn),Pn=G*I,Mn=f(ge,p),En=2*s(Pn),yn=M*S,wn=a(M,g),On=be*_+s(yn),Cn=w*B,In=a(w,v),Sn=Ee*x+s(Cn),Bn=vn+xn,jn=d(hn,mn),Tn=_n+bn+s(Bn),Nn=Bn+Pn,Dn=d(jn,Mn),Fn=Tn+En+s(Nn),An=yn+Cn,qn=d(wn,In),Ln=On+Sn+s(An),Qn=Nn+An,zn=d(Dn,qn),Yn=Fn+Ln+s(Qn),Rn=Qn+j;return{coeffs:[Qe,nt,qt,pn,d(zn,h)],errBound:[ze,rt,Lt,gn,Yn+m+s(Rn)].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(33),u=n(1);let s=Math.abs;const l=o.twoProduct,c=o.qMultBy2,a=o.qMultDouble2,f=o.qMultQuad,d=o.qAddQuad;t.getCoeffs3x2Quad=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":o,"vₓᵧᵧ":p,"vᵧᵧᵧ":g,"vₓₓ":v,"vₓᵧ":h,"vᵧᵧ":_,"vₓ":x,"vᵧ":m,v:b},errorBound:{"vₓₓₓ_":P,"vₓₓᵧ_":M,"vₓᵧᵧ_":E,"vᵧᵧᵧ_":y,"vₓₓ_":w,"vₓᵧ_":O,"vᵧᵧ_":C,"vₓ_":I,"vᵧ_":S,v_:B}}=i.getImplicitForm3Quad(e),[[j,T,N],[D,F,A]]=u.getXY(t),q=n[1],L=o[1],Q=p[1],z=g[1],Y=v[1],R=h[1],X=_[1],H=x[1],V=m[1],k=b[1],G=s(q),W=s(L),U=s(Q),$=s(z),K=N*N,Z=N*T,J=N*j,ee=N*A,te=N*F,ne=N*D,re=T*T,oe=T*j,ie=T*A,ue=T*F,se=T*D,le=j*F,ce=j*j,ae=j*A,fe=j*D,de=A*A,pe=A*F,ge=A*D,ve=F*F,he=F*D,_e=D*D,xe=l(N,N),me=l(N,T),be=l(N,j),Pe=l(N,A),Me=l(N,F),Ee=l(N,D),ye=l(T,T),we=l(T,j),Oe=l(T,A),Ce=l(T,F),Ie=l(T,D),Se=l(j,F),Be=l(j,j),je=l(j,A),Te=l(j,D),Ne=l(A,A),De=l(A,F),Fe=l(A,D),Ae=l(F,F),qe=l(F,D),Le=l(D,D),Qe=s(K),ze=s(Z),Ye=s(ee),Re=s(te),Xe=s(oe),He=s(ce),Ve=s(fe),ke=s(ie),Ge=s(de),We=s(pe),Ue=s(he),$e=s(_e),Ke=s(N),Ze=s(T),Je=s(j),et=s(A),tt=s(F),nt=s(D),rt=a(j,n),ot=j*q,it=Je*P+s(ot),ut=a(j,p),st=j*Q,lt=Je*E+s(st),ct=a(D,o),at=D*L,ft=nt*M+s(at),dt=a(D,g),pt=D*z,gt=nt*y+s(pt),vt=ot+at,ht=d(rt,ct),_t=s(vt),xt=it+ft+_t,mt=st+pt,bt=d(ut,dt),Pt=s(mt),Mt=lt+gt+Pt,Et=ce*vt,yt=f(Be,ht),wt=He*xt+2*s(Et),Ot=_e*mt,Ct=f(Le,bt),It=$e*Mt+2*s(Ot),St=Et+Ot,Bt=d(yt,Ct),jt=wt+It+s(St),Tt=J+re,Nt=d(be,ye),Dt=ge+ve,Ft=d(Fe,Ae),At=2*J+re,qt=d(c(be),ye),Lt=2*ge+ve,Qt=d(c(Fe),Ae),zt=2*ue+ae,Yt=d(c(Ce),je),Rt=2*ue+ne,Xt=d(c(Ce),Ee),Ht=2*ae+ue,Vt=d(c(je),Ce),kt=6*J+re,Gt=d(a(6,be),ye),Wt=6*ge+ve,Ut=d(a(6,Fe),Ae),$t=se+le,Kt=d(Ie,Se),Zt=ne+ae,Jt=d(Ee,je),en=2*ie+te,tn=d(c(Oe),Me),nn=2*te+ie,rn=d(c(Me),Oe),on=ne+ue,un=d(Ee,Ce),sn=on+ae,ln=d(un,je),cn=s(At),an=s(Lt),fn=(s(zt),s($t)),dn=s(sn),pn=3*ce,gn=a(3,Be),vn=s(pn),hn=3*_e,_n=a(3,Le),xn=s(hn),mn=pn*q,bn=f(gn,n),Pn=vn*P+2*s(mn),Mn=ce*L,En=f(Be,o),yn=He*M+2*s(Mn),wn=2*fe*L,On=c(f(Te,o)),Cn=2*(Ve*M+s(wn)),In=2*fe*Q,Sn=c(f(Te,p)),Bn=2*(Ve*E+s(In)),jn=_e*Q,Tn=f(Le,p),Nn=$e*E+2*s(jn),Dn=hn*z,Fn=f(_n,g),An=xn*y+2*s(Dn),qn=mn+wn,Ln=d(bn,On),Qn=Pn+Cn+s(qn),zn=Mn+In,Yn=d(En,Sn),Rn=yn+Bn+s(zn),Xn=qn+jn,Hn=d(Ln,Tn),Vn=Qn+Nn+s(Xn),kn=zn+Dn,Gn=d(Yn,Fn),Wn=Rn+An+s(kn),Un=T*Xn,$n=a(T,Hn),Kn=Ze*Vn+s(Un),Zn=F*kn,Jn=a(F,Gn),er=tt*Wn+s(Zn),tr=Un+Zn,nr=d($n,Jn),rr=Kn+er+s(tr),or=D*At,ir=a(D,qt),ur=s(or),sr=D*Rt,lr=a(D,Xt),cr=s(sr),ar=j*zt,fr=a(j,Yt),dr=s(ar),pr=j*Lt,gr=a(j,Qt),vr=s(pr),hr=3*j*Tt,_r=a(3*j,Nt),xr=s(hr),mr=3*D*Dt,br=a(3*D,Ft),Pr=s(mr),Mr=or+ar,Er=d(ir,fr),yr=s(Mr),wr=ur+dr+yr,Or=sr+pr,Cr=d(lr,gr),Ir=s(Or),Sr=cr+vr+Ir,Br=hr*q,jr=f(_r,n),Tr=xr*(G+P)+2*s(Br),Nr=mr*z,Dr=f(br,g),Fr=Pr*($+y)+2*s(Nr),Ar=Mr*L,qr=f(Er,o),Lr=wr*W+yr*M+2*s(Ar),Qr=Or*Q,zr=f(Cr,p),Yr=Sr*U+Ir*E+2*s(Qr),Rr=Br+Nr,Xr=d(jr,Dr),Hr=Tr+Fr+s(Rr),Vr=Ar+Qr,kr=d(qr,zr),Gr=Lr+Yr+s(Vr),Wr=ce*Y,Ur=f(Be,v),$r=He*w+2*s(Wr),Kr=_e*X,Zr=f(Le,_),Jr=$e*C+2*s(Kr),eo=fe*R,to=f(Te,h),no=Ve*O+2*s(eo),ro=Wr+Kr,oo=d(Ur,Zr),io=$r+Jr+s(ro),uo=Rr+Vr,so=d(Xr,kr),lo=Hr+Gr+s(uo),co=ro+eo,ao=d(oo,to),fo=io+no+s(co),po=uo+co,go=d(so,ao),vo=lo+fo+s(po),ho=T*kt,_o=a(T,Gt),xo=s(ho),mo=F*Wt,bo=a(F,Ut),Po=s(mo),Mo=2*N*$t,Eo=a(2*N,Kt),yo=s(Mo),wo=2*F*Zt,Oo=a(2*F,Jt),Co=s(wo),Io=T*Ht,So=a(T,Vt),Bo=s(Io),jo=T*Lt,To=a(T,Qt),No=s(jo),Do=Mo+Io,Fo=d(Eo,So),Ao=s(Do),qo=yo+Bo+Ao,Lo=wo+jo,Qo=d(Oo,To),zo=s(Lo),Yo=Co+No+zo,Ro=he*X,Xo=f(qe,_),Ho=Ue*C+2*s(Ro),Vo=oe*Y,ko=f(we,v),Go=Xe*w+2*s(Vo),Wo=$t*R,Uo=f(Kt,h),$o=fn*O+2*s(Wo),Ko=Ro+Vo,Zo=d(Xo,ko),Jo=Ho+Go+s(Ko),ei=ho*q,ti=f(_o,n),ni=xo*(G+P)+2*s(ei),ri=Do*L,oi=f(Fo,o),ii=qo*W+Ao*M+2*s(ri),ui=mo*z,si=f(bo,g),li=Po*($+y)+2*s(ui),ci=Lo*Q,ai=f(Qo,p),fi=Yo*U+zo*E+2*s(ci),di=ei+ui,pi=d(ti,si),gi=ni+li+s(di),vi=ri+ci,hi=d(oi,ai),_i=ii+fi+s(vi),xi=di+vi,mi=d(pi,hi),bi=gi+_i+s(xi),Pi=2*Ko+Wo,Mi=d(c(Zo),Uo),Ei=2*Jo+$o+s(Pi),yi=xi+Pi,wi=d(mi,Mi),Oi=bi+Ei+s(yi),Ci=3*N*Tt,Ii=a(3*N,Nt),Si=s(Ci),Bi=3*A*Dt,ji=a(3*A,Ft),Ti=s(Bi),Ni=N*Rt,Di=a(N,Xt),Fi=s(Ni),Ai=N*Lt,qi=a(N,Qt),Li=s(Ai),Qi=A*At,zi=a(A,qt),Yi=s(Qi),Ri=A*zt,Xi=a(A,Yt),Hi=s(Ri),Vi=Ni+Qi,ki=d(Di,zi),Gi=s(Vi),Wi=Fi+Yi+Gi,Ui=Ai+Ri,$i=d(qi,Xi),Ki=s(Ui),Zi=Li+Hi+Ki,Ji=Ci*q,eu=f(Ii,n),tu=Si*(G+P)+2*s(Ji),nu=Bi*z,ru=f(ji,g),ou=Ti*($+y)+2*s(nu),iu=Vi*L,uu=f(ki,o),su=Wi*W+Gi*M+2*s(iu),lu=Ui*Q,cu=f($i,p),au=Zi*U+Ki*E+2*s(lu),fu=At*Y,du=f(qt,v),pu=cn*w+2*s(fu),gu=Lt*X,vu=f(Qt,_),hu=an*C+2*s(gu),_u=sn*R,xu=f(ln,h),mu=dn*O+2*s(_u),bu=j*H,Pu=a(j,x),Mu=Je*I+s(bu),Eu=D*V,yu=a(D,m),wu=nt*S+s(Eu),Ou=Ji+nu,Cu=d(eu,ru),Iu=tu+ou+s(Ou),Su=iu+lu,Bu=d(uu,cu),ju=su+au+s(Su),Tu=fu+gu,Nu=d(du,vu),Du=pu+hu+s(Tu),Fu=Ou+Su,Au=d(Cu,Bu),qu=Iu+ju+s(Fu),Lu=Tu+_u,Qu=d(Nu,xu),zu=Du+mu+s(Lu),Yu=bu+Eu,Ru=d(Pu,yu),Xu=Mu+wu+s(Yu),Hu=Fu+Lu,Vu=d(Au,Qu),ku=qu+zu+s(Hu),Gu=Hu+Yu,Wu=d(Vu,Ru),Uu=ku+Xu+s(Gu),$u=3*N*Z,Ku=a(3*N,me),Zu=s($u),Ju=3*A*pe,es=a(3*A,De),ts=s(Ju),ns=N*en,rs=a(N,tn),os=s(ns),is=A*nn,us=a(A,rn),ss=s(is),ls=Z*Y,cs=f(me,v),as=ze*w+2*s(ls),fs=pe*X,ds=f(De,_),ps=We*C+2*s(fs),gs=te*R,vs=f(Me,h),hs=Re*O+2*s(gs),_s=ie*R,xs=f(Oe,h),ms=ke*O+2*s(_s),bs=2*(ls+fs),Ps=c(d(cs,ds)),Ms=2*(as+ps)+s(bs),Es=gs+_s,ys=d(vs,xs),ws=hs+ms+s(Es),Os=T*H,Cs=a(T,x),Is=Ze*I+s(Os),Ss=F*V,Bs=a(F,m),js=tt*S+s(Ss),Ts=$u*q,Ns=f(Ku,n),Ds=Zu*(G+P)+2*s(Ts),Fs=Ju*z,As=f(es,g),qs=ts*($+y)+2*s(Fs),Ls=ns*L,Qs=f(rs,o),zs=os*(W+M)+2*s(Ls),Ys=is*Q,Rs=f(us,p),Xs=ss*(U+E)+2*s(Ys),Hs=Ts+Fs,Vs=d(Ns,As),ks=Ds+qs+s(Hs),Gs=Ls+Ys,Ws=d(Qs,Rs),Us=zs+Xs+s(Gs),$s=Hs+Gs,Ks=d(Vs,Ws),Zs=ks+Us+s($s),Js=bs+Es,el=d(Ps,ys),tl=Ms+ws+s(Js),nl=Os+Ss,rl=d(Cs,Bs),ol=Is+js+s(nl),il=$s+Js,ul=d(Ks,el),sl=Zs+tl+s(il),ll=il+nl,cl=d(ul,rl),al=sl+ol+s(ll),fl=N*q,dl=a(N,n),pl=Ke*P+s(fl),gl=N*Q,vl=a(N,p),hl=Ke*E+s(gl),_l=A*L,xl=a(A,o),ml=et*M+s(_l),bl=A*z,Pl=a(A,g),Ml=et*y+s(bl),El=fl+_l,yl=d(dl,xl),wl=pl+ml+s(El),Ol=gl+bl,Cl=d(vl,Pl),Il=hl+Ml+s(Ol),Sl=El+Y,Bl=d(yl,v),jl=wl+w+s(Sl),Tl=Ol+X,Nl=d(Cl,_),Dl=Il+C+s(Tl),Fl=K*Sl,Al=f(xe,Bl),ql=Qe*jl+2*s(Fl),Ll=de*Tl,Ql=f(Ne,Nl),zl=Ge*Dl+2*s(Ll),Yl=ee*R,Rl=f(Pe,h),Xl=Ye*O+2*s(Yl),Hl=N*H,Vl=a(N,x),kl=Ke*I+s(Hl),Gl=A*V,Wl=a(A,m),Ul=et*S+s(Gl),$l=Fl+Ll,Kl=d(Al,Ql),Zl=ql+zl+s($l),Jl=$l+Yl,ec=d(Kl,Rl),tc=Zl+Xl+s(Jl),nc=Hl+Gl,rc=d(Vl,Wl),oc=kl+Ul+s(nc),ic=Jl+nc,uc=d(ec,rc),sc=tc+oc+s(ic),lc=ic+k;return{coeffs:[Bt,nr,go,wi,Wu,cl,d(uc,b)],errBound:[jt,rr,vo,Oi,Uu,al,sc+B+s(lc)].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(38),i=n(1),u=r.twoProduct,s=r.qAddQuad;t.getCoeffs1x3Quad=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":r,v:l}}=o.getImplicitForm1Quad(e),[[c,a,f,d],[p,g,v,h]]=i.getXY(t),_=u(c,n),x=u(p,r),m=s(_,x),b=u(a,n),P=u(g,r),M=s(b,P),E=u(f,n),y=u(v,r),w=s(E,y),O=u(d,n),C=u(h,r),I=s(O,C);return{coeffs:[m,M,w,s(I,l)],errBound:[0,0,0,0]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(36),u=n(1);let s=Math.abs;const l=o.twoProduct,c=o.qMultBy2,a=o.qMultDouble2,f=o.qMultQuad,d=o.qAddQuad;t.getCoeffs2x3Quad=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":o,"vᵧᵧ":p,"vₓ":g,"vᵧ":v,v:h},errorBound:{"vₓ_":_,"vᵧ_":x,v_:m}}=i.getImplicitForm2Quad(e),[[b,P,M,E],[y,w,O,C]]=u.getXY(t),I=n[1],S=o[1],B=p[1],j=g[1],T=v[1],N=h[1],D=E*E,F=E*M,A=E*P,q=E*b,L=E*C,Q=E*O,z=E*w,Y=E*y,R=M*M,X=M*P,H=M*b,V=M*C,k=M*O,G=M*w,W=M*y,U=P*O,$=P*P,K=P*b,Z=P*C,J=P*w,ee=P*y,te=b*b,ne=b*C,re=b*O,oe=b*w,ie=b*y,ue=C*C,se=C*O,le=C*w,ce=C*y,ae=O*O,fe=O*w,de=y*y,pe=w*w,ge=w*y,ve=O*y,he=l(E,E),_e=l(E,M),xe=l(E,P),me=l(E,b),be=l(E,C),Pe=l(E,O),Me=l(E,w),Ee=l(E,y),ye=l(M,M),we=l(M,P),Oe=l(M,b),Ce=l(M,C),Ie=l(M,O),Se=l(M,w),Be=l(M,y),je=l(P,O),Te=l(P,P),Ne=l(P,b),De=l(P,C),Fe=l(P,w),Ae=l(P,y),qe=l(b,b),Le=l(b,C),Qe=l(b,O),ze=l(b,w),Ye=l(b,y),Re=l(C,C),Xe=l(C,O),He=l(C,w),Ve=l(C,y),ke=l(O,O),Ge=l(O,w),We=l(y,y),Ue=l(w,w),$e=l(w,y),Ke=l(O,y),Ze=s(E),Je=s(M),et=s(P),tt=s(b),nt=s(C),rt=s(O),ot=s(w),it=s(y),ut=te*I,st=f(qe,n),lt=2*s(ut),ct=ie*S,at=f(Ye,o),ft=2*s(ct),dt=de*B,pt=f(We,p),gt=2*s(dt),vt=ut+ct,ht=d(st,at),_t=lt+ft+s(vt),xt=vt+dt,mt=d(ht,pt),bt=_t+gt+s(xt),Pt=K*I,Mt=f(Ne,n),Et=2*s(Pt),yt=ge*B,wt=f($e,p),Ot=2*s(yt),Ct=Pt+yt,It=d(Mt,wt),St=Et+Ot+s(Ct),Bt=ee+oe,jt=d(Ae,ze),Tt=Bt*S,Nt=f(jt,o),Dt=2*s(Tt),Ft=2*Ct+Tt,At=d(c(It),Nt),qt=2*St+Dt+s(Ft),Lt=2*H+$,Qt=d(c(Oe),Te),zt=2*ve+pe,Yt=d(c(Ke),Ue),Rt=W+J,Xt=d(Be,Fe),Ht=Rt+re,Vt=d(Xt,Qe),kt=Lt*I,Gt=f(Qt,n),Wt=2*s(kt),Ut=zt*B,$t=f(Yt,p),Kt=2*s(Ut),Zt=kt+Ut,Jt=d(Gt,$t),en=Wt+Kt+s(Zt),tn=Ht*S,nn=f(Vt,o),rn=2*s(tn),on=Zt+tn,un=d(Jt,nn),sn=en+rn+s(on),ln=q+X,cn=d(me,we),an=ce+fe,fn=d(Ve,Ge),dn=Y+G,pn=d(Ee,Se),gn=U+ne,vn=d(je,Le),hn=dn+gn,_n=d(pn,vn),xn=ln*I,mn=f(cn,n),bn=2*s(xn),Pn=an*B,Mn=f(fn,p),En=2*s(Pn),yn=2*(xn+Pn),wn=c(d(mn,Mn)),On=2*(bn+En)+s(yn),Cn=hn*S,In=f(_n,o),Sn=2*s(Cn),Bn=b*j,jn=a(b,g),Tn=tt*_+s(Bn),Nn=y*T,Dn=a(y,v),Fn=it*x+s(Nn),An=Bn+Nn,qn=d(jn,Dn),Ln=Tn+Fn+s(An),Qn=yn+Cn,zn=d(wn,In),Yn=On+Sn+s(Qn),Rn=Qn+An,Xn=d(zn,qn),Hn=Yn+Ln+s(Rn),Vn=2*A+R,kn=d(c(xe),ye),Gn=2*le+ae,Wn=d(c(He),ke),Un=z+k,$n=d(Me,Ie),Kn=Un+Z,Zn=d($n,De),Jn=Vn*I,er=f(kn,n),tr=2*s(Jn),nr=Gn*B,rr=f(Wn,p),or=2*s(nr),ir=Kn*S,ur=f(Zn,o),sr=2*s(ir),lr=Jn+nr,cr=d(er,rr),ar=tr+or+s(lr),fr=lr+ir,dr=d(cr,ur),pr=ar+sr+s(fr),gr=P*j,vr=a(P,g),hr=et*_+s(gr),_r=w*T,xr=a(w,v),mr=ot*x+s(_r),br=gr+_r,Pr=d(vr,xr),Mr=hr+mr+s(br),Er=fr+br,yr=d(dr,Pr),wr=pr+Mr+s(Er),Or=F*I,Cr=f(_e,n),Ir=2*s(Or),Sr=se*B,Br=f(Xe,p),jr=2*s(Sr),Tr=Q+V,Nr=d(Pe,Ce),Dr=Tr*S,Fr=f(Nr,o),Ar=2*s(Dr),qr=2*(Or+Sr),Lr=c(d(Cr,Br)),Qr=2*(Ir+jr)+s(qr),zr=qr+Dr,Yr=d(Lr,Fr),Rr=Qr+Ar+s(zr),Xr=M*j,Hr=a(M,g),Vr=Je*_+s(Xr),kr=O*T,Gr=a(O,v),Wr=rt*x+s(kr),Ur=Xr+kr,$r=d(Hr,Gr),Kr=Vr+Wr+s(Ur),Zr=zr+Ur,Jr=d(Yr,$r),eo=Rr+Kr+s(Zr),to=D*I,no=f(he,n),ro=2*s(to),oo=L*S,io=f(be,o),uo=2*s(oo),so=ue*B,lo=f(Re,p),co=2*s(so),ao=E*j,fo=a(E,g),po=Ze*_+s(ao),go=C*T,vo=a(C,v),ho=nt*x+s(go),_o=to+oo,xo=d(no,io),mo=ro+uo+s(_o),bo=_o+so,Po=d(xo,lo),Mo=mo+co+s(bo),Eo=ao+go,yo=d(fo,vo),wo=po+ho+s(Eo),Oo=bo+Eo,Co=d(Po,yo),Io=Mo+wo+s(Oo),So=Oo+N;return{coeffs:[mt,At,un,Xn,yr,Jr,d(Co,h)],errBound:[bt,qt,sn,Hn,wr,eo,Io+m+s(So)].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(33),i=n(7),u=n(1);let s=Math.abs;const l=r.twoProduct,c=r.qMultBy2,a=r.qMultDouble2,f=r.qMultQuad,d=r.qAddQuad;t.getCoeffs3x3Quad=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":r,"vₓᵧᵧ":p,"vᵧᵧᵧ":g,"vₓₓ":v,"vₓᵧ":h,"vᵧᵧ":_,"vₓ":x,"vᵧ":m,v:b},errorBound:{"vₓₓₓ_":P,"vₓₓᵧ_":M,"vₓᵧᵧ_":E,"vᵧᵧᵧ_":y,"vₓₓ_":w,"vₓᵧ_":O,"vᵧᵧ_":C,"vₓ_":I,"vᵧ_":S,v_:B}}=o.getImplicitForm3Quad(e),[[j,T,N,D],[F,A,q,L]]=u.getXY(t),Q=n[1],z=r[1],Y=p[1],R=g[1],X=v[1],H=h[1],V=_[1],k=x[1],G=m[1],W=b[1],U=s(Q),$=s(z),K=s(Y),Z=s(R),J=D*D,ee=D*N,te=D*T,ne=D*j,re=D*L,oe=D*q,ie=D*A,ue=D*F,se=N*N,le=N*T,ce=N*j,ae=N*L,fe=N*q,de=N*A,pe=N*F,ge=T*q,ve=T*T,he=T*j,_e=T*L,xe=T*A,me=T*F,be=j*j,Pe=j*L,Me=j*q,Ee=j*A,ye=j*F,we=L*L,Oe=L*q,Ce=L*A,Ie=L*F,Se=q*q,Be=q*A,je=F*F,Te=A*A,Ne=A*F,De=q*F,Fe=l(D,D),Ae=l(D,N),qe=l(D,T),Le=l(D,j),Qe=l(D,L),ze=l(D,q),Ye=l(D,A),Re=l(D,F),Xe=l(N,N),He=l(N,T),Ve=l(N,j),ke=l(N,L),Ge=l(N,q),We=l(N,A),Ue=l(N,F),$e=l(T,q),Ke=l(T,T),Ze=l(T,j),Je=l(T,L),et=l(T,A),tt=l(T,F),nt=l(j,j),rt=l(j,L),ot=l(j,q),it=l(j,A),ut=l(j,F),st=l(L,L),lt=l(L,q),ct=l(L,A),at=l(L,F),ft=l(q,q),dt=l(q,A),pt=l(F,F),gt=l(A,A),vt=l(A,F),ht=l(q,F),_t=s(J),xt=s(ee),mt=s(he),bt=s(be),Pt=s(ye),Mt=s(re),Et=s(we),yt=s(Oe),wt=s(Ne),Ot=s(je),Ct=s(D),It=s(N),St=s(T),Bt=s(j),jt=s(L),Tt=s(q),Nt=s(A),Dt=s(F),Ft=j*be,At=a(j,nt),qt=Bt*bt,Lt=j*je,Qt=a(j,pt),zt=Bt*Ot,Yt=F*be,Rt=a(F,nt),Xt=Dt*bt,Ht=F*je,Vt=a(F,pt),kt=Dt*Ot,Gt=Ft*Q,Wt=f(At,n),Ut=qt*(U+P)+2*s(Gt),$t=Lt*Y,Kt=f(Qt,p),Zt=zt*(K+E)+2*s(Lt),Jt=Yt*z,en=f(Rt,r),tn=Xt*($+M)+2*s(Yt),nn=Ht*R,rn=f(Vt,g),on=kt*(Z+y)+2*s(Ht),un=Gt+$t,sn=d(Wt,Kt),ln=Ut+Zt+s(un),cn=Jt+nn,an=d(en,rn),fn=tn+on+s(cn),dn=un+cn,pn=d(sn,an),gn=ln+fn+s(dn),vn=2*me+Ee,hn=d(c(tt),it),_n=2*Ee+me,xn=d(c(it),tt),mn=j*vn,bn=a(j,hn),Pn=s(mn),Mn=F*_n,En=a(F,xn),yn=s(Mn),wn=T*be,On=a(T,nt),Cn=s(wn),In=A*je,Sn=a(A,pt),Bn=s(In),jn=Q*wn,Tn=f(n,On),Nn=Cn*(P+U)+2*s(jn),Dn=R*In,Fn=f(g,Sn),An=Bn*(y+Z)+2*s(Dn),qn=z*mn,Ln=f(r,bn),Qn=Pn*(M+$)+2*s(qn),zn=Y*Mn,Yn=f(p,En),Rn=yn*(E+K)+2*s(zn),Xn=qn+zn,Hn=d(Ln,Yn),Vn=Qn+Rn+s(Xn),kn=3*(jn+Dn),Gn=a(3,d(Tn,Fn)),Wn=3*(Nn+An)+2*s(kn),Un=Xn+kn,$n=d(Hn,Gn),Kn=Vn+Wn+s(Un),Zn=N*ye,Jn=a(N,ut),er=s(Zn),tr=q*be,nr=a(q,nt),rr=s(tr),or=T*Ne,ir=a(T,vt),ur=s(or),sr=N*je,lr=a(N,pt),cr=s(sr),ar=T*Ee,fr=a(T,it),dr=s(ar),pr=F*ve,gr=a(F,Ke),vr=s(pr),hr=j*De,_r=a(j,ht),xr=s(hr),mr=A*Ee,br=a(A,it),Pr=s(mr),Mr=Zn+ar,Er=d(Jn,fr),yr=er+dr+s(Mr),wr=tr+pr,Or=d(nr,gr),Cr=rr+vr+s(wr),Ir=or+hr,Sr=d(ir,_r),Br=ur+xr+s(Ir),jr=sr+mr,Tr=d(lr,br),Nr=cr+Pr+s(jr),Dr=ce+ve,Fr=d(Ve,Ke),Ar=De+Te,qr=d(ht,gt),Lr=2*Mr+wr,Qr=d(c(Er),Or),zr=s(Lr),Yr=2*yr+Cr+zr,Rr=2*Ir+jr,Xr=d(c(Sr),Tr),Hr=s(Rr),Vr=2*Br+Nr+Hr,kr=z*Lr,Gr=f(r,Qr),Wr=M*zr+$*Yr+2*s(kr),Ur=Y*Rr,$r=f(p,Xr),Kr=E*Hr+K*Vr+2*s(Ur),Zr=j*Dr,Jr=a(j,Fr),eo=s(Zr),to=eo,no=F*Ar,ro=a(F,qr),oo=s(no),io=oo,uo=Q*Zr,so=f(n,Jr),lo=P*eo+U*to+2*s(uo),co=R*no,ao=f(g,ro),fo=y*oo+Z*io+2*s(co),po=kr+Ur,go=d(Gr,$r),vo=Wr+Kr+s(po),ho=3*(uo+co),_o=a(3,d(so,ao)),xo=3*(lo+fo)+2*s(ho),mo=po+ho,bo=d(go,_o),Po=vo+xo+s(mo),Mo=me+Ee,Eo=d(tt,it),yo=s(Mo),wo=A*ve,Oo=a(A,Ke),Co=s(wo),Io=2*N*Mo,So=c(a(N,Eo)),Bo=2*s(Io),jo=wo+Io,To=d(Oo,So),No=Co+Bo+s(jo),Do=2*(ue+ge),Fo=c(d(Re,$e)),Ao=Do+Pe,qo=d(Fo,rt),Lo=j*Ao,Qo=a(j,qo),zo=s(Lo),Yo=jo+Lo,Ro=d(To,Qo),Xo=s(Yo),Ho=No+zo+Xo,Vo=T*Te,ko=a(T,gt),Go=s(Vo),Wo=2*q*Mo,Uo=c(a(q,Eo)),$o=2*s(Wo),Ko=Vo+Wo,Zo=d(ko,Uo),Jo=Go+$o+s(Ko),ei=2*(de+Pe),ti=c(d(We,rt)),ni=ei+ue,ri=d(ti,Re),oi=F*ni,ii=a(F,ri),ui=s(oi),si=Ko+oi,li=d(Zo,ii),ci=s(si),ai=Jo+ui+ci,fi=T*ve,di=a(T,Ke),pi=s(fi),gi=2*le+ne,vi=d(c(He),Le),hi=3*j*gi,_i=a(3*j,vi),xi=s(hi),mi=fi+hi,bi=d(di,_i),Pi=s(mi),Mi=pi+xi+Pi,Ei=A*Te,yi=a(A,gt),wi=s(Ei),Oi=2*Be+Ie,Ci=d(c(dt),at),Ii=3*F*Oi,Si=a(3*F,Ci),Bi=s(Ii),ji=Ei+Ii,Ti=d(yi,Si),Ni=s(ji),Di=wi+Bi+Ni,Fi=z*Yo,Ai=f(r,Ro),qi=M*Xo+$*Ho+2*s(Fi),Li=Y*si,Qi=f(p,li),zi=E*ci+K*ai+2*s(Li),Yi=Fi+Li,Ri=d(Ai,Qi),Xi=qi+zi+s(Yi),Hi=Q*mi,Vi=f(n,bi),ki=P*Pi+U*Mi+2*s(Hi),Gi=R*ji,Wi=f(g,Ti),Ui=y*Ni+Z*Di+2*s(Gi),$i=Hi+Gi,Ki=d(Vi,Wi),Zi=ki+Ui+s($i),Ji=X*be,eu=f(nt,v),tu=bt*w+2*s(Ji),nu=V*je,ru=f(pt,_),ou=Ot*C+2*s(nu),iu=Ji+nu,uu=d(eu,ru),su=tu+ou+s(iu),lu=H*ye,cu=f(ut,h),au=Pt*O+2*s(lu),fu=Yi+$i,du=d(Ri,Ki),pu=Xi+Zi+s(fu),gu=iu+lu,vu=d(uu,cu),hu=su+au+s(gu),_u=fu+gu,xu=d(du,vu),mu=pu+hu+s(_u),bu=xe+Me,Pu=d(et,ot),Mu=pe+xe,Eu=d(Ue,et),yu=D*Mo,wu=a(D,Eo),Ou=s(yu),Cu=L*Mo,Iu=a(L,Eo),Su=s(Cu),Bu=N*bu,ju=a(N,Pu),Tu=s(Bu),Nu=q*Mu,Du=a(q,Eu),Fu=s(Nu),Au=2*Pe+ge,qu=d(c(rt),$e),Lu=2*ue+de,Qu=d(c(Re),We),zu=F*se,Yu=a(F,Xe),Ru=s(zu),Xu=j*Se,Hu=a(j,ft),Vu=s(Xu),ku=T*Au,Gu=a(T,qu),Wu=s(ku),Uu=A*Lu,$u=a(A,Qu),Ku=s(Uu),Zu=2*(yu+Bu),Ju=c(d(wu,ju)),es=2*(Ou+Tu)+s(Zu),ts=2*(Cu+Nu),ns=c(d(Iu,Du)),rs=2*(Su+Fu)+s(ts),os=2*D*he,is=c(a(D,Ze)),us=s(os),ss=2*L*Ne,ls=c(a(L,vt)),cs=s(ss),as=N*Dr,fs=a(N,Fr),ds=s(as),ps=q*Ar,gs=a(q,qr),vs=s(ps),hs=X*he,_s=f(Ze,v),xs=mt*w+2*s(hs),ms=V*Ne,bs=f(vt,_),Ps=wt*C+2*s(ms),Ms=Zu+zu,Es=d(Ju,Yu),ys=s(Ms),ws=es+Ru+ys,Os=ts+Xu,Cs=d(ns,Hu),Is=s(Os),Ss=rs+Vu+Is,Bs=Ms+ku,js=d(Es,Gu),Ts=s(Bs),Ns=ws+Wu+Ts,Ds=Os+Uu,Fs=d(Cs,$u),As=s(Ds),qs=Ss+Ku+As,Ls=os+as,Qs=d(is,fs),zs=s(Ls),Ys=us+ds+zs,Rs=ss+ps,Xs=d(ls,gs),Hs=s(Rs),Vs=cs+vs+Hs,ks=2*(hs+ms),Gs=c(d(_s,bs)),Ws=2*(xs+Ps)+s(ks),Us=z*Bs,$s=f(r,js),Ks=M*Ts+$*Ns+2*s(Us),Zs=Y*Ds,Js=f(p,Fs),el=E*As+K*qs+2*s(Zs),tl=Q*Ls,nl=f(n,Qs),rl=P*zs+U*Ys+2*s(tl),ol=R*Rs,il=f(g,Xs),ul=y*Hs+Z*Vs+2*s(ol),sl=Us+Zs,ll=d($s,Js),cl=Ks+el+s(sl),al=3*(tl+ol),fl=a(3,d(nl,il)),dl=3*(rl+ul)+2*s(al),pl=H*Mo,gl=f(h,Eo),vl=O*yo+2*s(pl),hl=sl+al,_l=d(ll,fl),xl=cl+dl+s(hl),ml=pl+ks,bl=d(gl,Gs),Pl=vl+Ws+s(ml),Ml=hl+ml,El=d(_l,bl),yl=xl+Pl+s(Ml),wl=pe+bu,Ol=d(Ue,Pu),Cl=s(wl),Il=2*ce+ve,Sl=d(c(Ve),Ke),Bl=s(Il),jl=2*De+Te,Tl=d(c(ht),gt),Nl=s(jl),Dl=2*D*wl,Fl=a(2*D,Ol),Al=s(Dl),ql=2*L*wl,Ll=a(2*L,Ol),Ql=s(ql),zl=de+2*ge,Yl=d(We,c($e)),Rl=ge+2*de,Xl=d($e,c(We)),Hl=L*Il,Vl=a(L,Sl),kl=s(Hl),Gl=D*jl,Wl=a(D,Tl),Ul=s(Gl),$l=N*zl,Kl=a(N,Yl),Zl=s($l),Jl=q*Rl,ec=a(q,Xl),tc=s(Jl),nc=D*Il,rc=a(D,Sl),oc=s(nc),ic=L*jl,uc=a(L,Tl),sc=s(ic),lc=T*se,cc=a(T,Xe),ac=s(lc),fc=A*Se,dc=a(A,ft),pc=s(fc),gc=Dl+Hl,vc=d(Fl,Vl),hc=Al+kl+s(gc),_c=ql+Gl,xc=d(Ll,Wl),mc=Ql+Ul+s(_c),bc=gc+$l,Pc=d(vc,Kl),Mc=s(bc),Ec=hc+Zl+Mc,yc=_c+Jl,wc=d(xc,ec),Oc=s(yc),Cc=mc+tc+Oc,Ic=nc+lc,Sc=d(rc,cc),Bc=s(Ic),jc=oc+ac+Bc,Tc=ic+fc,Nc=d(uc,dc),Dc=s(Tc),Fc=sc+pc+Dc,Ac=z*bc,qc=f(r,Pc),Lc=M*Mc+$*Ec+2*s(Ac),Qc=Y*yc,zc=f(p,wc),Yc=E*Oc+K*Cc+2*s(Qc),Rc=Q*Ic,Xc=f(n,Sc),Hc=P*Bc+U*jc+2*s(Rc),Vc=R*Tc,kc=f(g,Nc),Gc=y*Dc+Z*Fc+2*s(Vc),Wc=Rc+Vc,Uc=s(Wc),$c=d(Xc,kc),Kc=Hc+Gc+Uc,Zc=Ac+Qc,Jc=d(qc,zc),ea=Lc+Yc+s(Zc),ta=Zc+3*Wc,na=d(Jc,a(3,$c)),ra=ea+3*(Kc+Uc)+s(ta),oa=H*wl,ia=f(h,Ol),ua=O*Cl+2*s(oa),sa=X*Il,la=f(v,Sl),ca=w*Bl+2*s(sa),aa=oa+sa,fa=d(ia,la),da=ua+ca+s(aa),pa=V*jl,ga=f(_,Tl),va=C*Nl+2*s(pa),ha=aa+pa,_a=d(fa,ga),xa=da+va+s(ha),ma=ta+ha,ba=d(na,_a),Pa=ra+xa+s(ma),Ma=de+ge,Ea=d(We,$e),ya=Pe+ue,wa=d(rt,Re),Oa=le+ne,Ca=d(He,Le),Ia=s(Oa),Sa=Be+Ie,Ba=d(dt,at),ja=s(Sa),Ta=2*Ma+Pe,Na=d(c(Ea),rt),Da=2*Ma+ue,Fa=d(c(Ea),Re),Aa=2*_e+fe,qa=d(c(Je),Ge),La=2*ie+fe,Qa=d(c(Ye),Ge),za=Oa+le,Ya=d(Ca,He),Ra=Sa+Be,Xa=d(Ba,dt),Ha=3*D*za,Va=a(3*D,Ya),ka=s(Ha),Ga=3*L*Ra,Wa=a(3*L,Xa),Ua=s(Ga),$a=N*se,Ka=a(N,Xe),Za=s($a),Ja=q*Se,ef=a(q,ft),tf=s(Ja),nf=X*Oa,rf=f(v,Ca),of=w*Ia+s(nf),uf=V*Sa,sf=f(_,Ba),lf=C*ja+s(uf),cf=Ta+ya,af=d(Na,wa),ff=s(cf),df=Da+ya,pf=d(Fa,wa),gf=s(df),vf=D*cf,hf=a(D,af),_f=Ct*ff+s(vf),xf=L*df,mf=a(L,pf),bf=jt*gf+s(xf),Pf=N*Aa,Mf=a(N,qa),Ef=s(Pf),yf=q*La,wf=a(q,Qa),Of=s(yf),Cf=j*k,If=a(j,x),Sf=Bt*I+s(Cf),Bf=F*G,jf=a(F,m),Tf=Dt*S+s(Bf),Nf=vf+Pf,Df=d(hf,Mf),Ff=s(Nf),Af=_f+Ef+Ff,qf=xf+yf,Lf=d(mf,wf),Qf=s(qf),zf=bf+Of+Qf,Yf=Ha+$a,Rf=d(Va,Ka),Xf=s(Yf),Hf=ka+Za+Xf,Vf=Ga+Ja,kf=d(Wa,ef),Gf=s(Vf),Wf=Ua+tf+Gf,Uf=ya+Ma,$f=d(wa,Ea),Kf=s(Uf),Zf=2*(nf+uf),Jf=c(d(rf,sf)),ed=2*(of+lf)+s(Zf),td=z*Nf,nd=f(r,Df),rd=M*Ff+$*Af+2*s(td),od=Y*qf,id=f(p,Lf),ud=E*Qf+K*zf+2*s(od),sd=Q*Yf,ld=f(n,Rf),cd=P*Xf+U*Hf+2*s(sd),ad=R*Vf,fd=f(g,kf),dd=y*Gf+Z*Wf+2*s(ad),pd=H*Uf,gd=f(h,$f),vd=O*Kf+s(pd),hd=td+od,_d=d(nd,id),xd=rd+ud+s(hd),md=sd+ad,bd=d(ld,fd),Pd=cd+dd+s(md),Md=pd+Zf,Ed=d(gd,Jf),yd=vd+ed+s(Md),wd=Cf+Bf,Od=d(If,jf),Cd=Sf+Tf+s(wd),Id=hd+md,Sd=d(_d,bd),Bd=xd+Pd+s(Id),jd=Md+wd,Td=d(Ed,Od),Nd=yd+Cd+s(jd),Dd=Id+jd,Fd=d(Sd,Td),Ad=Bd+Nd+s(Dd),qd=fe+_e,Ld=d(Ge,Je),Qd=fe+ie,zd=d(Ge,Ye),Yd=2*qd+ie,Rd=d(c(Ld),Ye),Xd=2*Qd+_e,Hd=d(c(zd),Je),Vd=D*Yd,kd=a(D,Rd),Gd=s(Vd),Wd=L*se,Ud=a(L,Xe),$d=s(Wd),Kd=L*Xd,Zd=a(L,Hd),Jd=s(Kd),ep=D*Se,tp=a(D,ft),np=s(ep),rp=D*se,op=a(D,Xe),ip=s(rp),up=T*J,sp=a(T,Fe),lp=s(up),cp=L*Se,ap=a(L,ft),fp=s(cp),dp=A*we,pp=a(A,st),gp=s(dp),vp=Vd+Wd,hp=d(kd,Ud),_p=s(vp),xp=Gd+$d+_p,mp=Kd+ep,bp=d(Zd,tp),Pp=s(mp),Mp=Jd+np+Pp,Ep=rp+up,yp=d(op,sp),wp=s(Ep),Op=ip+lp+wp,Cp=cp+dp,Ip=d(ap,pp),Sp=s(Cp),Bp=fp+gp+Sp,jp=Q*Ep,Tp=f(n,yp),Np=P*wp+U*Op+2*s(jp),Dp=R*Cp,Fp=f(g,Ip),Ap=y*Sp+Z*Bp+2*s(Dp),qp=3*(jp+Dp),Lp=a(3,d(Tp,Fp)),Qp=3*(Np+Ap)+2*s(qp),zp=qd+ie,Yp=d(Ld,Ye),Rp=s(zp),Xp=2*te+se,Hp=d(c(qe),Xe),Vp=s(Xp),kp=2*Ce+Se,Gp=d(c(ct),ft),Wp=s(kp),Up=z*vp,$p=f(r,hp),Kp=M*_p+$*xp+2*s(Up),Zp=Y*mp,Jp=f(p,bp),eg=E*Pp+K*Mp+2*s(Zp),tg=H*zp,ng=f(h,Yp),rg=O*Rp+2*s(tg),og=X*Xp,ig=f(v,Hp),ug=w*Vp+2*s(og),sg=V*kp,lg=f(_,Gp),cg=C*Wp+2*s(sg),ag=T*k,fg=a(T,x),dg=St*I+s(ag),pg=A*G,gg=a(A,m),vg=Nt*S+s(pg),hg=ag+pg,_g=d(fg,gg),xg=dg+vg+s(hg),mg=Up+Zp,bg=d($p,Jp),Pg=Kp+eg+s(mg),Mg=qp+tg,Eg=d(Lp,ng),yg=Qp+rg+s(Mg),wg=og+sg,Og=d(ig,lg),Cg=ug+cg+s(wg),Ig=mg+Mg,Sg=d(bg,Eg),Bg=Pg+yg+s(Ig),jg=wg+hg,Tg=d(Og,_g),Ng=Cg+xg+s(jg),Dg=Ig+jg,Fg=d(Sg,Tg),Ag=Bg+Ng+s(Dg),qg=ae+oe,Lg=d(ke,ze),Qg=s(qg),zg=D*z,Yg=a(D,r),Rg=Ct*M+s(zg),Xg=L*Y,Hg=a(L,p),Vg=jt*E+s(Xg),kg=qg+ae,Gg=d(Lg,ke),Wg=s(kg),Ug=qg+oe,$g=d(Lg,ze),Kg=s(Ug),Zg=N*J,Jg=a(N,Fe),ev=s(Zg),tv=Zg*Q,nv=f(Jg,n),rv=ev*(U+P)+2*s(tv),ov=q*we,iv=a(q,st),uv=s(ov),sv=ov*R,lv=f(iv,g),cv=uv*(Z+y)+2*s(sv),av=H*qg,fv=f(h,Lg),dv=O*Qg+2*s(av),pv=ee*X,gv=f(Ae,v),vv=xt*w+2*s(pv),hv=Oe*V,_v=f(lt,_),xv=yt*C+2*s(hv),mv=pv+hv,bv=d(gv,_v),Pv=vv+xv+s(mv),Mv=N*k,Ev=a(N,x),yv=It*I+s(Mv),wv=q*G,Ov=a(q,m),Cv=Tt*S+s(wv),Iv=Mv+wv,Sv=d(Ev,Ov),Bv=yv+Cv+s(Iv),jv=zg*kg,Tv=f(Yg,Gg),Nv=Rg*Wg+2*s(jv),Dv=Xg*Ug,Fv=f(Hg,$g),Av=Vg*Kg+2*s(Dv),qv=jv+Dv,Lv=d(Tv,Fv),Qv=Nv+Av+s(qv),zv=3*(tv+sv),Yv=a(3,d(nv,lv)),Rv=3*(rv+cv)+2*s(zv),Xv=av+2*mv,Hv=d(fv,c(bv)),Vv=dv+2*Pv+s(Xv),kv=qv+zv,Gv=d(Lv,Yv),Wv=Qv+Rv+s(kv),Uv=Xv+Iv,$v=d(Hv,Sv),Kv=Vv+Bv+s(Uv),Zv=kv+Uv,Jv=d(Gv,$v),eh=Wv+Kv+s(Zv),th=D*Q,nh=a(D,n),rh=Ct*P+s(th),oh=L*z,ih=a(L,r),uh=jt*M+s(oh),sh=th+oh,lh=d(nh,ih),ch=rh+uh+s(sh),ah=D*Y,fh=a(D,p),dh=Ct*E+s(ah),ph=L*R,gh=a(L,g),vh=jt*y+s(ph),hh=ah+ph,_h=d(fh,gh),xh=dh+vh+s(hh),mh=sh+X,bh=d(lh,v),Ph=ch+w+s(mh),Mh=hh+V,Eh=d(_h,_),yh=xh+C+s(Mh),wh=J*mh,Oh=f(Fe,bh),Ch=_t*Ph+2*s(wh),Ih=we*Mh,Sh=f(st,Eh),Bh=Et*yh+2*s(Ih),jh=wh+Ih,Th=d(Oh,Sh),Nh=Ch+Bh+s(jh),Dh=re*H,Fh=f(Qe,h),Ah=Mt*O+s(Dh),qh=jh+Dh,Lh=d(Th,Fh),Qh=Nh+Ah+s(qh),zh=D*k,Yh=a(D,x),Rh=Ct*I+s(zh),Xh=L*G,Hh=a(L,m),Vh=jt*S+s(Xh),kh=zh+Xh,Gh=d(Yh,Hh),Wh=Rh+Vh+s(kh),Uh=qh+kh,$h=d(Lh,Gh),Kh=Qh+Wh+s(Uh),Zh=Uh+W;return{coeffs:[pn,$n,bo,xu,El,ba,Fd,Fg,Jv,d($h,b)],errBound:[gn,Kn,Po,mu,yl,Pa,Ad,Ag,eh,Kh+B+s(Zh)].map(e=>i.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),o=n(0),i=n(1),u=o.twoProduct,s=o.qAddQuad;t.getCoeffs1x1Exact_=function(e,t){let{"vₓ":n,"vᵧ":o,v:l}=r.getImplicitForm1Exact_(e),[[c,a],[f,d]]=i.getXY(t),p=u(c,n),g=u(f,o),v=s(p,g),h=u(a,n),_=u(d,o),x=s(h,_);return[v,s(x,l)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37),o=n(0),i=n(1),u=o.qAddQuad,s=o.scaleExpansion2,l=o.expansionProduct,c=o.fastExpansionSum,a=o.eMultBy2;t.getCoeffs2x1Exact_=function(e,t){let{"vₓₓ":n,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v}=r.getImplicitForm2Exact_(e),[[h,_],[x,m]]=i.getXY(t),b=o.twoProduct(_,_),P=o.twoProduct(_,h),M=o.twoProduct(_,m),E=o.twoProduct(_,x),y=o.twoProduct(h,h),w=o.twoProduct(h,m),O=o.twoProduct(h,x),C=o.twoProduct(m,m),I=o.twoProduct(m,x),S=o.twoProduct(x,x),B=l(y,n),j=l(S,d),T=l(O,f),N=c(B,j),D=c(N,T),F=l(P,n),A=l(I,d),q=u(E,w),L=l(q,f),Q=a(c(F,A)),z=c(Q,L),Y=s(h,p),R=s(x,g),X=c(Y,R),H=c(z,X),V=l(b,n),k=l(M,f),G=l(C,d),W=c(V,k),U=c(W,G),$=s(_,p),K=s(m,g),Z=c($,K),J=c(U,Z);return[D,H,c(J,v)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(34),i=n(1),u=r.scaleExpansion2,s=r.expansionProduct,l=r.fastExpansionSum,c=r.eMultBy2;t.getCoeffs3x1Exact_=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":a,"vₓᵧᵧ":f,"vᵧᵧᵧ":d,"vₓₓ":p,"vₓᵧ":g,"vᵧᵧ":v,"vₓ":h,"vᵧ":_,v:x}=o.getImplicitForm3Exact_(e),[[m,b],[P,M]]=i.getXY(t),E=r.twoProduct(b,b),y=r.twoProduct(b,m),w=r.twoProduct(b,M),O=r.twoProduct(b,P),C=r.twoProduct(m,m),I=r.twoProduct(m,M),S=r.twoProduct(m,P),B=r.twoProduct(M,M),j=r.twoProduct(M,P),T=r.twoProduct(P,P),N=u(b,n),D=u(3*b,n),F=u(b,a),A=u(M,a),q=u(b,f),L=u(M,f),Q=u(M,d),z=u(3*M,d),Y=u(m,n),R=u(m,f),X=u(P,a),H=u(P,d),V=l(Y,X),k=l(R,H),G=s(C,V),W=s(T,k),U=l(G,W),$=l(D,A),K=c(l(F,L)),Z=l(q,z),J=l($,p),ee=l(K,g),te=l(Z,v),ne=s(C,J),re=s(S,ee),oe=s(T,te),ie=l(ne,re),ue=l(ie,oe),se=c(l(A,p)),le=c(l(q,v)),ce=l(D,se),ae=l(z,le),fe=l(F,g),de=l(L,g),pe=s(y,ce),ge=s(j,ae),ve=s(O,fe),he=s(I,de),_e=u(m,h),xe=u(P,_),me=l(pe,ge),be=l(ve,he),Pe=l(me,be),Me=l(_e,xe),Ee=l(Pe,Me),ye=l(N,A),we=l(Q,q),Oe=l(ye,p),Ce=l(we,v),Ie=s(E,Oe),Se=s(B,Ce),Be=s(w,g),je=l(Ie,Se),Te=l(je,Be),Ne=u(b,h),De=u(M,_),Fe=l(Ne,De),Ae=l(Te,Fe);return[U,ue,Ee,l(Ae,x)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),o=n(0),i=n(1);t.getCoeffs1x2Exact_=function(e,t){let{"vₓ":n,"vᵧ":u,v:s}=r.getImplicitForm1Exact_(e),[[l,c,a],[f,d,p]]=i.getXY(t),g=o.twoProduct(l,n),v=o.twoProduct(f,u),h=o.qAddQuad(g,v),_=o.twoProduct(c,n),x=o.twoProduct(d,u),m=o.qAddQuad(_,x),b=o.twoProduct(a,n),P=o.twoProduct(p,u),M=o.qAddQuad(b,P);return[h,m,o.qAddQuad(M,s)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37),o=n(0),i=n(1),u=o.qAddQuad,s=o.qMultBy2,l=o.scaleExpansion2,c=o.expansionProduct,a=o.fastExpansionSum,f=o.eMultBy2,d=o.twoProduct;t.getCoeffs2x2Exact_=function(e,t){let{"vₓₓ":n,"vₓᵧ":o,"vᵧᵧ":p,"vₓ":g,"vᵧ":v,v:h}=r.getImplicitForm2Exact_(e),[[_,x,m],[b,P,M]]=i.getXY(t),E=d(m,m),y=d(m,x),w=d(m,_),O=d(m,M),C=d(m,P),I=d(m,b),S=d(x,x),B=d(x,_),j=d(x,M),T=d(x,P),N=d(x,b),D=d(_,P),F=d(_,_),A=d(_,M),q=d(_,b),L=d(M,M),Q=d(M,P),z=d(M,b),Y=d(P,P),R=d(P,b),X=d(b,b),H=c(F,n),V=c(q,o),k=c(X,p),G=a(H,V),W=a(G,k),U=c(B,n),$=c(R,p),K=u(N,D),Z=c(K,o),J=f(a(U,$)),ee=a(J,Z),te=u(s(w),S),ne=u(s(z),Y),re=u(I,T),oe=u(re,A),ie=c(te,n),ue=c(ne,p),se=c(oe,o),le=l(_,g),ce=l(b,v),ae=a(ie,ue),fe=a(ae,se),de=a(le,ce),pe=a(fe,de),ge=c(y,n),ve=c(Q,p),he=u(C,j),_e=c(he,o),xe=f(a(ge,ve)),me=l(x,g),be=l(P,v),Pe=a(xe,_e),Me=a(me,be),Ee=a(Pe,Me),ye=c(E,n),we=c(O,o),Oe=c(L,p),Ce=l(m,g),Ie=l(M,v),Se=a(ye,we),Be=a(Se,Oe),je=a(Ce,Ie),Te=a(Be,je);return[W,ee,pe,Ee,a(Te,h)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(34),i=n(1),u=r.qMultBy2,s=r.qMultDouble2,l=r.qAddQuad,c=r.scaleExpansion2,a=r.expansionProduct,f=r.fastExpansionSum,d=r.eMultBy2,p=r.twoProduct;t.getCoeffs3x2Exact_=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":r,"vₓᵧᵧ":g,"vᵧᵧᵧ":v,"vₓₓ":h,"vₓᵧ":_,"vᵧᵧ":x,"vₓ":m,"vᵧ":b,v:P}=o.getImplicitForm3Exact_(e),[[M,E,y],[w,O,C]]=i.getXY(t),I=p(y,y),S=p(y,E),B=p(y,M),j=p(y,C),T=p(y,O),N=p(y,w),D=p(E,E),F=p(E,M),A=p(E,C),q=p(E,O),L=p(E,w),Q=p(M,O),z=p(M,M),Y=p(M,C),R=p(M,w),X=p(C,C),H=p(C,O),V=p(C,w),k=p(O,O),G=p(O,w),W=p(w,w),U=c(M,n),$=c(M,g),K=c(w,r),Z=c(w,v),J=f(U,K),ee=f($,Z),te=a(z,J),ne=a(W,ee),re=f(te,ne),oe=l(B,D),ie=l(V,k),ue=l(u(B),D),se=l(u(V),k),le=l(u(q),Y),ce=l(u(q),N),ae=l(u(Y),q),fe=l(s(6,B),D),de=l(s(6,V),k),pe=l(L,Q),ge=l(N,Y),ve=l(u(A),T),he=l(u(T),A),_e=l(N,q),xe=l(_e,Y),me=s(3,z),be=s(3,W),Pe=a(me,n),Me=a(z,r),Ee=d(a(R,r)),ye=d(a(R,g)),we=a(W,g),Oe=a(be,v),Ce=f(Pe,Ee),Ie=f(Me,ye),Se=f(Ce,we),Be=f(Ie,Oe),je=c(E,Se),Te=c(O,Be),Ne=f(je,Te),De=c(w,ue),Fe=c(w,ce),Ae=c(M,le),qe=c(M,se),Le=c(3*M,oe),Qe=c(3*w,ie),ze=f(De,Ae),Ye=f(Fe,qe),Re=a(Le,n),Xe=a(Qe,v),He=a(ze,r),Ve=a(Ye,g),ke=f(Re,Xe),Ge=f(He,Ve),We=a(z,h),Ue=a(W,x),$e=a(R,_),Ke=f(We,Ue),Ze=f(ke,Ge),Je=f(Ke,$e),et=f(Ze,Je),tt=c(E,fe),nt=c(O,de),rt=c(2*y,pe),ot=c(2*O,ge),it=c(E,ae),ut=c(E,se),st=f(rt,it),lt=f(ot,ut),ct=a(G,x),at=a(F,h),ft=a(pe,_),dt=f(ct,at),pt=a(tt,n),gt=a(st,r),vt=a(nt,v),ht=a(lt,g),_t=f(pt,vt),xt=f(gt,ht),mt=f(_t,xt),bt=f(d(dt),ft),Pt=f(mt,bt),Mt=c(3*y,oe),Et=c(3*C,ie),yt=c(y,ce),wt=c(y,se),Ot=c(C,ue),Ct=c(C,le),It=f(yt,Ot),St=f(wt,Ct),Bt=a(Mt,n),jt=a(Et,v),Tt=a(It,r),Nt=a(St,g),Dt=a(ue,h),Ft=a(se,x),At=a(xe,_),qt=c(M,m),Lt=c(w,b),Qt=f(Bt,jt),zt=f(Tt,Nt),Yt=f(Dt,Ft),Rt=f(Qt,zt),Xt=f(Yt,At),Ht=f(qt,Lt),Vt=f(Rt,Xt),kt=f(Vt,Ht),Gt=c(3*y,S),Wt=c(3*C,H),Ut=c(y,ve),$t=c(C,he),Kt=a(S,h),Zt=a(H,x),Jt=a(T,_),en=a(A,_),tn=d(f(Kt,Zt)),nn=f(Jt,en),rn=c(E,m),on=c(O,b),un=a(Gt,n),sn=a(Wt,v),ln=a(Ut,r),cn=a($t,g),an=f(un,sn),fn=f(ln,cn),dn=f(an,fn),pn=f(tn,nn),gn=f(rn,on),vn=f(dn,pn),hn=f(vn,gn),_n=c(y,n),xn=c(y,g),mn=c(C,r),bn=c(C,v),Pn=f(_n,mn),Mn=f(xn,bn),En=f(Pn,h),yn=f(Mn,x),wn=a(I,En),On=a(X,yn),Cn=a(j,_),In=c(y,m),Sn=c(C,b),Bn=f(wn,On),jn=f(Bn,Cn),Tn=f(In,Sn),Nn=f(jn,Tn);return[re,Ne,et,Pt,kt,hn,f(Nn,P)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),o=n(0),i=n(1);t.getCoeffs1x3Exact_=function(e,t){let{"vₓ":n,"vᵧ":u,v:s}=r.getImplicitForm1Exact_(e),[[l,c,a,f],[d,p,g,v]]=i.getXY(t),h=o.twoProduct(l,n),_=o.twoProduct(d,u),x=o.qAddQuad(h,_),m=o.twoProduct(c,n),b=o.twoProduct(p,u),P=o.qAddQuad(m,b),M=o.twoProduct(a,n),E=o.twoProduct(g,u),y=o.qAddQuad(M,E),w=o.twoProduct(f,n),O=o.twoProduct(v,u),C=o.qAddQuad(w,O);return[x,P,y,o.qAddQuad(C,s)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(37),i=n(1),u=r.qAddQuad,s=r.qMultBy2,l=r.scaleExpansion2,c=r.expansionProduct,a=r.fastExpansionSum,f=r.eMultBy2;t.getCoeffs2x3Exact_=function(e,t){let{"vₓₓ":n,"vₓᵧ":d,"vᵧᵧ":p,"vₓ":g,"vᵧ":v,v:h}=o.getImplicitForm2Exact_(e),[[_,x,m,b],[P,M,E,y]]=i.getXY(t),w=r.twoProduct(b,b),O=r.twoProduct(b,m),C=r.twoProduct(b,x),I=r.twoProduct(b,_),S=r.twoProduct(b,y),B=r.twoProduct(b,E),j=r.twoProduct(b,M),T=r.twoProduct(b,P),N=r.twoProduct(m,m),D=r.twoProduct(m,x),F=r.twoProduct(m,_),A=r.twoProduct(m,y),q=r.twoProduct(m,E),L=r.twoProduct(m,M),Q=r.twoProduct(m,P),z=r.twoProduct(x,E),Y=r.twoProduct(x,x),R=r.twoProduct(x,_),X=r.twoProduct(x,y),H=r.twoProduct(x,M),V=r.twoProduct(x,P),k=r.twoProduct(_,_),G=r.twoProduct(_,y),W=r.twoProduct(_,E),U=r.twoProduct(_,M),$=r.twoProduct(_,P),K=r.twoProduct(y,y),Z=r.twoProduct(y,E),J=r.twoProduct(y,M),ee=r.twoProduct(y,P),te=r.twoProduct(E,E),ne=r.twoProduct(E,M),re=r.twoProduct(P,P),oe=r.twoProduct(M,M),ie=r.twoProduct(M,P),ue=r.twoProduct(E,P),se=c(k,n),le=c($,d),ce=c(re,p),ae=a(se,le),fe=a(ae,ce),de=c(R,n),pe=c(ie,p),ge=a(de,pe),ve=u(V,U),he=c(ve,d),_e=a(f(ge),he),xe=u(s(F),Y),me=u(s(ue),oe),be=u(Q,H),Pe=u(be,W),Me=c(xe,n),Ee=c(me,p),ye=a(Me,Ee),we=c(Pe,d),Oe=a(ye,we),Ce=u(I,D),Ie=u(ee,ne),Se=u(T,L),Be=u(z,G),je=u(Se,Be),Te=c(Ce,n),Ne=c(Ie,p),De=f(a(Te,Ne)),Fe=c(je,d),Ae=l(_,g),qe=l(P,v),Le=a(Ae,qe),Qe=a(De,Fe),ze=a(Qe,Le),Ye=u(s(C),N),Re=u(s(J),te),Xe=u(j,q),He=u(Xe,X),Ve=c(Ye,n),ke=c(Re,p),Ge=c(He,d),We=a(Ve,ke),Ue=a(We,Ge),$e=l(x,g),Ke=l(M,v),Ze=a($e,Ke),Je=a(Ue,Ze),et=c(O,n),tt=c(Z,p),nt=u(B,A),rt=c(nt,d),ot=f(a(et,tt)),it=a(ot,rt),ut=l(m,g),st=l(E,v),lt=a(ut,st),ct=a(it,lt),at=c(w,n),ft=c(S,d),dt=c(K,p),pt=l(b,g),gt=l(y,v),vt=a(at,ft),ht=a(vt,dt),_t=a(pt,gt),xt=a(ht,_t);return[fe,_e,Oe,ze,Je,ct,a(xt,h)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(34),i=n(1),u=r.twoProduct,s=r.qMultBy2,l=r.qAddQuad,c=r.scaleExpansion2,a=r.expansionProduct,f=r.fastExpansionSum,d=r.eMultBy2;t.getCoeffs3x3Exact_=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":r,"vₓᵧᵧ":p,"vᵧᵧᵧ":g,"vₓₓ":v,"vₓᵧ":h,"vᵧᵧ":_,"vₓ":x,"vᵧ":m,v:b}=o.getImplicitForm3Exact_(e),[[P,M,E,y],[w,O,C,I]]=i.getXY(t),S=u(y,y),B=u(y,E),j=u(y,M),T=u(y,P),N=u(y,I),D=u(y,C),F=u(y,O),A=u(y,w),q=u(E,E),L=u(E,M),Q=u(E,P),z=u(E,I),Y=u(E,C),R=u(E,O),X=u(E,w),H=u(M,C),V=u(M,M),k=u(M,P),G=u(M,I),W=u(M,O),U=u(M,w),$=u(P,P),K=u(P,I),Z=u(P,C),J=u(P,O),ee=u(P,w),te=u(I,I),ne=u(I,C),re=u(I,O),oe=u(I,w),ie=u(C,C),ue=u(C,O),se=u(w,w),le=u(O,O),ce=u(O,w),ae=u(C,w),fe=c(P,$),de=c(P,se),pe=c(w,$),ge=c(w,se),ve=a(fe,n),he=a(de,p),_e=a(pe,r),xe=a(ge,g),me=f(ve,he),be=f(_e,xe),Pe=f(me,be),Me=l(s(U),J),Ee=l(s(J),U),ye=c(P,Me),we=c(w,Ee),Oe=c(M,$),Ce=c(O,se),Ie=a(n,Oe),Se=a(g,Ce),Be=a(r,ye),je=a(p,we),Te=f(Be,je),Ne=c(3,f(Ie,Se)),De=f(Te,Ne),Fe=c(E,ee),Ae=c(C,$),qe=c(M,ce),Le=c(E,se),Qe=c(M,J),ze=c(w,V),Ye=c(P,ae),Re=c(O,J),Xe=f(Fe,Qe),He=f(Ae,ze),Ve=f(qe,Ye),ke=f(Le,Re),Ge=l(Q,V),We=l(ae,le),Ue=f(d(Xe),He),$e=f(d(Ve),ke),Ke=a(r,Ue),Ze=a(p,$e),Je=c(P,Ge),et=c(w,We),tt=a(n,Je),nt=a(g,et),rt=f(Ke,Ze),ot=c(3,f(tt,nt)),it=f(rt,ot),ut=l(U,J),st=c(O,V),lt=d(c(E,ut)),ct=f(st,lt),at=s(l(A,H)),ft=l(at,K),dt=c(P,ft),pt=f(ct,dt),gt=c(M,le),vt=d(c(C,ut)),ht=f(gt,vt),_t=s(l(R,K)),xt=l(_t,A),mt=c(w,xt),bt=f(ht,mt),Pt=c(M,V),Mt=l(s(L),T),Et=c(3*P,Mt),yt=f(Pt,Et),wt=c(O,le),Ot=l(s(ue),oe),Ct=c(3*w,Ot),It=f(wt,Ct),St=a(r,pt),Bt=a(p,bt),jt=f(St,Bt),Tt=a(n,yt),Nt=a(g,It),Dt=f(Tt,Nt),Ft=a($,v),At=a(se,_),qt=f(Ft,At),Lt=a(ee,h),Qt=f(jt,Dt),zt=f(qt,Lt),Yt=f(Qt,zt),Rt=l(W,Z),Xt=l(X,W),Ht=c(y,ut),Vt=c(I,ut),kt=c(E,Rt),Gt=c(C,Xt),Wt=l(s(K),H),Ut=l(s(A),R),$t=c(w,q),Kt=c(P,ie),Zt=c(M,Wt),Jt=c(O,Ut),en=d(f(Ht,kt)),tn=d(f(Vt,Gt)),nn=d(c(y,k)),rn=d(c(I,ce)),on=c(E,Ge),un=c(C,We),sn=a(k,v),ln=a(ce,_),cn=f(en,$t),an=f(tn,Kt),fn=f(cn,Zt),dn=f(an,Jt),pn=f(nn,on),gn=f(rn,un),vn=d(f(sn,ln)),hn=a(r,fn),_n=a(p,dn),xn=a(n,pn),mn=a(g,gn),bn=f(hn,_n),Pn=c(3,f(xn,mn)),Mn=a(h,ut),En=f(bn,Pn),yn=f(Mn,vn),wn=f(En,yn),On=l(X,Rt),Cn=l(s(Q),V),In=l(s(ae),le),Sn=c(2*y,On),Bn=c(2*I,On),jn=l(R,s(H)),Tn=l(H,s(R)),Nn=c(I,Cn),Dn=c(y,In),Fn=c(E,jn),An=c(C,Tn),qn=c(y,Cn),Ln=c(I,In),Qn=c(M,q),zn=c(O,ie),Yn=f(Sn,Nn),Rn=f(Bn,Dn),Xn=f(Yn,Fn),Hn=f(Rn,An),Vn=f(qn,Qn),kn=f(Ln,zn),Gn=a(r,Xn),Wn=a(p,Hn),Un=a(n,Vn),$n=a(g,kn),Kn=f(Un,$n),Zn=f(Gn,Wn),Jn=f(Zn,c(3,Kn)),er=a(h,On),tr=a(v,Cn),nr=f(er,tr),rr=a(_,In),or=f(nr,rr),ir=f(Jn,or),ur=l(R,H),sr=l(K,A),lr=l(L,T),cr=l(ue,oe),ar=l(s(ur),K),fr=l(s(ur),A),dr=l(s(G),Y),pr=l(s(F),Y),gr=l(lr,L),vr=l(cr,ue),hr=c(3*y,gr),_r=c(3*I,vr),xr=c(E,q),mr=c(C,ie),br=a(v,lr),Pr=a(_,cr),Mr=f(ar,sr),Er=f(fr,sr),yr=c(y,Mr),wr=c(I,Er),Or=c(E,dr),Cr=c(C,pr),Ir=c(P,x),Sr=c(w,m),Br=f(yr,Or),jr=f(wr,Cr),Tr=f(hr,xr),Nr=f(_r,mr),Dr=l(sr,ur),Fr=d(f(br,Pr)),Ar=a(r,Br),qr=a(p,jr),Lr=a(n,Tr),Qr=a(g,Nr),zr=a(h,Dr),Yr=f(Ar,qr),Rr=f(Lr,Qr),Xr=f(zr,Fr),Hr=f(Ir,Sr),Vr=f(Yr,Rr),kr=f(Xr,Hr),Gr=f(Vr,kr),Wr=l(Y,G),Ur=l(Y,F),$r=l(s(Wr),F),Kr=l(s(Ur),G),Zr=c(y,$r),Jr=c(I,q),eo=c(I,Kr),to=c(y,ie),no=c(y,q),ro=c(M,S),oo=c(I,ie),io=c(O,te),uo=f(Zr,Jr),so=f(eo,to),lo=f(no,ro),co=f(oo,io),ao=a(n,lo),fo=a(g,co),po=c(3,f(ao,fo)),go=l(Wr,F),vo=l(s(j),q),ho=l(s(re),ie),_o=a(r,uo),xo=a(p,so),mo=a(h,go),bo=a(v,vo),Po=a(_,ho),Mo=c(M,x),Eo=c(O,m),yo=f(Mo,Eo),wo=f(_o,xo),Oo=f(po,mo),Co=f(bo,Po),Io=f(wo,Oo),So=f(Co,yo),Bo=f(Io,So),jo=l(z,D),To=c(y,r),No=c(I,p),Do=l(jo,z),Fo=l(jo,D),Ao=c(E,S),qo=a(Ao,n),Lo=c(C,te),Qo=a(Lo,g),zo=a(h,jo),Yo=a(B,v),Ro=a(ne,_),Xo=f(Yo,Ro),Ho=c(E,x),Vo=c(C,m),ko=f(Ho,Vo),Go=a(To,Do),Wo=a(No,Fo),Uo=f(Go,Wo),$o=c(3,f(qo,Qo)),Ko=f(zo,d(Xo)),Zo=f(Uo,$o),Jo=f(Ko,ko),ei=f(Zo,Jo),ti=c(y,n),ni=c(I,r),ri=f(ti,ni),oi=c(y,p),ii=c(I,g),ui=f(oi,ii),si=f(ri,v),li=f(ui,_),ci=a(S,si),ai=a(te,li),fi=f(ci,ai),di=a(N,h),pi=f(fi,di),gi=c(y,x),vi=c(I,m),hi=f(gi,vi),_i=f(pi,hi);return[Pe,De,it,Yt,wn,ir,Gr,Bo,ei,f(_i,b)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(1),i=Math.abs;t.getCoeffs3=function(e){let[[t,n,u],[s,l,c]]=o.getXY(e),a=n*s,f=t*l,d=t*c,p=u*s,g=n*c,v=u*l,h=i(a),_=i(f),x=i(d),m=i(p),b=i(g),P=i(v),M=a-f,E=i(M),y=h+_+E,w=p-d,O=i(w),C=m+x+O,I=g-v,S=i(I),B=b+P+S,j=M*M,T=M*w,N=I*M,D=w*w,F=N+D;return{coeffs:[j,T,F],errBound:[2*y*E+i(j),y*O+E*C+i(T),B*E+S*y+i(N)+(2*O*C+i(D))+i(F)].map(e=>r.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31),o=n(3),i=n(6),u=n(0),s=n(78);t.inversion01Precise=function(e,t){let n=s.getTangentPolyFromPointExact(e,t),l=i.allRootsMultiWithErrBounds(n,n.map(e=>0));if(!l.length)return;let c=l.map(t=>({t:i.mid(t),p:r.evaluateExact(e,i.mid(t)).map(u.estimate)})),a=Number.POSITIVE_INFINITY,f=void 0;return c.forEach(e=>{let n=o.squaredDistanceBetween(e.p,t);n<a&&(a=n,f=e.t)}),{t:f,minD:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDxyAt0=function(e){if(4===e.length){let[[t,n],[r,o]]=e;return[3*(r-t),3*(o-n)]}if(3===e.length){let[[t,n],[r,o]]=e;return[2*(r-t),2*(o-n)]}if(2===e.length){let[[t,n],[r,o]]=e;return[r-t,o-n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdxyAt0=function(e){if(4===e.length){let[[t,n],[r,o],[i,u]]=e;return[6*i-12*r+6*t,6*u-12*o+6*n]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[2*i-4*r+2*t,2*u-4*o+2*n]}if(2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDddxy=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[6*(s+3*(r-i)-t),6*(l+3*(o-u)-n)]}if(3===e.length||2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),o=n(28);t.tangent=function(e,t){const n=r.evaluateDx(e),i=o.evaluateDy(e);function u(e){return[n(e),i(e)]}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.isQuadObtuse=function(e){let t=r.fromTo(e[0],e[1]),n=r.fromTo(e[1],e[2]),o=r.fromTo(e[2],e[0]),i=r.dot(o,t)>0,u=r.dot(n,o)>0;return i||u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),o=n(56);t.splitByMaxCurveLength=function(e,t){let n=[0,1],i=[[0,1]],u=o.fromTo(e);for(;i.length;){let e=i.pop(),o=u(e[0],e[1]);if(r.lengthUpperBound(o)>t){let t=(e[0]+e[1])/2;i.push([e[0],t]),i.push([t,e[1]]),n.push(t)}}return n.sort((e,t)=>e-t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.lengthSquaredUpperBound=function(e){let t=0;for(let n=0;n<e.length-1;n++)t+=r.squaredDistanceBetween(e[n],e[n+1]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){let[t,n]=e;if(!(t<0&&n<0||t>1&&n>1))return t<0&&(t=0),t>1&&(t=1),n<0&&(n=0),n>1&&(n=1),[t,n]}function o(e,t,n){return r=>t/n*(r-e)}t.getCurvatureExtremaBrackets=function(e){let t={brackets:[],inflections:[]},[[n,i],[u,s],[l,c],[a,f]]=e,d=u-n,p=s-i,g=l-n,v=c-i,h=a-n,_=f-i,x=d,m=g-d,b=h-g,P=p,M=v-p,E=_-v;Math.abs(x-2*m+b)<1e-6&&Math.abs(P-2*M+E);let y,w=h-3*g+3*d,O=_-3*v+3*p,C=w*w,I=O*O,S=Math.sqrt(C/I+1),B=1/S;y=0===B?1:w/(O*S);let j=d*B-p*y,T=d*y+p*B,N=g*B-v*y,D=g*y+v*B,F=h*B-_*y;x=j,m=N-j,b=F-N,P=T,M=D-T,E=h*y+_*B-D;let A=3*(P-2*M+E),q=m-x;if(0===q)return 0===x||x<0&&(j=-j,N=-N,F=-F,x=-x,m=-m,b=-b),t;{q<0&&(j=-j,N=-N,F=-F,x=-x,m=-m,b=-b,q=-q);let e=6*q,n=3*A*x/(e*e),i=3*(M-P)/e,u=n*n-2*i*n+3*A*P/(e*e),s=2*(i-n),l=function(e,t,n){return r=>r.map(o(e,t,n))}(n,e,A),c=o(n,e,A);if(u>0){let e=Math.sqrt(u),t=-e,n=e;return{brackets:[[Number.NEGATIVE_INFINITY,t],[t,n],[n,Number.POSITIVE_INFINITY]].map(l).map(r),inflections:[c(t),c(n)].filter(e=>e>0&&e<1)}}if(u<0){let e=2*s*s-8*u-3;if(e<0){return{brackets:[[0,Math.sqrt(-3*u)]].map(l).map(r),inflections:[]}}{let t=Math.sqrt(5*e),n=(-5*s-t)/10,o=(-5*s+t)/10;return{brackets:[[Number.NEGATIVE_INFINITY,n],[n,Math.min(0,o)],[Math.max(0,o),Math.sqrt(-3*u)]].map(l).map(r),inflections:[]}}}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),o=n(3);t.flatness=function(e){return r.lengthUpperBound(e)/o.distanceBetween(e[0],e[e.length-1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.isLine=function(e){return 2===e.length||(3===e.length?0===r.orient2d(e[0],e[1],e[2]):4===e.length?0===r.orient2d(e[0],e[1],e[2])&&0===r.orient2d(e[1],e[2],e[3])&&0===r.orient2d(e[0],e[2],e[3]):void 0)},t.isHorizontalLine=function(e){let t=e[0][1];for(let n=1;n<e.length;n++)if(e[n][1]!==t)return!1;return!0},t.isVerticalLine=function(e){let t=e[0][0];for(let n=1;n<e.length;n++)if(e[n][0]!==t)return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(85);let i=r.memoize((function(e){let t=o.getXBoundsTight(e),n=o.getYBoundsTight(e);return[[t.minX.box[0][0],n.minY.box[0][1]],[t.maxX.box[1][0],n.maxY.box[1][1]]]}));t.getBoundingBox=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(367);t.simplifyPaths=r.simplifyPaths;const o=n(182);t.getLoopArea=o.getLoopArea;const i=n(405);t.enableDebugForBooleanOp=i.enableDebugForBooleanOp;const u=n(416);t.getPathsFromStr=u.getPathsFromStr;const s=n(183);t.beziersToSvgPathStr=s.beziersToSvgPathStr},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containerIsBasic=function(e,t){return t.xs.length<=2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(383),o=n(384);t.getInOutsViaSides=function(e,t){let n=e.xs,i=[],u=new Map;for(let e of n){let t=e.curve,n=u.get(t);n?n.push(e):u.set(t,[e])}let s=r.getXInOuts(e);for(let e of u){let n,r,[o,u]=e;({ins:n,outs:r,ioIdx:t}=s(o,u,t)),i.push(...n),i.push(...r)}return i.sort(o.compareOrderedInOut),{inOuts:i.map(e=>e.inOut),ioIdx:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){let n=e.x-t.x;return 0!==n?n:e.type}t.sweepLine=function(e,t,n,o){let i=[];for(let r of e)i.push({type:-1,item:r,x:t(r)}),i.push({type:1,item:r,x:n(r)});i.sort(r);let u=new Set,s=[];for(let e of i){let t=e.item;if(-1===e.type){for(let e of u.values()){let n=o(t,e);n&&s.push({a:t,b:e,u:n})}u.add(t)}else 1===e.type&&u.delete(e.item)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loopFromBeziers=function(e=[]){let t,n=[],r={beziers:e,curves:n};if(!e.length)return r;let o=0;for(let u=0;u<e.length;u++){if(2===(i=e[u]).length?i[0][0]===i[1][0]&&i[0][1]===i[1][1]:3===i.length?i[0][0]===i[1][0]&&i[0][1]===i[1][1]&&i[1][1]===i[2][1]&&i[1][1]===i[2][1]:i[0][0]===i[1][0]&&i[0][1]===i[1][1]&&i[1][1]===i[2][1]&&i[1][1]===i[2][1]&&i[2][1]===i[3][1]&&i[2][1]===i[3][1])continue;let s={loop:r,ps:e[u],prev:t,next:void 0,idx:o};t&&(t.next=s),t=s,n.push(s),o++}var i;let u=n[n.length-1];return n[0].prev=u,u.next=n[0],u.ps[u.ps.length-1]=n[0].ps[0],r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(77),i=n(6);t.getLoopArea=function(e){let t=0;for(let n of e.curves){let e=n.ps,u=r.getX(e),s=r.getY(e),l=r.getDx(e),c=r.getDy(e),a=i.multiply(u,c),f=i.negate(i.multiply(s,l)),d=i.add(a,f),p=i.evaluate(d);t+=o.gaussQuadrature(p,[0,1],16)}return-t/2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beziersToSvgPathStr=function(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];0===n&&(t="M "+r[0][0].toString()+" "+r[0][1].toString()+"\n"),4===r.length?t+="C "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" "+r[3][0].toString()+" "+r[3][1].toString()+" \n":3===r.length?t+="Q "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" \n":2===r.length&&(t+="L "+r[1][0].toString()+" "+r[1][1].toString()+" \n")}return t+" z\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(436),o=n(437),i=n(438);t.cullBezierPieces=function(e,t){if(e.length>0){let n=r.getBestDistanceSquared(e,t);e=o.cullByLooseBoundingBox(e,t,n),e=i.cullByTightBoundingBox(e,t,n)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(2);t.closestPointsOnCurve=function(e,t,[n,i]=[0,1],u,s){let l=o.getTangentPolyFromPointExact(e.ps,t);e===u&&(l=r.deflateQuad(l,s));let c=r.allRootsMultiWithErrBounds(l,l.map(e=>0),void 0,n,i),a=!0,f=!0;return(1===s&&e===u.next||0===s&&e===u)&&(a=!1),(0===s&&e===u.prev||1===s&&e===u)&&(f=!1),0===n?a&&c.push({tS:0,tE:0}):1===n?f&&c.push({tS:1,tE:1}):c.push({tS:n,tE:n}),0===i?a&&c.push({tS:0,tE:0}):1===i?f&&c.push({tS:1,tE:1}):c.push({tS:i,tE:i}),c.map(t=>{let n=t.tS,r=t.tE,i=n<0?0:r>1?1:(n+r)/2;return{p:o.evaluate(e.ps,i),t:i}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39);t.getClosestPoints=function(e,t){return t.map(t=>{let n=r.getClosestBoundaryPoint(t,e,void 0,void 0);return n?n.pos:void 0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=n(60);t.addToCpGraph=function(e,t,n,i,u){let s=i.map((i,s)=>{let l=n.get(i.curve.loop),c={pointOnShape:i,circle:e,order:t[s],order2:0},a=u?u[s]:o.getNeighbouringPoints(l,i,t[s],0);return r.CpNode.insert(!1,!1,l,c,a[0])}),l=i.length;for(let e=0;e<l;e++){let t=0===e?l-1:e-1,n=e===l-1?0:e+1;s[e].prevOnCircle=s[t],s[e].nextOnCircle=s[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(444),o=n(189),i=n(445);function u(e){return e&&e.color===o.default.RED}function s(e,t){let n=t.indexOf(e);-1!==n&&t.splice(n,1)}function l(e,t){const n=e?i.default.LEFT:i.default.RIGHT,r=t[n];return t[n]=r[e],r[e]&&(r[e].parent=t),r[e]=t,t.parent=r,r.color=t.color,t.color=o.default.RED,r}function c(e){return e===o.default.RED?o.default.BLACK:o.default.RED}function a(e){e.color=c(e.color),e[i.default.LEFT].color=c(e[i.default.LEFT].color),e[i.default.RIGHT].color=c(e[i.default.RIGHT].color)}function f(e){if(a(e),u(e[i.default.RIGHT][i.default.LEFT])){let t=l(i.default.RIGHT,e[i.default.RIGHT]);e[i.default.RIGHT]=t,t.parent=e,a(e=l(i.default.LEFT,e))}return e}function d(e){return u(e[i.default.RIGHT])&&(e=l(i.default.LEFT,e)),u(e[i.default.LEFT])&&u(e[i.default.LEFT][i.default.LEFT])&&(e=l(i.default.RIGHT,e)),u(e[i.default.LEFT])&&u(e[i.default.RIGHT])&&a(e),e}t.default=class{constructor(e,t,n){this.getMinNode=this.getMinOrMaxNode(i.default.LEFT),this.getMaxNode=this.getMinOrMaxNode(i.default.RIGHT);const r=this;if(r.setComparator(e,n),r.replaceDups=n,r.root=null,t)for(let e of t)r.insert(e)}setComparator(e,t){this.compare=t?e:(t,n)=>e(t,n[0])}isEmpty(){return!this.root}find(e){const t=this;let n=this.root;for(;n;){let r=t.compare(e,n.data);if(0===r)return n;n=n[r>0?i.default.RIGHT:i.default.LEFT]}return null}toArrayInOrder(){let e=[];return function t(n){if(!n)return;t(n[i.default.LEFT]),e.push(n),t(n[i.default.RIGHT])}(this.root),e}insert(e){const t=this;t.root=function e(n,o){if(!n)return new r.default(o,!t.replaceDups);let s=t.compare(o,n.data);if(0===s)t.replaceDups?n.data=o:n.data.push(o);else{let t=s>0?i.default.RIGHT:i.default.LEFT;n[t]=e(n[t],o),n[t].parent=n}u(n[i.default.RIGHT])&&!u(n[i.default.LEFT])&&(n=l(i.default.LEFT,n));u(n[i.default.LEFT])&&u(n[i.default.LEFT][i.default.LEFT])&&(n=l(i.default.RIGHT,n));u(n[i.default.LEFT])&&u(n[i.default.RIGHT])&&a(n);return n}(t.root,e),t.root.color=o.default.BLACK,t.root.parent=void 0}remove(e,t){const n=this;n.root=function e(r,o){let c=n.compare(o,r.data);if(!n.replaceDups&&0===c&&!t&&r.data.length>1)return s(o,r.data),r;if(c<0&&!r[i.default.LEFT]||c>0&&!r[i.default.RIGHT])return r;if(c<0)return u(r[i.default.LEFT])||u(r[i.default.LEFT][i.default.LEFT])||(r=f(r)),r[i.default.LEFT]=e(r[i.default.LEFT],o),r[i.default.LEFT]&&(r[i.default.LEFT].parent=r),d(r);if(u(r[i.default.LEFT])&&(r=l(i.default.RIGHT,r),c=n.compare(o,r.data),!n.replaceDups&&0===c&&!t&&r.data.length>1))return s(o,r.data),r;if(0===c&&!r[i.default.RIGHT])return null;if(!u(r[i.default.RIGHT])&&!u(r[i.default.RIGHT][i.default.LEFT])&&(r=function(e){a(e),u(e[i.default.LEFT][i.default.LEFT])&&a(e=l(i.default.RIGHT,e));return e}(r),c=n.compare(o,r.data),!n.replaceDups&&0===c&&!t&&r.data.length>1))return s(o,r.data),r;0===c?(r.data=n.min(r[i.default.RIGHT]),r[i.default.RIGHT]=function e(t){if(!t[i.default.LEFT])return null;u(t[i.default.LEFT])||u(t[i.default.LEFT][i.default.LEFT])||(t=f(t));t[i.default.LEFT]=e(t[i.default.LEFT]),t[i.default.LEFT]&&(t[i.default.LEFT].parent=t);return d(t)}(r[i.default.RIGHT])):r[i.default.RIGHT]=e(r[i.default.RIGHT],o);r[i.default.RIGHT]&&(r[i.default.RIGHT].parent=r);return d(r)}(n.root,e),n.root&&(n.root.color=o.default.BLACK,n.root.parent=void 0)}findBounds(e){const t=this;let n=t.root,r=[void 0,void 0];if(null===n)return r;for(;n;){const o=t.compare(e,n.data);o>=0?r[0]=n:r[1]=n,n=n[o>=0?i.default.RIGHT:i.default.LEFT]}return r}findBoundsExcl(e){const t=this;let n=t.root,r=[void 0,void 0];if(null===n)return r;return function n(o){for(;o;){let u=t.compare(e,o.data);if(0===u)return n(o[i.default.LEFT]),void n(o[i.default.RIGHT]);u>0?r[0]=o:u<0&&(r[1]=o),o=o[u>0?i.default.RIGHT:i.default.LEFT]}}(n),r}findAllInOrder(e){const t=this;let n=[];return function r(o){for(;o;){let u=t.compare(e,o.data);if(0===u)return r(o[i.default.LEFT]),n.push(o),void r(o[i.default.RIGHT]);o=o[u>0?i.default.RIGHT:i.default.LEFT]}}(t.root),n}getMinOrMaxNode(e){return function(t){if(t){for(;t[e];)t=t[e];return t}}}min(e){return this.getMinNode(e).data}max(e){return this.getMaxNode(e).data}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BLACK=0]="BLACK",e[e.RED=1]="RED"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(5),i=n(14),u=Number.POSITIVE_INFINITY;let s=i.memoize((function(e){let t=[[{bezier:void 0,t:void 0,val:u},{bezier:void 0,t:void 0,val:u}],[{bezier:void 0,t:void 0,val:-u},{bezier:void 0,t:void 0,val:-u}]];return e.curves.forEach((function(e){let n=e.ps,o=r.getBounds(n);{let n=o.box[0][0],r=t[0][0].val;(n<r||n===r&&o.ts[0][0]>t[0][0].t)&&(t[0][0]={bezier:e,t:o.ts[0][0],val:n})}{let n=o.box[0][1],r=t[0][1].val;(n<r||n===r&&o.ts[0][1]>t[0][1].t)&&(t[0][1]={bezier:e,t:o.ts[0][1],val:n})}{let n=o.box[1][0],r=t[1][0].val;(n>r||n===r&&o.ts[1][0]>t[1][0].t)&&(t[1][0]={bezier:e,t:o.ts[1][0],val:n})}{let n=o.box[1][1],r=t[1][1].val;(n>r||n===r&&o.ts[1][1]>t[1][1].t)&&(t[1][1]={bezier:e,t:o.ts[1][1],val:n})}})),{minX:new o.PointOnShape(t[0][0].bezier,t[0][0].t),minY:new o.PointOnShape(t[0][1].bezier,t[0][1].t),maxX:new o.PointOnShape(t[1][0].bezier,t[1][0].t),maxY:new o.PointOnShape(t[1][1].bezier,t[1][1].t)}}));t.getLoopBounds=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),i=n(39),u=n(5),s=n(451),l=n(452),c=n(453),a=n(454),f=n(455),d=n(456);function p(e,t,n,o){let i=Math.pow(1e-4*e,2);if(r.squaredDistanceBetween(t,o)<i)return;let u=[(t[0]+o[0])/2,(t[1]+o[1])/2],s=[o[0]-t[0],o[1]-t[1]],l=[-s[1],s[0]],c=[u[0]+l[0],u[1]+l[1]],a=r.lineLineIntersection([t,n],[u,c]);if(!a)return;let f=[a[0]-t[0],a[1]-t[1]],d=[n[0]-t[0],n[1]-t[1]];return r.dot(f,d)<0?void 0:a}t.find2Prong=function(e,t,n,g,v,h,_){const x=Math.pow(1e-6*t,2),m=Math.pow(1e-4,2),b=.01*x,P=n;let M,E,y,{bezierPieces:w,"δ":O}=f.getInitialBezierPieces(h,_,e,g,v);h?(E=[v.p[0],v.p[1]],M=[E[0],E[1]-Math.sqrt(P)],y=P):(E=v.p,M=u.getOsculatingCircle(P,v).center,y=r.squaredDistanceBetween(E,M));let C=function(e,t,n,i){const u=.001*e;let s=void 0,l=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let c=t[u],a=c.curve.ps,f=o.evalDeCasteljau(a,c.ts[0]),d=Number.POSITIVE_INFINITY;if(!s||s[0]!==f[0]||s[1]!==f[1]){let t=p(e,n,i,f);t&&(d=r.squaredDistanceBetween(n,t))}let g=Number.POSITIVE_INFINITY,v=o.evalDeCasteljau(a,c.ts[1]),h=p(e,n,i,v);h&&(g=r.squaredDistanceBetween(n,h)),s=v;let _=Math.min(d,g);_<l&&(l=_)}return l+u}(t,w,E,M);y>C&&(M=r.interpolate(E,M,Math.sqrt(C/y)));let I,S=[],B=0,j=0,T=!1,N=w;do{B++;let e=r.squaredDistanceBetween(M,v.p);if(N=c.cullBezierPieces(N,M,e),I=i.getClosestBoundaryPoint(N,M,v.curve,v.t),void 0===I){if("undefined"!=typeof _debug_){let e=_debug_.generated.elems,t=h?e.twoProng_holeClosing:e.twoProng_regular,n=h?"hole-closing: "+t.length:"regular: "+t.length;console.log("failed: no closest point - "+n)}T=!0;break}"undefined"!=typeof _debug_&&S.push({x:M,y:v,z:I.pos,t:v.t});let t=r.squaredDistanceBetween(M,I.pos.p);if(1===B&&e<t+m)return void s.add1Prong(Math.sqrt(P),g,v);if(!h&&r.squaredDistanceBetween(v.p,I.pos.p)<=x){T=!0;break}let n=a.findEquidistantPointOnLine(M,v.p,I.pos.p),o=r.squaredDistanceBetween(M,n);if(M=n,o<b)j++;else if(25===B){T=!0;break}}while(j<1);let D,F=[];return T||(F=d.getCloseBoundaryPoints(N,M,v,r.distanceBetween(M,I.pos.p)),F.length||F.push(I)),void 0!==I&&(D={center:M,radius:r.distanceBetween(M,I.pos.p)}),"undefined"==typeof _debug_||T||(S.push({x:M,y:v,z:I.pos,t:v.t}),l.addDebugInfo(w,T,v,D,I.pos,O,S,h)),T?void 0:{circle:D,zs:F}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTwoProngType=function(e){return e.holeClosing?"twoProng_holeClosing":"twoProng_regular"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(13),i=n(5),u=n(91),s=n(60);function l(e,t){return e*Math.pow(2,-(t+1))}function c(e,t){return e>0?e>.5?t:t<0?e-2:2-e:e<-.5?4-t:t<0?e+6:2-e}t.add2Prong=function(e,t,n,a,f,d){let p,g=i.calcPosOrder(t,n),v=a.map(e=>i.calcPosOrder(t,e.pos)),h=n.t;0===h&&(h=1,p=n.curve.prev,n=new i.PointOnShape(p,h));let _=!1;for(let n=0;n<a.length;n++){let r=a[n],o=v[n];if(u.isAnotherCpCloseby(e,r.pos,t,o,0,d,"red")){_=!0;break}}if(u.isAnotherCpCloseby(e,n,t,g,0,d,"red")||_)return void("undefined"!=typeof _debug_&&(f?_debug_.generated.elems.twoProng_holeClosing.pop():_debug_.generated.elems.twoProng_regular.pop()));let x=[],m=[],b=[],P=[],M=[];for(let n=0;n<a.length;n++){let r=a[n],i=v[n],u={pointOnShape:r.pos,circle:t,order:i,order2:0};m.push(u);let l=r.pos.curve.loop;M.push(l);let c=e.get(l);b.push(c);let d=s.getNeighbouringPoints(c,r.pos,i,0);P.push(d),x.push(o.CpNode.insert(f,!1,c,u,d[0]))}let E={pointOnShape:n,circle:t,order:g,order2:0},y=n.curve.loop,w=e.get(y),O=s.getNeighbouringPoints(w,n,g,0),C=o.CpNode.insert(f,!1,w,E,O[0]);if(1===x.length)C.prevOnCircle=x[0],C.nextOnCircle=x[0],x[0].prevOnCircle=C,x[0].nextOnCircle=C;else{let e=x.slice();e.push(C),e.sort(function(e){let t=e.center,n=e.radius,o=r.exponent(n);return function(e,n){let r=e.cp.pointOnShape.p,i=n.cp.pointOnShape.p;r=[r[0]-t[0],r[1]-t[1]],i=[i[0]-t[0],i[1]-t[1]];let u=l(r[0],o),s=l(r[1],o),a=l(i[0],o),f=l(i[1],o),d=c(u,s);return c(a,f)-d}}(t));for(let t=0;t<e.length;t++){let n=t+1===e.length?0:t+1,r=0===t?e.length-1:t-1,o=e[t],i=e[n],u=e[r];o.nextOnCircle=i,o.prevOnCircle=u}}if(f){let e={pointOnShape:a[0].pos,circle:t,order:m[0].order,order2:1},r=o.CpNode.insert(!0,!1,b[0],e,x[0]),i={pointOnShape:n,circle:t,order:E.order,order2:-1},u=o.CpNode.insert(!0,!1,w,i,C.prev);u.prevOnCircle=r,u.nextOnCircle=r,r.prevOnCircle=u,r.nextOnCircle=u,x[0].next=C,C.prev=x[0],u.next=r,r.prev=u}if("undefined"!=typeof _debug_){let e;e=f?_debug_.generated.elems.twoProng_holeClosing:_debug_.generated.elems.twoProng_regular;let t=e[e.length-1];C||console.log("asas"),t.cpNode=C}return C}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=["prev","next","prevOnCircle","nextOnCircle"];t.clone=function(e){let t=new Map,n=new r.CpNode(e.cp,e.isHoleClosing,e.isIntersection);t.set(e,n);let i=[{cpNode:e,newCpNode:n}];for(;i.length;){let{cpNode:e,newCpNode:n}=i.pop();for(let u of o){let o=e[u],s=t.get(o);s||(s=new r.CpNode(o.cp,o.isHoleClosing,o.isIntersection),t.set(o,s),i.push({cpNode:o,newCpNode:s})),n[u]=s}}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseVertices=function(e,t){t(e),e.getCpNodesOnCircle().filter(e=>!e.isTerminating()).map(e=>e.next).forEach((function(e){let n=[e];for(;n.length;){let e=n.pop();t(e),n.push(...e.vertexChildren)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(473),o=n(474),i=n(475),u=n(476),s=n(477),l=n(478),c=n(479),a=n(480),f=n(481),d=n(198),p=n(482),g=n(483),v=n(485),h=n(486);let _={oneProng:r.drawOneProng,oneProngAtDullCorner:h.oneProngAtDullCorner,twoProng_regular:o.twoProng,twoProng_failed:o.twoProng,twoProng_notAdded:o.twoProng,twoProng_deleted:o.twoProng,twoProng_holeClosing:o.twoProng,threeProng:i.threeProng,boundingHull:s.boundingHull,looseBoundingBox:l.looseBoundingBox,tightBoundingBox:c.tightBoundingBox,sharpCorner:a.sharpCorner,dullCorner:f.dullCorner,vertex:u.vertex,mat:d.drawMat("mat"),sat:d.drawMat("sat"),maxVertex:p.maxVertex,leaves:g.leaves,culls:v.culls,cpNode:function(e,t){return[]}};t.drawElemFunctions=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.scaleCircle=function(e,t){return{center:e.center,radius:t*e.radius}},t.engulfsCircle=function(e,t){if(e.radius<=t.radius)return!1;let n=r.squaredDistanceBetween(e.center,t.center),o=e.radius-t.radius;return o*o>n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94),o=n(4),i=n(17);t.drawMat=function(e){let t="mat"===e?"thin5 purple nofill":"thin10 red nofill";return(e,n)=>{let u=n.cpNode;if(!u)return;let s=[];return r.traverseEdges(u,n=>{if(n.isTerminating())return;let r=i.getCurveToNext(n);r&&(s.push(...o.drawFs.bezier(e,r,t)))}),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13);t.CpNode=r.CpNode;const o=n(5);t.PointOnShape=o.PointOnShape;const i=n(366);t.findMats=i.findMats;const u=n(462);t.trimMat=u.trimMat;const s=n(465);t.toScaleAxis=s.toScaleAxis;const l=n(94);t.traverseEdges=l.traverseEdges;const c=n(95);t.getBranches=c.getBranches;const a=n(195);t.traverseVertices=a.traverseVertices;const f=n(469);t.enableDebugForMat=f.enableDebugForMat;const d=n(487);t.drawBranch=d.drawBranch;const p=n(198);t.drawMat=p.drawMat;const g=n(39);t.getClosestBoundaryPoint=g.getClosestBoundaryPoint;const v=n(177);t.beziersToSvgPathStr=v.beziersToSvgPathStr,t.getPathsFromStr=v.getPathsFromStr;const h=n(92);t.getShapeBounds=h.getShapeBounds;const _=n(488);t.getBoundaryBeziersToNext=_.getBoundaryBeziersToNext;const x=n(489);t.getBoundaryBezierPartsToNext=x.getBoundaryBezierPartsToNext;const m=n(90);t.getBoundaryPieceBeziers=m.getBoundaryPieceBeziers;const b=n(490);t.simplifyMat=b.simplifyMat;const P=n(491);t.simplifyMatMapOnly=P.simplifyMatMapOnly;const M=n(196);t.drawElemFunctions=M.drawElemFunctions;const E=n(17);t.getCurveToNext=E.getCurveToNext;const y=n(59);t.getCurveBetween=y.getCurveBetween;const w=n(492);t.sweepLine=w.sweepLine;const O=n(493);t.areBoxesIntersecting=O.areBoxesIntersecting;const C=n(89);t.getClosestSquareDistanceToRect=C.getClosestSquareDistanceToRect;const I=n(494);t.loopFromBeziers=I.loopFromBeziers},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40);t.qMin=function(e,t){return r.qDiffQuad(e,t)[1]>0?t:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40);t.qMax=function(e,t){return r.qDiffQuad(e,t)[1]>0?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(203),o=Math.sqrt;t.qSqrt=function([e,t]){let n=o(t),[i,u]=r.twoSquare(n),s=.5*(t-u-i+e)/n;return[e=s-((t=n+s)-n),t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=Math.pow(2,27)+1;t.twoSquare=function(e){let t=e*e,n=r*e,o=n-(n-e),i=e-o;return[i*i-(t-o*o-o*i*2),t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.abs,o=(Number.EPSILON,Math.sqrt),i=(Math.min,Math.max);t.sqrtWithErr=function(e,t){if(e-t<=0){let n=e>0?o(e):0;return{est:n,err:i(o(e+t)-n,n)}}let n=o(e),u=o(e-t),s=o(e+t);return{est:n,err:i(r(u-n),r(s-n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qAbs=function(e){let[t,n]=e;return n<0?[-t,-n]:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qAddDouble=function([e,t],n){let r=t+n,o=r-t,i=e+(t-(r-o)+(n-o)),u=r+i;return[i-(u-r),u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98);t.qProduct=function(e){let t=e[0];for(let n=1;n<e.length;n++)t=r.qMultQuad(t,e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97);t.qSum=function(e){let t=e[0];for(let n=1;n<e.length;n++)t=r.qAddQuad(t,e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40);t.qCompare=function(e,t){return r.qDiffQuad(e,t)[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qMultBy2=function([e,t]){return[2*e,2*t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qMultBy4=function([e,t]){return[4*e,4*t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qDivBy2=function([e,t]){return[e/2,t/2]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qMultByNeg2=function([e,t]){return[-2*e,-2*t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qMultByNeg4=function([e,t]){return[-4*e,-4*t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(18);t.qDivDouble=function([e,t],n){let i=t/n,[u,s]=r.twoProduct(i,n),l=(t-s-u+e)/n;return o.fastTwoSum(i,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qNegativeOf=function([e,t]){return[-e,-t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qSign=function([e,t]){return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63),o=n(0),i=n(41),u=n(101),s=n(65);t.expansionDiv=function(e,t,n){let l=t,c=e,a=!1,f=0;if(!n){f=s.expBitLength(c)-s.expBitLength(l)+1,n=f/53+1,a=!0}let d=[1/r.estimate(l)],p=1;for(;;){if(c=o.expansionProduct(c,d),p>n)return a?(c=u.toBitlength(c,f),c):c.slice(c.length-n,c.length);l=o.expansionProduct(l,d),d=i.expansionDiff([2],l),p*=2}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),o=n(25);t.compare=function(e,t){return o.sign(r.expansionDiff(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),o=n(64);t.abs=function(e){return r.sign(e)<0?o.negativeOf(e):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fastTwoDiff=function(e,t){let n=e-t;return[e-n-t,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(41),i=n(63),u=n(109),s=n(22),l=n(12);t.orient2d=function(e,t,n){let c,a=(e[0]-n[0])*(t[1]-n[1]),f=(e[1]-n[1])*(t[0]-n[0]),d=a-f;if(a>0){if(f<=0)return d;c=a+f}else{if(!(a<0))return d;if(f>=0)return d;c=-a-f}return Math.abs(d)>=3330669073875472e-31*c?d:function(e,t,n,c){let a=e[0]-n[0],f=t[0]-n[0],d=e[1]-n[1],p=t[1]-n[1],g=o.expansionDiff(r.twoProduct(a,p),r.twoProduct(d,f)),v=i.estimate(g);if(Math.abs(v)>=2220446049250315e-31*c)return v;let h=u.twoDiff(e[0],n[0])[0],_=u.twoDiff(t[0],n[0])[0],x=u.twoDiff(e[1],n[1])[0],m=u.twoDiff(t[1],n[1])[0];if(0===h&&0===x&&0===_&&0===m)return v;let b=1109335647967049e-46*c+3330669073875471e-31*Math.abs(v);if(v+=a*m+p*h-(d*_+f*x),Math.abs(v)>=b)return v;let P=o.expansionDiff(r.twoProduct(h,p),r.twoProduct(x,f)),M=s.fastExpansionSum(g,P),E=o.expansionDiff(r.twoProduct(a,m),r.twoProduct(d,_)),y=s.fastExpansionSum(M,E),w=o.expansionDiff(r.twoProduct(h,m),r.twoProduct(x,_)),O=s.fastExpansionSum(y,w);return O=l.compress(O),O[O.length-1]}(e,t,n,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eMultBy2=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(2*e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eMultByNeg2=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(-2*e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eDivBy2=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(.5*e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=Math.pow(2,27)+1;t.split=function(e){let t=r*e,n=t-(t-e);return[n,e-n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(21);t.isBitAligned=function(e,t,n){if(0===e)return!0;let i=o.exponent(e),u=r.getHighestSetBit(e)-52+i;return r.getLowestSetBit(e)-52+i>=n&&u<=t-1+n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(21);t.lsbExponent=function(e){if(0===e||!Number.isFinite(e))return NaN;let t=o.exponent(e);return r.getLowestSetBit(e)-52+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43),o=n(16),i=n(42),u=n(23),s=n(66),l=n(22),c=n(12);t.calculate=function(e){let t=[0];for(let n=0;n<e.length;n++){let c=e[n],a=c[0];for(let e=1;e<c.length;e++){let t=c[e];a=1==t.length?1===a.length?o.twoProduct(a[0],t[0]):i.scaleExpansion(a,t[0]):1===a.length?i.scaleExpansion(t,a[0]):r.expansionProduct(t,a)}t=1===a.length?1===t.length?u.twoSum(t[0],a[0]):s.growExpansion(t,a[0]):1===t.length?s.growExpansion(a,t[0]):l.fastExpansionSum(t,a)}return c.compress(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),o=n(66),i=n(22);t.calculateSum=function(e){let t=[0];for(let n=0;n<e.length;n++){let u=e[n];t=1===u.length?1===t.length?r.twoSum(t[0],u[0]):o.growExpansion(t,u[0]):1===t.length?o.growExpansion(u,t[0]):i.fastExpansionSum(t,u)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(111);function o(e){return parseInt(e,2)}t.binaryStringToDouble=function(e){return r.octetsToDouble(e.match(/.{8}/g).map(o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(107);t.isValid=function(e){for(let t=1;t<e.length;t++){if(0!==e[t]&&0!==e[t-1]&&Math.abs(e[t-1])>=Math.abs(e[t]))return!1;if(r.isAdjacent(e[t-1],e[t]))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.within=function(e,t,n){if(0===e)return 0===t;if(0===t)return!1;let r=e-t;return Math.abs(r/e)<=n*Number.EPSILON}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(110),o=n(43);t.intPow=function(e,t){if(0===t)return[1];if(1===t)return e;if(2===t)return o.expansionProduct(e,e);let n=[];for(let r=0;r<t;r++)n.push(e);return r.calculateProduct(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100),o=Math.abs,i=(Number.EPSILON,Number.EPSILON/2),u=Math.pow(Number.EPSILON/2,2);t.qDivQuadWithError=function([e,t],[n,s],l,c){let a=r.qDivQuad([e,t],[n,s]),f=o(e+t),d=o(n+s),p=d-i*d-c;return p<=0?{est:a,err:Number.POSITIVE_INFINITY}:{est:a,err:(d*l+f*c)/Math.pow(p,2)+9*u*o(f/d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.abs,o=Number.EPSILON/2;t.divWithErr=function(e,t,n,i){let u=e/t,s=r(e),l=r(t),c=l-i;return c<=0?{est:u,err:Number.POSITIVE_INFINITY}:{est:u,err:(l*n+s*i)/Math.pow(c,2)+o*r(s/l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);t.toQuad=function(e){let t=(e=r.compress(e)).length;return 2===t?e:1===t?[0,e[0]]:[e[t-2],e[t-1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineLineIntersection=function(e,t){let[[n,r],[o,i]]=e,[[u,s],[l,c]]=t,a=o-n,f=i-r,d=l-u,p=c-s,g=d*f-p*a;if(0===g)return;let v=((s-r)*a-(u-n)*f)/g;return[u+v*d,s+v*p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairMap_set=function(e,t,n,r){let o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},t.pairMap_get=function(e,t,n){let r=e.get(t);if(r)return r.get(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(241),i=n(242);t.grahamScan=function(e,t=!1){if(!e.length)return;function n(e,n,o){let i=r.orient2d(e,n,o);return t?i<0:i<=0}let u=e.slice(),s=u.length,l=o.getSmallestIndxYThenX(u),[c]=u.splice(l,1);u.sort((e,t)=>{let n=-r.orient2d(c,e,t);return 0!==n?n:(n=e[1]-t[1],0!==n?n:e[0]-t[0])}),u.unshift(c);let a=1;for(let e=2;e<s;e++){for(;n(u[a-1],u[a],u[e]);)if(a>1)a-=1;else{if(e===s-1){a-=1;break}e+=1}a+=1,i.swap(u,a,e)}return u.slice(0,a+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestIndxYThenX=function(e){let t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],n=void 0;for(let r=0;r<e.length;r++){let o=e[r][1];(o<t[1]||o===t[1]&&e[r][0]<t[0])&&(n=r,t=e[r])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swap=function(e,t,n){if(t===n)return;let r=e[t];e[t]=e[n],e[n]=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),o=n(28);t.ds=function(e,t){const n=r.evaluateDx(e),i=o.evaluateDy(e);function u(e){let t=n(e),r=i(e);return Math.sqrt(t*t+r*r)}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.equal=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.expEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(0!==r.compare(e[n],t[n]))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(115),o=n(116);t.gcdExact=function(e,t){let n=o.expIsZero(e),i=o.expIsZero(t);if(n)return t;if(i)return e;let u=r.subresultantPseudoRemainderSequence(e,t,!1);return u[u.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(27),i=n(44),u=n(247);t.prem=function(e,t,n=!1){let s=o.degree(e)-o.degree(t)+1,l=t[0];for(let e=1;e<s;e++)l=r.expansionProduct(l,t[0]);l=n?r.abs(l):l;let c=i.expMultiplyByConst(l,e);return u.rem(c,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(27),o=n(0),i=n(248),u=n(113),s=n(46),l=n(68),c=n(19);t.rem=function(e,t){let n=[],a=r.degree(t),f=t[0],d=e;for(;;){let e=r.degree(d)-a,p=[o.expansionDiv(d[0],f,0)];p=i.expElevateDegree(p,e),n=u.addExact(n,p);let g=s.multiplyExact([p,t]),v=l.subtractExact(d,g);if(d=c.expApproxRemoveLeadingZeros(v),e<=0)return{q:n,r:d}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expElevateDegree=function(e,t){let n=e.slice();for(let e=0;e<t;e++)n.push([0]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expIsConst=function(e){return e.length<=1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48),o=n(117);t.compHorner=function(e,t){let{"r̂":n,"pπ":i,"pσ":u}=r.EFTHorner(e,t);return n+o.HornerSum(i,u,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48),o=n(117),i=n(252),u=n(0),s=n(253);let l=Number.EPSILON;t.compHornerIsFaithful=function(e,t){let n=e.length-1,{"r̂":c,"pπ":a,"pσ":f}=r.EFTHorner(e,t),d=o.HornerSum(a,f,t),[p,g]=u.twoSum(c,d),v=i.HornerAbsSum(a,f,Math.abs(t)),h=s.γs[2*n-1]*v/(1-2*(n+1)*l),_=(h+Math.abs(p))/(1-2*l);return{isFaithful:h<l/2*Math.abs(g),errBound:_,"r̄":g}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HornerAbsSum=function(e,t,n){let r=Math.abs(e[0]+t[0]);for(let o=1;o<e.length;o++)r=Math.abs(e[o]+t[o])+r*n;return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=Number.EPSILON/2,o=[];t.γs=o,o.push(0);for(let e=1;e<50;e++)o.push((1+r)*(e*r/(1-e*r)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.isConstMultipleOf=function(e,t){let n,o=e[0],i=t[0];if(0===r.sign(o)||0===r.sign(i))return!0;if(e.length!==t.length)return!1;let u=r.compare(o,i);0===u?n=[1]:(u<0&&([e,t]=[t,e],[o,i]=[i,o]),n=r.expansionDiv(o,i,0));for(let o=0;o<e.length;o++){let i=r.expansionProduct(n,t[o]);if(0!==r.compare(i,e[o]))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.vecSum=function(e){let t=e.slice();for(let e=1;e<t.length;e++)[t[e-1],t[e]]=r.twoSum(t[e],t[e-1]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(118),o=n(257),i=n(47);t.CompHornerK=function(e,t,n){n=Math.min(e.length-1,n);let{hs:u,ps:s}=o.EFTHornerK(e,t,n),l=Math.pow(2,n-1);for(let e=0;e<l;e++)u.push(i.Horner(s[l+e],t));return r.SumK(u,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48);t.EFTHornerK=function(e,t,n){let o=[e],i=[],u=Math.pow(2,n)-1;for(let e=0;e<u;e++){let{"r̂":n,"pπ":u,"pσ":s}=r.EFTHorner(o[e],t);i.push(n),o.push(u),o.push(s)}return{hs:i,ps:o.slice(Math.pow(2,n-1))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateAt0=function(e){return e[e.length-1]},t.expEvaluateAt0=function(e){return e[e.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.changeVariablesTranslateX=function(e,t){let n=e.length-1,r=[];for(let e=0;e<n+1;e++)r.push(new Array(n+1).fill(0));r[0][0]=1;for(let e=1;e<=n;e++){r[0][e]=t*r[0][e-1];for(let n=1;n<=e;n++)r[n][e]=t*r[n][e-1]+r[n-1][e-1]}let o=new Array(n+1).fill(0);for(let t=0;t<=n;t++){o[n-t]=0;for(let i=t;i<=n;i++){let u=r[t][i]*e[n-i];o[n-t]+=u}}return o},t.changeVariablesTranslateXExact=function(e,t){let n=e.length-1,o=[];for(let e=0;e<n+1;e++)o.push(new Array(n+1).fill([0]));o[0][0]=[1];for(let e=1;e<=n;e++){o[0][e]=r.scaleExpansion2(t,o[0][e-1]);for(let n=1;n<=e;n++)o[n][e]=r.fastExpansionSum(r.scaleExpansion2(t,o[n][e-1]),o[n-1][e-1])}let i=new Array(n+1).fill([0]);for(let t=0;t<=n;t++){i[n-t]=[0];for(let u=t;u<=n;u++){let s=r.expansionProduct(o[t][u],e[n-u]);i[n-t]=r.fastExpansionSum(i[n-t],s)}}return i},t.changeVariablesTranslateXExactExp=function(e,t){let n=e.length-1,o=[];for(let e=0;e<n+1;e++)o.push(new Array(n+1).fill([0]));o[0][0]=[1];for(let e=1;e<=n;e++){o[0][e]=r.expansionProduct(t,o[0][e-1]);for(let n=1;n<=e;n++)o[n][e]=r.fastExpansionSum(r.expansionProduct(t,o[n][e-1]),o[n-1][e-1])}let i=new Array(n+1).fill([0]);for(let t=0;t<=n;t++){i[n-t]=[0];for(let u=t;u<=n;u++){let s=r.expansionProduct(o[t][u],e[n-u]);i[n-t]=r.fastExpansionSum(i[n-t],s)}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.changeVariablesDilate=function(e,t){let n=e.length-1,r=[];for(let e=0;e<n+1;e++)r.push(new Array(n+1).fill(0));r[0][0]=1;for(let e=1;e<=n;e++){r[0][e]=0;for(let n=1;n<=e;n++)r[n][e]=t*r[n-1][e-1]}let o=new Array(n+1).fill(0);for(let t=0;t<=n;t++){o[n-t]=0;for(let i=t;i<=n;i++){let u=r[t][i]*e[n-i];o[n-t]+=u}}return o},t.changeVariablesDilateExactExp=function(e,t){let n=e.length-1,o=[];for(let e=0;e<n+1;e++)o.push(new Array(n+1).fill([0]));o[0][0]=[1];for(let e=1;e<=n;e++){o[0][e]=[0];for(let n=1;n<=e;n++)o[n][e]=r.expansionProduct(t,o[n-1][e-1])}let i=new Array(n+1).fill([0]);for(let t=0;t<=n;t++){i[n-t]=[0];for(let u=t;u<=n;u++){let s=r.expansionProduct(o[t][u],e[n-u]);i[n-t]=r.fastExpansionSum(i[n-t],s)}}return i},t.changeVariablesDilateExact=function(e,t){let n=e.length-1,o=[];for(let e=0;e<n+1;e++)o.push(new Array(n+1).fill([0]));o[0][0]=[1];for(let e=1;e<=n;e++){o[0][e]=[0];for(let n=1;n<=e;n++)o[n][e]=r.scaleExpansion2(t,o[n-1][e-1])}let i=new Array(n+1).fill([0]);for(let t=0;t<=n;t++){i[n-t]=[0];for(let u=t;u<=n;u++){let s=r.expansionProduct(o[t][u],e[n-u]);i[n-t]=r.fastExpansionSum(i[n-t],s)}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=r.qMultDouble2,i=r.qAddQuad;t.deflate=function(e,t){let n=e.length-1,r=[e[0]];for(let o=1;o<n;o++)r.push(e[o]+t*r[o-1]);return r},t.deflateQuad=function(e,t){let n=e.length-1,r=[e[0]];for(let u=1;u<n;u++)r.push(i(e[u],o(t,r[u-1])));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);function o(e){let t=String(e);if(Math.abs(e)<1){let n=parseInt(e.toString().split("e-")[1]);if(n){let r=e<0;r&&(e*=-1),e*=Math.pow(10,n-1),t="0."+new Array(n).join("0")+e.toString().substring(2),r&&(t="-"+t)}}else{let n=parseInt(e.toString().split("+")[1]);n>20&&(n-=20,t=(e/=Math.pow(10,n)).toString()+new Array(n+1).join("0"))}return t}t.toCasStr=function(e){let t=e.length-1,n="";for(let i=0;i<t+1;i++){let u=Array.isArray(e[i])?r.estimate(e[i]):e[i],s=o(Math.abs(u));s=(u>=0?" + ":" - ")+s,n+=i===t?s:i===t-1?s+"*x":s+"*x^"+(t-i).toString()}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123),o=n(69),i=n(70),u=n(119),s=n(0),l=n(27),c=n(264);t.numRootsInRange=function(e,t,n){let i=r.sturmChain(e),s=i.map(e=>o.evaluate(e,t)),l=i.map(e=>o.evaluate(e,n));return u.signChanges(s)-u.signChanges(l)},t.numRootsInRangeExact=function(e,t,n){let o=r.sturmChainExact(e),s=o.map(e=>i.evaluateExact(e,t)),l=o.map(e=>i.evaluateExact(e,n));return u.expSignChanges(s)-u.expSignChanges(l)},t.numRootsExact=function(e){let t=r.sturmChainExact(e),n=t.map(e=>l.degree(e)%2==0?s.sign(e[0]):-s.sign(e[0])),o=t.map(e=>s.sign(e[0]));return u.signChanges(n)-u.signChanges(o)},t.numRootsIn01Exact=function(e){let t=r.sturmChainExact(e),n=t.map(e=>e[e.length-1]),o=t.map(e=>c.expEvaluateAt1(e));return u.expSignChanges(n)-u.expSignChanges(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.evaluateAt1=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t},t.expEvaluateAt1=function(e){let t=e[0];for(let n=1;n<e.length;n++)t=r.fastExpansionSum(t,e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bisection=function(e,t,n){if(t===n)return t;n<t&&([t,n]=[n,t]);let r=e(t),o=e(n);if(0===r)return t;if(0===o)return n;if(r*o>0)throw new Error("Root not bracketed");for(;;){let o=t+(n-t)/2,i=e(o);if(0===i)return o;r*i<0?n=o:t=o;let u=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=u)return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(120);t.upperToLowerBound=function(e){return t=>1/e(r.invert(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);t.positiveToNegativeBound=function(e){return t=>-e(r.reflectAboutYAxis(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootMagnitudeUpperBound_fujiwara=function(e){let t=e.length-1,n=e[0],r=[];for(let o=1;o<t;o++){let t=Math.pow(Math.abs(e[o]/n),1/o);r.push(t)}return r.push(Math.pow(Math.abs(e[t]/2*n),1/t)),2*Math.max.apply(void 0,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(67);t.rootMagnitudeUpperBound_rouche=function(e){return 1+r.pInfNorm(e.slice(1))/e[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(125),o=n(124),i=n(126),u=n(19),s=n(24),l=n(69);t.allRoots=function e(t,n=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY){let a=(t=u.removeLeadingZeros(t)).length-1,f=function(e,t){return n=>n>=e&&n<=t}(n,c);if(2===a)return o.quadraticRoots(t).filter(f);if(a>=2){let o=n===Number.NEGATIVE_INFINITY?i.negativeRootUpperBound_LMQ(t):n,u=c===Number.POSITIVE_INFINITY?i.positiveRootUpperBound_LMQ(t):c,a=e(s.differentiate(t),o,u).filter(f);return a[0]!==o&&a.unshift(o),a[a.length-1]!==u&&a.push(u),function(e,t){let n,o=[],i=l.evaluate(e),u=t[0];for(let e=1;e<t.length;e++){let s,l=t[e],c=i(u),a=i(l);0===c*a?0===c?s=u:0===a&&e===t.length-1&&(s=l):c*a<0&&(s=r.brent(i,u,l)),void 0!==s&&s!==n&&(o.push(s),n=s),u=l}return o}(t,a)}return 1===a?[-t[1]/t[0]].filter(f):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.abs;t.AbsHorner=function(e,t){let n=r(e[0]);for(let o=1;o<e.length;o++)n=n*t+r(e[o]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transposePoly=function(e){let t=e[0].length,n=[];for(let r=0;r<t;r++){let o=[];for(let n=0;n<e.length;n++)o.push(e[n][t-(r+1)]);n.push(o)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49),o=n(50);t.evalAdaptive=function(e,t,n,i,u,s){let l=r.evalK1MultiWithErrBounds(e,t,n,4).r̂;return 0===l?(i.ps=i.ps||u(),o.HornerExact(i.ps[s],n)):l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(121),i=n(24),u=n(127),s=Number.EPSILON;t.refineK1=function(e,t){let n=t()[0],l=4*Number.EPSILON,c=o.changeVariablesLinearExact(n,l,e),a=c.map(r.toQuad),f=a.map(e=>s*s*e[1]),d=u.allRootsMultiWithErrBounds(a,f,()=>{let e=c,t=[e];for(;e.length>1;)e=i.differentiateExact(t[t.length-1]),t.push(e);return t}),p=[];for(let t of d)p.push({tS:r.twoSum(e,4*t.tS*Number.EPSILON),tE:r.twoSum(e,4*t.tE*Number.EPSILON),multiplicity:t.multiplicity});return p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(130),o=123456789;function i(e){return function(t,n,r,i,u=o,s=0){let l=[];for(let o=0;o<t;o++){let t=e(n,r,i,u,s),o=t.p;u=t.seed,l.push(o)}return l}}let u=i(f);t.flatRootsArr=u;let s=i(d);function l(e){return(134775813*e+1)%4294967296}function c(e,t,n,r=o,i=0){let u=[];for(let o=0;o<e;o++){r=a(r=l(r),u,r/4294967296*(n-t)+t,i)}return u=u.slice(0,e),{vs:u,seed:r}}function a(e,t,n,r){return e=l(e),t.push(n),e/4294967296<r&&(e=a(e,t,n,r)),e}function f(e,t=0,n=1,i=o,u=0){let s=c(e,t,n,i,u);return i=s.seed,{p:r.fromRoots(s.vs),seed:i}}function d(e,t=-1,n=1,r=o){let i=c(e,t=void 0===t?-1:t,n=void 0===n?1:n,r=void 0===r?o:r);return r=i.seed,{p:i.vs,seed:r}}t.flatCoefficientsArr=s,t.predictiveRandom=l,t.flatRoots=f,t.flatCoefficients=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131),o=n(45);t.hornerErrorBound=function(e,t){let n=e.length;return o.γ(2*n)*r.maxAbsCoeffPolyEval(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(132),o=n(70),i=n(0);t.conditionNumber=function(e,t){let n=r.absCoeff(e).map(e=>[e]),u=e.map(e=>[e]),s=o.evaluateExact(n,[t]),l=o.evaluateExact(u,[t]);return Math.abs(i.estimate(s)/i.estimate(l))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.scaleFloatToInt=function(e){return e*Math.pow(2,-r.exponent(e)+r.bitLength(e)-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.scaleFloatsToInts=function(e){let t=-1024;for(let n=0;n<e.length;n++){let o=e[n],i=-r.exponent(o)+r.bitLength(o)-1;i>t&&(t=i)}return e.map(e=>e*Math.pow(2,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.scalePolyToIntsExp=function(e){let t=-1024;for(let n=0;n<e.length;n++){let o=e[n];for(let e=0;e<o.length;e++){let n=o[e],i=-r.exponent(n)+r.bitLength(n)-1;i>t&&(t=i)}}return e.map(e=>e.map(e=>e*Math.pow(2,t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(282);t.PolyDebug=class{constructor(e){this.g=e,this.generated={elems:{testPoint:[]}},this.fs={drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);let o={testPoint:function(e,t){return r.drawFs.crossHair(e,t,"red thin5 nofill",.1)}};t.drawElemFunctions=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71);t.dot=function(e,t,n=3,o="red",i){let[u]=r.circle(e,{center:t,radius:n},"dot "+o,i);return i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.rect=function(e,t,n=r.DEFAULT_CLASS,i){let[[u,s],[l,c]]=t,a=u<l?u:l,f=s<c?s:c,d=Math.abs(u-l),p=Math.abs(s-c),g=document.createElementNS(o.XMLNS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",f.toString()),g.setAttributeNS(null,"width",d.toString()),g.setAttributeNS(null,"height",p.toString()),n&&g.setAttributeNS(null,"class",n),e.appendChild(g),i&&setTimeout(()=>g.remove(),i),[g]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.polygon=function(e,t,n=r.DEFAULT_CLASS,i){let u=document.createElementNS(o.XMLNS,"path"),s=`M${t[0][0]} ${t[0][1]} L`;for(let e=0;e<t.length;e++)s+=`${t[e][0]} ${t[e][1]} `;return s+=" z",u.setAttributeNS(null,"d",s),n&&u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);function i(e){return 2===e?"L":3===e?"Q":4===e?"C":void 0}t.loop=function(e,t,n=r.DEFAULT_CLASS,u){if(!t.length)return[];let s=document.createElementNS(o.XMLNS,"path"),l=`M${t[0][0][0]} ${t[0][0][1]} `;for(let e=0;e<t.length;e++){let n=t[e];l+=i(n.length)+" ";for(let e=1;e<n.length;e++)l+=`${n[e][0]} ${n[e][1]} `}return l+=" z",s.setAttributeNS(null,"d",l),n&&s.setAttributeNS(null,"class",n),e.appendChild(s),u&&setTimeout(()=>s.remove(),u),[s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.polyline=function(e,t,n=r.DEFAULT_CLASS,i){if(t.length<2)return[];let u=document.createElementNS(o.XMLNS,"path"),s=`M${t[0][0]} ${t[0][1]} L`;for(let e=0;e<t.length;e++)s+=`${t[e][0]} ${t[e][1]} `;return u.setAttributeNS(null,"d",s),n&&u.setAttributeNS(null,"class",n),e.appendChild(u),i&&setTimeout(()=>u.remove(),i),[u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(74),o=["red","green","cyan","blue"];t.beziers=function(e,t,n,i){let u=void 0===n,s=[];for(let i=0;i<t.length;i++){let l=t[i],c=o[i%o.length],a=u?"thin5 nofill "+c:n;s.push(...r.bezier(e,l,a))}return i&&setTimeout(()=>s.forEach(e=>e.remove()),i),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(72),i=n(74),u=n(136),s=n(290);t.bezierPiece=function(e,t,n,l=r.DEFAULT_CLASS,c){let a=[];if(n[0]===n[1]){let r=u.evaluateBezier(t,n[0]);a=o.crossHair(e,r,l,1.5)}else{let r=s.bezierFromBezierPiece(t,n);a=i.bezier(e,r,l)}return c&&setTimeout(()=>a.forEach(e=>e.remove()),c),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(136),o=n(291);t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=r.evaluateBezier(e,t[0]);return[n,n,n,n]}return 0===t[0]?o.splitAt(e,t[1])[0]:1===t[1]?o.splitAt(e,t[0])[1]:o.splitAt(o.splitAt(e,t[0])[1],(t[1]-t[0])/(1-t[0]))[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitAt=function(e,t){return 2===e.length?function(e,t){let[[n,r],[o,i]]=e,u=1-t,s=[u*n+t*o,u*r+t*i];return[[[n,r],s],[s,[o,i]]]}(e,t):3===e.length?function(e,t){let[[n,r],[o,i],[u,s]]=e,l=1-t,c=[l*l*n+2*l*t*o+t*t*u,l*l*r+2*l*t*i+t*t*s];return[[[n,r],[l*n+t*o,l*r+t*i],c],[c,[l*o+t*u,l*i+t*s],[u,s]]]}(e,t):4===e.length?function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e,a=1-t,f=t*t,d=f*t,p=a*a,g=p*a,v=[d*l+3*a*f*u+3*p*t*o+g*n,d*c+3*a*f*s+3*p*t*i+g*r];return[[[n,r],[t*o+a*n,t*i+a*r],[f*u+2*a*t*o+p*n,f*s+2*a*t*i+p*r],v],[v,[f*l+2*t*a*u+p*o,f*c+2*t*a*s+p*i],[t*l+a*u,t*c+a*s],[l,c]]]}(e,t):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(15);t.text=function(e,t,n,i,u=r.DEFAULT_CLASS,s){let l=document.createElementNS(o.XMLNS,"text");return l.setAttributeNS(null,"x",t[0].toString()),l.setAttributeNS(null,"y",t[1].toString()),l.setAttributeNS(null,"font-size",i.toString()),l.setAttributeNS(null,"class",u),l.textContent=n,e.appendChild(l),s&&setTimeout(()=>l.remove(),s),[l]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(133);t.enableDebugDrawFs=function(e){if(!e)return;let t=window._debug_;t=Object.assign(Object.assign({},t),{fs:Object.assign(Object.assign({},null==t?void 0:t.fs),{draw:Object.assign({},r.drawFs)})}),window._debug_=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootIntervalToExp=function(e){return{tS:[0,e.tS],tE:[0,e.tE],multiplicity:e.multiplicity}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[t,n],[r,o],[i,u],[s,l]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[t,n],[r,o],[i,u]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[t,n],[r,o]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(138),o=n(112),i=n(6);t.getTAtLength=function(e,t){let n=r.toCubic(e);function u(e){return i.brent(t=>(e=>o.length([0,e],n))(t)-e,-.1,1.1)}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linearToCubic=function(e){let[[t,n],[r,o]]=e,i=(r-t)/3,u=(o-n)/3;return[[t,n],[t+i,n+u],[t+2*i,n+2*u],[r,o]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quadraticToCubic=function(e){let[[t,n],[r,o],[i,u]]=e;return[[t,n],[1/3*t+2/3*r,1/3*n+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*u],[i,u]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equal=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cubicToQuadratic=function(e){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[.95*t+.15*r+-.15*i+.05*s,.95*n+.15*o+-.15*u+.05*l],[-1/4*t+3/4*r+3/4*i+-1/4*s,-1/4*n+3/4*o+3/4*u+-1/4*l],[.05*t+-.15*r+.15*i+.95*s,.05*n+-.15*o+.15*u+.95*l]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(139),o=n(140),i=n(10);t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=i.evalDeCasteljau(e,t[0]);return[n,n,n,n]}return 0===t[0]?r.from0ToT(e,t[1]):1===t[1]?o.fromTTo1(e,t[0]):r.from0ToT(o.fromTTo1(e,t[0]),(t[1]-t[0])/(1-t[0]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10);t.evaluateHybridQuadratic=function(e,t,n){let o=e[0],i=r.evalDeCasteljau(e[1],n),u=e[2];return r.evalDeCasteljau([o,i,u],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(77),o=n(26),i=n(28),u=n(80),s=n(81);function l(e,t){const n=o.evaluateDx(e),r=i.evaluateDy(e),l=u.evaluateDdx(e),c=s.evaluateDdy(e);function a(e){let t=n(e),o=r(e),i=l(e);return(t*c(e)-o*i)/(t*t+o*o)}return void 0===t?a:a(t)}t.totalAbsoluteCurvature=function(e,t){function n(t=[0,1]){return r.gaussQuadrature(t=>Math.abs(l(e)(t)),t)}return void 0===t?n:n(t)},t.totalCurvature=function(e,t){function n(t){return r.gaussQuadrature(l(e),t)}return void 0===t?n:n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverse=function(e){return e.slice().reverse()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(10);t.getInflectionPoints=function(e){let[[t,n],[i,u],[s,l],[c,a]]=e,f=i-t,d=u-n,p=s-i-f,g=l-u-d,v=c-s-f-2*p,h=a-l-d-2*g,_=p*h-g*v,x=f*h-d*v,m=f*g-d*p;return r.allRoots([_,x,m],0,1).map(t=>o.evalDeCasteljau(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(7),i=n(1);let u=Math.abs;t.getCoeffs3x3=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v},errorBound:{"vₓₓₓ_":h,"vₓₓᵧ_":_,"vₓᵧᵧ_":x,"vᵧᵧᵧ_":m,"vₓₓ_":b,"vₓᵧ_":P,"vᵧᵧ_":M,"vₓ_":E,"vᵧ_":y,v_:w}}=r.getImplicitForm3(e),[[O,C,I,S],[B,j,T,N]]=i.getXY(t),D=u(n),F=u(s),A=u(l),q=u(c),L=u(a),Q=u(f),z=u(d),Y=S*S,R=S*I,X=S*C,H=S*O,V=S*N,k=S*T,G=S*j,W=S*B,U=I*I,$=I*C,K=I*O,Z=I*N,J=I*T,ee=I*j,te=I*B,ne=C*T,re=C*C,oe=C*O,ie=C*N,ue=C*j,se=C*B,le=O*O,ce=O*N,ae=O*T,fe=O*j,de=O*B,pe=N*N,ge=N*T,ve=N*j,he=N*B,_e=T*T,xe=T*j,me=B*B,be=j*j,Pe=j*B,Me=T*B,Ee=u(Y),ye=u(R),we=u(X),Oe=u(H),Ce=u(k),Ie=u(G),Se=u(W),Be=u(U),je=u($),Te=u(K),Ne=u(re),De=u(oe),Fe=u(ue),Ae=u(Z),qe=u(J),Le=u(ee),Qe=u(te),ze=u(ie),Ye=u(ne),Re=u(se),Xe=u(le),He=u(ce),Ve=u(ae),ke=u(fe),Ge=u(de),We=u(V),Ue=u(pe),$e=u(ge),Ke=u(ve),Ze=u(he),Je=u(_e),et=u(xe),tt=u(Me),nt=u(be),rt=u(Pe),ot=u(me),it=u(S),ut=u(I),st=u(C),lt=u(O),ct=u(N),at=u(T),ft=u(j),dt=u(B),pt=O*le,gt=lt*Xe,vt=2*gt,ht=O*me,_t=lt*ot,xt=2*_t,mt=B*le,bt=dt*Xe,Pt=2*bt,Mt=B*me,Et=dt*ot,yt=2*Et,wt=pt*n,Ot=vt*D+gt*h+u(wt),Ct=ht*l,It=xt*A+_t*x+u(ht),St=mt*s,Bt=Pt*F+bt*_+u(mt),jt=Mt*c,Tt=yt*q+Et*m+u(Mt),Nt=wt+Ct,Dt=Ot+It+u(Nt),Ft=St+jt,At=Bt+Tt+u(Ft),qt=Nt+Ft,Lt=Dt+At+u(qt),Qt=2*se+fe,zt=2*Re+ke+u(Qt),Yt=2*fe+se,Rt=2*ke+Re+u(Yt),Xt=O*Qt,Ht=u(Xt),Vt=lt*zt+Ht,kt=B*Yt,Gt=u(kt),Wt=dt*Rt+kt,Ut=C*le,$t=u(Ut),Kt=st*Xe+Ut,Zt=j*me,Jt=u(Zt),en=ft*ot+Zt,tn=n*Ut,nn=h*$t+D*Kt+u(tn),rn=c*Zt,on=m*Jt+q*en+u(rn),un=s*Xt,sn=_*Ht+F*Vt+u(un),ln=l*kt,cn=x*Gt+A*Wt+u(ln),an=un+ln,fn=sn+cn+u(an),dn=3*(tn+rn),pn=3*(nn+on)+2*u(dn),gn=an+dn,vn=fn+pn+u(gn),hn=I*de,_n=ut*Ge+u(hn),xn=T*le,mn=at*Xe+u(xn),bn=C*Pe,Pn=st*rt+u(bn),Mn=I*me,En=ut*ot+u(Mn),yn=C*fe,wn=st*ke+u(yn),On=B*re,Cn=dt*Ne+u(On),In=O*Me,Sn=lt*tt+u(In),Bn=j*fe,jn=ft*ke+u(Bn),Tn=hn+yn,Nn=_n+wn+u(Tn),Dn=xn+On,Fn=mn+Cn+u(Dn),An=bn+In,qn=Pn+Sn+u(An),Ln=Mn+Bn,Qn=En+jn+u(Ln),zn=K+re,Yn=Te+Ne+u(zn),Rn=Me+be,Xn=tt+nt+u(Rn),Hn=2*Tn+Dn,Vn=u(Hn),kn=2*Nn+Fn+Vn,Gn=2*An+Ln,Wn=u(Gn),Un=2*qn+Qn+Wn,$n=s*Hn,Kn=_*Vn+F*kn+u($n),Zn=l*Gn,Jn=x*Wn+A*Un+u(Zn),er=O*zn,tr=u(er),nr=lt*Yn+tr,rr=B*Rn,or=u(rr),ir=dt*Xn+or,ur=n*er,sr=h*tr+D*nr+u(ur),lr=c*rr,cr=m*or+q*ir+u(lr),ar=$n+Zn,fr=Kn+Jn+u(ar),dr=3*(ur+lr),pr=3*(sr+cr)+2*u(dr),gr=ar+dr,vr=fr+pr+u(gr),hr=se+fe,_r=u(hr),xr=Re+ke+_r,mr=j*re,br=ft*Ne+u(mr),Pr=2*I*hr,Mr=ut*xr*2+u(Pr),Er=mr+Pr,yr=br+Mr+u(Er),wr=2*(W+ne),Or=2*(Se+Ye)+u(wr),Cr=wr+ce,Ir=Or+He+u(Cr),Sr=O*Cr,Br=lt*Ir+u(Sr),jr=Er+Sr,Tr=u(jr),Nr=yr+Br+Tr,Dr=C*be,Fr=st*nt+u(Dr),Ar=2*T*hr,qr=at*xr*2+u(Ar),Lr=Dr+Ar,Qr=Fr+qr+u(Lr),zr=2*(ee+ce),Yr=2*(Le+He)+u(zr),Rr=zr+W,Xr=Yr+Se+u(Rr),Hr=B*Rr,Vr=dt*Xr+u(Hr),kr=Lr+Hr,Gr=u(kr),Wr=Qr+Vr+Gr,Ur=C*re,$r=st*Ne+u(Ur),Kr=2*$+H,Zr=2*je+Oe+u(Kr),Jr=O*Kr*3,eo=3*lt*Zr+2*u(Jr),to=Ur+Jr,no=u(to),ro=$r+eo+no,oo=j*be,io=ft*nt+u(oo),uo=2*xe+he,so=2*et+Ze+u(uo),lo=B*uo*3,co=dt*so*3+2*u(lo),ao=oo+lo,fo=u(ao),po=io+co+fo,go=s*jr,vo=_*Tr+F*Nr+u(go),ho=l*kr,_o=x*Gr+A*Wr+u(ho),xo=go+ho,mo=vo+_o+u(xo),bo=n*to,Po=h*no+D*ro+u(bo),Mo=c*ao,Eo=m*fo+q*po+u(Mo),yo=bo+Mo,wo=Po+Eo+u(yo),Oo=a*le,Co=Xe*(b+L)+u(Oo),Io=d*me,So=ot*(M+z)+u(Io),Bo=Oo+Io,jo=Co+So+u(Bo),To=f*de,No=Ge*(P+Q)+u(To),Do=xo+yo,Fo=mo+wo+u(Do),Ao=Bo+To,qo=jo+No+u(Ao),Lo=Do+Ao,Qo=Fo+qo+u(xo),zo=ue+ae,Yo=Fe+Ve+u(zo),Ro=te+ue,Xo=Qe+Fe+u(Ro),Ho=S*hr,Vo=it*xr+u(Ho),ko=N*hr,Go=ct*xr+u(ko),Wo=I*zo,Uo=ut*Yo+u(Wo),$o=T*Ro,Ko=at*Xo+u($o),Zo=2*ce+ne,Jo=2*He+Ye+u(Zo),ei=2*W+ee,ti=2*Se+Le+u(ei),ni=B*U,ri=dt*Be+u(ni),oi=O*_e,ii=lt*Je+u(oi),ui=C*Zo,si=st*Jo+u(ui),li=j*ei,ci=ft*ti+u(li),ai=2*(Ho+Wo),fi=2*(Vo+Uo)+u(ai),di=2*(ko+$o),pi=2*(Go+Ko)+u(di),gi=2*S*oe,vi=it*De*2+u(gi),hi=2*N*Pe,_i=ct*rt*2+u(hi),xi=I*zn,mi=ut*Yn+u(xi),bi=T*Rn,Pi=at*Xn+u(bi),Mi=a*oe,Ei=De*(b+L)+u(Mi),yi=d*Pe,wi=rt*(M+z)+u(yi),Oi=ai+ni,Ci=fi+ri+u(Oi),Ii=di+oi,Si=pi+ii+u(Ii),Bi=Oi+ui,ji=u(Bi),Ti=Ci+si+ji,Ni=Ii+li,Di=u(Ni),Fi=Si+ci+Di,Ai=gi+xi,qi=u(Ai),Li=vi+mi+qi,Qi=hi+bi,zi=u(Qi),Yi=_i+Pi+zi,Ri=2*(Mi+yi),Xi=2*(Ei+wi)+u(Ri),Hi=s*Bi,Vi=_*ji+F*Ti+u(Hi),ki=l*Ni,Gi=x*Di+A*Fi+u(ki),Wi=n*Ai,Ui=h*qi+D*Li+u(Wi),$i=c*Qi,Ki=m*zi+q*Yi+u($i),Zi=Hi+ki,Ji=Vi+Gi+u(Zi),eu=3*(Wi+$i),tu=3*(Ui+Ki)+2*u(eu),nu=f*hr,ru=P*_r+Q*xr+u(nu),ou=Zi+eu,iu=Ji+tu+u(ou),uu=nu+Ri,su=ru+Xi+u(uu),lu=ou+uu,cu=iu+su+u(lu),au=te+zo,fu=u(au),du=Qe+Yo+fu,pu=2*K+re,gu=u(pu),vu=2*Te+Ne+gu,hu=2*Me+be,_u=u(hu),xu=2*tt+nt+_u,mu=2*S*au,bu=2*it*du+u(mu),Pu=2*N*au,Mu=2*ct*du+u(Pu),Eu=ee+2*ne,yu=Le+2*Ye+u(Eu),wu=ne+2*ee,Ou=Ye+2*Le+u(wu),Cu=N*pu,Iu=ct*vu+u(Cu),Su=S*hu,Bu=it*xu+u(Su),ju=I*Eu,Tu=ut*yu+u(ju),Nu=T*wu,Du=at*Ou+u(Nu),Fu=S*pu,Au=it*vu+u(Fu),qu=N*hu,Lu=ct*xu+u(qu),Qu=C*U,zu=st*Be+u(Qu),Yu=j*_e,Ru=ft*Je+u(Yu),Xu=mu+Cu,Hu=bu+Iu+u(Xu),Vu=Pu+Su,ku=Mu+Bu+u(Vu),Gu=Xu+ju,Wu=u(Gu),Uu=Hu+Tu+Wu,$u=Vu+Nu,Ku=u($u),Zu=ku+Du+Ku,Ju=Fu+Qu,es=u(Ju),ts=Au+zu+es,ns=qu+Yu,rs=u(ns),os=Lu+Ru+rs,is=s*Gu,us=_*Wu+F*Uu+u(is),ss=l*$u,ls=x*Ku+A*Zu+u(ss),cs=n*Ju,as=h*es+D*ts+u(cs),fs=c*ns,ds=m*rs+q*os+u(fs),ps=cs+fs,gs=u(ps),vs=as+ds+gs,hs=is+ss,_s=us+ls+u(hs),xs=hs+3*ps,ms=_s+3*(vs+gs)+u(xs),bs=f*au,Ps=P*fu+Q*du+u(bs),Ms=a*pu,Es=b*gu+L*vu+u(Ms),ys=bs+Ms,ws=Ps+Es+u(ys),Os=d*hu,Cs=M*_u+z*xu+u(Os),Is=ys+Os,Ss=ws+Cs+u(Is),Bs=xs+Is,js=ms+Ss+u(Bs),Ts=ee+ne,Ns=Le+Ye+u(Ts),Ds=ce+W,Fs=He+Se+u(Ds),As=$+H,qs=u(As),Ls=je+Oe+qs,Qs=xe+he,zs=u(Qs),Ys=et+Ze+zs,Rs=2*Ts+ce,Xs=2*Ns+He+u(Rs),Hs=2*Ts+W,Vs=2*Ns+Se+u(Hs),ks=2*ie+J,Gs=2*ze+qe+u(ks),Ws=2*G+J,Us=2*Ie+qe+u(Ws),$s=As+$,Ks=Ls+je+u($s),Zs=Qs+xe,Js=Ys+et+u(Zs),el=3*S*$s,tl=it*Ks*3+2*u(el),nl=3*N*Zs,rl=ct*Js*3+2*u(nl),ol=I*U,il=ut*Be+u(ol),ul=T*_e,sl=at*Je+u(ul),ll=a*As,cl=b*qs+L*Ls+u(ll),al=d*Qs,fl=M*zs+z*Ys+u(al),dl=Rs+Ds,pl=Xs+Fs+u(dl),gl=Hs+Ds,vl=Vs+Fs+u(gl),hl=S*dl,_l=it*pl+u(hl),xl=N*gl,ml=ct*vl+u(xl),bl=I*ks,Pl=ut*Gs+u(bl),Ml=T*Ws,El=at*Us+u(Ml),yl=O*p,wl=lt*E+u(yl),Ol=B*g,Cl=dt*y+u(Ol),Il=hl+bl,Sl=u(Il),Bl=_l+Pl+Sl,jl=xl+Ml,Tl=u(jl),Nl=ml+El+Tl,Dl=el+ol,Fl=u(Dl),Al=tl+il+Fl,ql=nl+ul,Ll=u(ql),Ql=rl+sl+Ll,zl=Ds+Ts,Yl=u(zl),Rl=Fs+Ns+Yl,Xl=2*(ll+al),Hl=2*(cl+fl)+u(Xl),Vl=s*Il,kl=_*Sl+F*Bl+u(Vl),Gl=l*jl,Wl=x*Tl+A*Nl+u(Gl),Ul=n*Dl,$l=h*Fl+D*Al+u(Ul),Kl=c*ql,Zl=m*Ll+q*Ql+u(Kl),Jl=f*zl,ec=P*Yl+Q*Rl+u(Jl),tc=Vl+Gl,nc=kl+Wl+u(tc),rc=Ul+Kl,oc=$l+Zl+u(rc),ic=Jl+Xl,uc=ec+Hl+u(ic),sc=yl+Ol,lc=wl+Cl+u(sc),cc=tc+rc,ac=ic+sc,fc=cc+ac,dc=nc+oc+u(cc)+(uc+lc+u(ac))+u(fc),pc=J+ie,gc=qe+ze+u(pc),vc=J+G,hc=qe+Ie+u(vc),_c=2*pc+G,xc=2*gc+Ie+u(_c),mc=2*vc+ie,bc=2*hc+ze+u(mc),Pc=S*_c,Mc=it*xc+u(Pc),Ec=N*U,yc=ct*Be+u(Ec),wc=N*mc,Oc=ct*bc+u(wc),Cc=S*_e,Ic=it*Je+u(Cc),Sc=S*U,Bc=it*Be+u(Sc),jc=C*Y,Tc=st*Ee+u(jc),Nc=N*_e,Dc=ct*Je+u(Nc),Fc=j*pe,Ac=ft*Ue+u(Fc),qc=Pc+Ec,Lc=u(qc),Qc=Mc+yc+Lc,zc=wc+Cc,Yc=u(zc),Rc=Oc+Ic+Yc,Xc=Sc+jc,Hc=u(Xc),Vc=Bc+Tc+Hc,kc=Nc+Fc,Gc=u(kc),Wc=Dc+Ac+Gc,Uc=n*Xc,$c=c*kc,Kc=3*(Uc+$c),Zc=3*(h*Hc+D*Vc+u(Uc)+(m*Gc+q*Wc+u($c)))+2*u(Kc),Jc=pc+G,ea=u(Jc),ta=gc+Ie+ea,na=2*X+U,ra=u(na),oa=2*we+Be+ra,ia=2*ve+_e,ua=u(ia),sa=2*Ke+Je+ua,la=s*qc,ca=_*Lc+F*Qc+u(la),aa=l*zc,fa=x*Yc+A*Rc+u(aa),da=f*Jc,pa=P*ea+Q*ta+u(da),ga=a*na,va=b*ra+L*oa+u(ga),ha=d*ia,_a=M*ua+z*sa+u(ha),xa=C*p,ma=j*g,ba=xa+ma,Pa=st*E+u(xa)+(ft*y+u(ma))+u(ba),Ma=la+aa,Ea=ca+fa+u(Ma),ya=Kc+da,wa=Zc+pa+u(ya),Oa=ga+ha,Ca=va+_a+u(Oa),Ia=Ma+ya,Sa=Oa+ba,Ba=Ia+Sa,ja=Ea+wa+u(Ia)+(Ca+Pa+u(Sa))+u(Ba),Ta=Z+k,Na=u(Ta),Da=Ae+Ce+Na,Fa=S*s,Aa=u(Fa),qa=it*_+Aa,La=N*l,Qa=u(La),za=ct*x+Qa,Ya=Ta+Z,Ra=u(Ya),Xa=Da+Ae+Ra,Ha=Ta+k,Va=u(Ha),ka=Da+Ce+Va,Ga=I*Y,Wa=u(Ga),Ua=Ga*n,$a=(ut*Ee+Wa)*D+Wa*h+u(Ua),Ka=T*pe,Za=u(Ka),Ja=Ka*c,ef=(at*Ue+Za)*q+Za*m+u(Ja),tf=f*Ta,nf=P*Na+Q*Da+u(tf),rf=R*a,of=ge*d,uf=rf+of,sf=ye*(L+b)+u(rf)+($e*(z+M)+u(of))+u(uf),lf=I*p,cf=T*g,af=lf+cf,ff=ut*E+u(lf)+(at*y+u(cf))+u(af),df=Fa*Ya,pf=La*Ha,gf=df+pf,vf=qa*Ra+Aa*Xa+u(df)+(za*Va+Qa*ka+u(pf))+u(gf),hf=3*(Ua+Ja),_f=3*($a+ef)+2*u(hf),xf=tf+2*uf,mf=nf+2*sf+u(xf),bf=gf+hf,Pf=xf+af,Mf=bf+Pf,Ef=vf+_f+u(bf)+(mf+ff+u(Pf))+u(Mf),yf=S*n,wf=N*s,Of=yf+wf,Cf=it*h+u(yf)+(ct*_+u(wf))+u(Of),If=S*l,Sf=N*c,Bf=If+Sf,jf=it*x+u(If)+(ct*m+u(Sf))+u(Bf),Tf=Of+a,Nf=u(Tf),Df=Cf+b+Nf,Ff=Bf+d,Af=u(Ff),qf=jf+M+Af,Lf=Y*Tf,Qf=pe*Ff,zf=Lf+Qf,Yf=V*f,Rf=zf+Yf,Xf=S*p,Hf=N*g,Vf=Xf+Hf,kf=Rf+Vf,Gf=kf+v;return{coeffs:[qt,gn,gr,Lo,lu,Bs,fc,Ba,Mf,Gf],errBound:[Lt,vn,vr,Qo,cu,js,dc,ja,Ef,Ee*(Nf+Df)+u(Lf)+(Ue*(Af+qf)+u(Qf))+u(zf)+(We*(Q+P)+u(Yf))+u(Rf)+(it*E+u(Xf)+(ct*y+u(Hf))+u(Vf))+u(kf)+w+u(Gf)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(52);t.getCoeffs3x3Exact=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v}=u.getImplicitForm3Exact(e),[h,_,x,m]=r.getXExact(t),[b,P,M,E]=o.getYExact(t);return[i.calculate([[h,b,b,l],[b,h,h,s],[h,h,h,n],[b,b,b,c]]),i.calculate([[[2],_,h,b,s],[[2],h,P,b,l],[_,b,b,l],[P,h,h,s],[[3],_,h,h,n],[[3],P,b,b,c]]),i.calculate([[[2],x,h,b,s],[[2],_,h,P,s],[[2],_,P,b,l],[[2],h,M,b,l],[b,b,x,l],[P,P,h,l],[h,h,M,s],[_,_,b,s],[[3],x,h,h,n],[[3],h,_,_,n],[[3],M,b,b,c],[[3],b,P,P,c]]),i.calculate([[[2],m,h,b,s],[[2],x,_,b,s],[[2],x,h,P,s],[[2],x,P,b,l],[[2],_,h,M,s],[[2],_,M,b,l],[[2],h,E,b,l],[[2],h,M,P,l],[[6],x,_,h,n],[[6],M,P,b,c],[m,b,b,l],[_,P,P,l],[E,h,h,s],[P,_,_,s],[[3],m,h,h,n],[[3],E,b,b,c],[_,_,_,n],[P,P,P,c],[h,h,a],[b,b,d],[h,b,f]]),i.calculate([[[2],m,_,b,s],[[2],m,h,P,s],[[2],m,P,b,l],[[2],x,_,P,s],[[2],x,h,M,s],[[2],x,M,b,l],[[2],_,h,E,s],[[2],_,E,b,l],[[2],_,M,P,l],[[2],h,E,P,l],[[6],m,_,h,n],[[6],E,P,b,c],[x,P,P,l],[h,M,M,l],[M,_,_,s],[b,x,x,s],[[3],x,_,_,n],[[3],h,x,x,n],[[3],M,P,P,c],[[3],b,M,M,c],[_,b,f],[h,P,f],[[2],_,h,a],[[2],P,b,d]]),i.calculate([[[2],m,x,b,s],[[2],m,_,P,s],[[2],m,h,M,s],[[2],m,M,b,l],[[2],x,_,M,s],[[2],x,h,E,s],[[2],x,E,b,l],[[2],x,M,P,l],[[2],_,E,P,l],[[2],h,E,M,l],[[6],m,x,h,n],[[6],E,M,b,c],[m,P,P,l],[_,M,M,l],[E,_,_,s],[P,x,x,s],[[3],m,_,_,n],[[3],_,x,x,n],[[3],E,P,P,c],[[3],P,M,M,c],[_,_,a],[P,P,d],[x,b,f],[_,P,f],[h,M,f],[[2],x,h,a],[[2],M,b,d]]),i.calculate([[[2],m,x,P,s],[[2],m,_,M,s],[[2],m,h,E,s],[[2],m,E,b,l],[[2],m,M,P,l],[[2],x,_,E,s],[[2],x,E,P,l],[[2],_,E,M,l],[[6],m,x,_,n],[[6],E,M,P,c],[x,M,M,l],[h,E,E,l],[M,x,x,s],[b,m,m,s],[[3],h,m,m,n],[[3],b,E,E,c],[x,x,x,n],[M,M,M,c],[m,b,f],[x,P,f],[_,M,f],[h,E,f],[[2],m,h,a],[[2],x,_,a],[[2],E,b,d],[[2],M,P,d],[h,p],[b,g]]),i.calculate([[[2],m,x,M,s],[[2],m,_,E,s],[[2],m,E,P,l],[[2],x,E,M,l],[m,M,M,l],[_,E,E,l],[E,x,x,s],[P,m,m,s],[[3],m,x,x,n],[[3],_,m,m,n],[[3],E,M,M,c],[[3],P,E,E,c],[m,P,f],[x,M,f],[_,E,f],[[2],m,_,a],[[2],E,P,d],[x,x,a],[M,M,d],[_,p],[P,g]]),i.calculate([[[2],m,x,E,s],[[2],m,E,M,l],[x,E,E,l],[M,m,m,s],[[3],x,m,m,n],[[3],M,E,E,c],[m,M,f],[x,E,f],[[2],m,x,a],[[2],E,M,d],[x,p],[M,g]]),i.calculate([[m,E,E,l],[E,m,m,s],[m,m,m,n],[E,E,E,c],[m,E,f],[m,m,a],[E,E,d],[m,p],[E,g],[v]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(7),i=n(1);let u=Math.abs;t.getCoeffs3x2=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v},errorBound:{"vₓₓₓ_":h,"vₓₓᵧ_":_,"vₓᵧᵧ_":x,"vᵧᵧᵧ_":m,"vₓₓ_":b,"vₓᵧ_":P,"vᵧᵧ_":M,"vₓ_":E,"vᵧ_":y,v_:w}}=r.getImplicitForm3(e),[[O,C,I],[S,B,j]]=i.getXY(t),T=u(n),N=u(s),D=u(l),F=u(c),A=u(a),q=u(f),L=u(d),Q=u(I),z=u(C),Y=u(O),R=u(j),X=u(B),H=u(S),V=I*I,k=I*C,G=I*O,W=I*j,U=I*B,$=I*S,K=C*C,Z=C*O,J=C*j,ee=C*B,te=C*S,ne=O*O,re=O*j,oe=O*B,ie=O*S,ue=j*j,se=j*B,le=j*S,ce=B*B,ae=B*S,fe=S*S,de=u(V),pe=u(k),ge=u(G),ve=u(W),he=u(U),_e=u($),xe=u(K),me=u(Z),be=u(J),Pe=u(ee),Me=u(te),Ee=u(ne),ye=u(re),we=u(oe),Oe=u(ie),Ce=u(ue),Ie=u(se),Se=u(le),Be=u(ce),je=u(ae),Te=u(fe),Ne=O*n,De=Y*h+u(Ne),Fe=O*l,Ae=Y*x+u(Fe),qe=S*s,Le=H*_+u(qe),Qe=S*c,ze=H*m+u(Qe),Ye=Ne+qe,Re=u(Ye),Xe=De+Le+Re,He=Fe+Qe,Ve=u(He),ke=Ae+ze+Ve,Ge=ne*Ye,We=Ee*(Re+Xe)+u(Ge),Ue=fe*He,$e=Te*(Ve+ke)+u(Ue),Ke=Ge+Ue,Ze=We+$e+u(Ke),Je=G+K,et=ge+xe+u(Je),tt=le+ce,nt=Se+Be+u(tt),rt=2*G+K,ot=u(rt),it=2*ge+xe+ot,ut=2*le+ce,st=u(ut),lt=2*Se+Be+st,ct=2*ee+re,at=u(ct),ft=2*Pe+ye+at,dt=2*ee+$,pt=2*Pe+_e+u(dt),gt=2*re+ee,vt=2*ye+Pe+u(gt),ht=6*G+K,_t=12*ge+xe+u(ht),xt=6*le+ce,mt=12*Se+Be+u(xt),bt=te+oe,Pt=u(bt),Mt=Me+we+Pt,Et=$+re,yt=_e+ye+u(Et),wt=2*J+U,Ot=2*be+he+u(wt),Ct=2*U+J,It=2*he+be+u(Ct),St=$+ee,Bt=_e+Pe+u(St),jt=St+re,Tt=u(jt),Nt=Bt+ye+Tt,Dt=3*ne,Ft=u(Dt),At=3*Ee+Ft,qt=3*fe,Lt=u(qt),Qt=3*Te+Lt,zt=Dt*n,Yt=At*T+Ft*h+u(zt),Rt=ne*s,Xt=Ee*(N+_)+u(Rt),Ht=2*ie*s,Vt=Oe*(N+_)*2+u(Ht),kt=2*ie*l,Gt=Oe*(D+x)*2+u(kt),Wt=fe*l,Ut=Te*(D+x)+u(Wt),$t=qt*c,Kt=Qt*F+Lt*m+u($t),Zt=zt+Ht,Jt=Yt+Vt+u(Zt),en=Rt+kt,tn=Xt+Gt+u(en),nn=Zt+Wt,rn=Jt+Ut+u(nn),on=en+$t,un=tn+Kt+u(on),sn=C*nn,ln=z*rn+u(sn),cn=B*on,an=X*un+u(cn),fn=sn+cn,dn=ln+an+u(fn),pn=S*rt,gn=H*it+u(pn),vn=S*dt,hn=H*pt+u(vn),_n=O*ct,xn=Y*ft+u(_n),mn=O*ut,bn=Y*lt+u(mn),Pn=3*O*Je,Mn=u(Pn),En=3*Y*et+Mn,yn=3*S*tt,wn=u(yn),On=3*H*nt+wn,Cn=pn+_n,In=u(Cn),Sn=gn+xn+In,Bn=vn+mn,jn=u(Bn),Tn=hn+bn+jn,Nn=Pn*n,Dn=En*T+Mn*h+u(Nn),Fn=yn*c,An=On*F+wn*m+u(Fn),qn=Cn*s,Ln=Sn*N+In*_+u(qn),Qn=Bn*l,zn=Tn*D+jn*x+u(Qn),Yn=Nn+Fn,Rn=Dn+An+u(Yn),Xn=qn+Qn,Hn=Ln+zn+u(Xn),Vn=ne*a,kn=Ee*(b+A)+u(Vn),Gn=fe*d,Wn=Te*(M+L)+u(Gn),Un=ie*f,$n=Oe*(P+q)+u(Un),Kn=Vn+Gn,Zn=kn+Wn+u(Kn),Jn=Yn+Xn,er=Kn+Un,tr=Jn+er,nr=Rn+Hn+u(Jn)+(Zn+$n+u(er))+u(tr),rr=C*ht,or=u(rr),ir=z*_t+or,ur=B*xt,sr=u(ur),lr=X*mt+sr,cr=2*I*bt,ar=Q*Mt*2+u(cr),fr=2*B*Et,dr=X*yt*2+u(fr),pr=C*gt,gr=z*vt+u(pr),vr=C*ut,hr=z*lt+u(vr),_r=cr+pr,xr=u(_r),mr=ar+gr+xr,br=fr+vr,Pr=u(br),Mr=dr+hr+Pr,Er=ae*d,yr=je*(L+M)+u(Er),wr=Z*a,Or=me*(A+b)+u(wr),Cr=bt*f,Ir=Mt*q+Pt*P+u(Cr),Sr=Er+wr,Br=yr+Or+u(Sr),jr=rr*n,Tr=ir*T+or*h+u(jr),Nr=_r*s,Dr=mr*N+xr*_+u(Nr),Fr=ur*c,Ar=lr*F+sr*m+u(Fr),qr=br*l,Lr=Mr*D+Pr*x+u(qr),Qr=jr+Fr,zr=Nr+qr,Yr=Qr+zr,Rr=2*Sr+Cr,Xr=Yr+Rr,Hr=Tr+Ar+u(Qr)+(Dr+Lr+u(zr))+u(Yr)+(2*Br+Ir+u(Rr))+u(Xr),Vr=3*I*Je,kr=u(Vr),Gr=3*Q*et+kr,Wr=3*j*tt,Ur=u(Wr),$r=3*R*nt+Ur,Kr=I*dt,Zr=Q*pt+u(Kr),Jr=I*ut,eo=Q*lt+u(Jr),to=j*rt,no=R*it+u(to),ro=j*ct,oo=R*ft+u(ro),io=Kr+to,uo=u(io),so=Zr+no+uo,lo=Jr+ro,co=u(lo),ao=eo+oo+co,fo=Vr*n,po=Gr*T+kr*h+u(fo),go=Wr*c,vo=$r*F+Ur*m+u(go),ho=io*s,_o=so*N+uo*_+u(ho),xo=lo*l,mo=ao*D+co*x+u(xo),bo=rt*a,Po=it*A+ot*b+u(bo),Mo=ut*d,Eo=lt*L+st*M+u(Mo),yo=jt*f,wo=Nt*q+Tt*P+u(yo),Oo=O*p,Co=Y*E+u(Oo),Io=S*g,So=H*y+u(Io),Bo=fo+go,jo=po+vo+u(Bo),To=ho+xo,No=_o+mo+u(To),Do=bo+Mo,Fo=Po+Eo+u(Do),Ao=Bo+To,qo=jo+No+u(Ao),Lo=Do+yo,Qo=Fo+wo+u(Lo),zo=Oo+Io,Yo=Co+So+u(zo),Ro=Ao+Lo,Xo=Ro+zo,Ho=qo+Qo+u(Ro)+Yo+u(Xo),Vo=3*I*k,ko=u(Vo),Go=3*Q*pe+ko,Wo=3*j*se,Uo=u(Wo),$o=3*R*Ie+Uo,Ko=I*wt,Zo=u(Ko),Jo=Q*Ot+Zo,ei=j*Ct,ti=u(ei),ni=R*It+ti,ri=k*a,oi=pe*(A+b)+u(ri),ii=se*d,ui=Ie*(L+M)+u(ii),si=U*f,li=he*(q+P)+u(si),ci=J*f,ai=be*(q+P)+u(ci),fi=2*(ri+ii),di=2*(oi+ui)+u(fi),pi=si+ci,gi=li+ai+u(pi),vi=C*p,hi=z*E+u(vi),_i=B*g,xi=X*y+u(_i),mi=Vo*n,bi=Go*T+ko*h+u(mi),Pi=Wo*c,Mi=$o*F+Uo*m+u(Pi),Ei=Ko*s,yi=Jo*N+Zo*_+u(Ei),wi=ei*l,Oi=ni*D+ti*x+u(wi),Ci=mi+Pi,Ii=Ei+wi,Si=Ci+Ii,Bi=bi+Mi+u(Ci)+(yi+Oi+u(Ii))+u(Si),ji=fi+pi,Ti=di+gi+u(ji),Ni=vi+_i,Di=hi+xi+u(Ni),Fi=Si+ji,Ai=Fi+Ni,qi=Bi+Ti+u(Fi)+Di+u(Ai),Li=I*n,Qi=Q*h+u(Li),zi=I*l,Yi=Q*x+u(zi),Ri=j*s,Xi=R*_+u(Ri),Hi=j*c,Vi=R*m+u(Hi),ki=Li+Ri,Gi=Qi+Xi+u(ki),Wi=zi+Hi,Ui=Yi+Vi+u(Wi),$i=ki+a,Ki=u($i),Zi=Gi+b+Ki,Ji=Wi+d,eu=u(Ji),tu=Ui+M+eu,nu=V*$i,ru=de*(Ki+Zi)+u(nu),ou=ue*Ji,iu=Ce*(eu+tu)+u(ou),uu=W*f,su=ve*(q+P)+u(uu),lu=I*p,cu=Q*E+u(lu),au=j*g,fu=R*y+u(au),du=nu+ou,pu=du+uu,gu=lu+au,vu=pu+gu,hu=vu+v;return{coeffs:[Ke,fn,tr,Xr,Xo,Ai,hu],errBound:[Ze,dn,nr,Hr,Ho,qi,ru+iu+u(du)+su+u(pu)+(cu+fu+u(gu))+u(vu)+w+u(hu)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(52);t.getCoeffs3x2Exact=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v}=u.getImplicitForm3Exact(e),[h,_,x]=r.getXExact(t),[m,b,P]=o.getYExact(t);return[i.calculate([[h,h,h,n],[h,h,m,s],[h,m,m,l],[m,m,m,c]]),i.calculate([[[3],_,h,h,n],[[2],_,h,m,s],[_,m,m,l],[h,h,b,s],[[2],h,b,m,l],[[3],b,m,m,c]]),i.calculate([[[3],x,h,h,n],[[2],x,h,m,s],[x,m,m,l],[[3],_,_,h,n],[_,_,m,s],[[2],_,h,b,s],[[2],_,b,m,l],[h,h,P,s],[h,h,a],[[2],h,P,m,l],[h,b,b,l],[h,m,f],[[3],P,m,m,c],[[3],b,b,m,c],[m,m,d]]),i.calculate([[[6],x,_,h,n],[[2],x,_,m,s],[[2],x,h,b,s],[[2],x,b,m,l],[_,_,_,n],[_,_,b,s],[[2],_,h,P,s],[[2],_,h,a],[[2],_,P,m,l],[_,b,b,l],[_,m,f],[[2],h,P,b,l],[h,b,f],[[6],P,b,m,c],[b,b,b,c],[[2],b,m,d]]),i.calculate([[[3],x,x,h,n],[x,x,m,s],[[3],x,_,_,n],[[2],x,_,b,s],[[2],x,h,P,s],[[2],x,h,a],[[2],x,P,m,l],[x,b,b,l],[x,m,f],[_,_,P,s],[_,_,a],[[2],_,P,b,l],[_,b,f],[h,P,P,l],[h,P,f],[h,p],[[3],P,P,m,c],[[3],P,b,b,c],[[2],P,m,d],[b,b,d],[m,g]]),i.calculate([[[3],x,x,_,n],[x,x,b,s],[[2],x,_,P,s],[[2],x,_,a],[[2],x,P,b,l],[x,b,f],[_,P,P,l],[_,P,f],[_,p],[[3],P,P,b,c],[[2],P,b,d],[b,g]]),i.calculate([[x,x,x,n],[x,x,P,s],[x,x,a],[x,P,P,l],[x,P,f],[x,p],[P,P,P,c],[P,P,d],[P,g],[v]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(7),i=n(1);let u=Math.abs;t.getCoeffs3x1=function(e,t){let{coeffs:{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v},errorBound:{"vₓₓₓ_":h,"vₓₓᵧ_":_,"vₓᵧᵧ_":x,"vᵧᵧᵧ_":m,"vₓₓ_":b,"vₓᵧ_":P,"vᵧᵧ_":M,"vₓ_":E,"vᵧ_":y,v_:w}}=r.getImplicitForm3(e),[[O,C],[I,S]]=i.getXY(t),B=u(f),j=u(C),T=u(O),N=u(S),D=u(I),F=C*C,A=C*O,q=C*S,L=C*I,Q=O*O,z=O*S,Y=O*I,R=S*S,X=S*I,H=I*I,V=u(F),k=u(A),G=u(q),W=u(R),U=u(X),$=u(L),K=u(z),Z=u(Q),J=u(Y),ee=u(H),te=C*n,ne=j*h+u(te),re=3*C*n,oe=3*j*h+u(re),ie=C*s,ue=j*_+u(ie),se=S*s,le=N*_+u(se),ce=C*l,ae=j*x+u(ce),fe=S*l,de=N*x+u(fe),pe=S*c,ge=N*m+u(pe),ve=3*S*c,he=3*N*m+u(ve),_e=O*n,xe=T*h+u(_e),me=O*l,be=T*x+u(me),Pe=I*s,Me=D*_+u(Pe),Ee=I*c,ye=D*m+u(Ee),we=_e+Pe,Oe=u(we),Ce=xe+Me+Oe,Ie=me+Ee,Se=u(Ie),Be=be+ye+Se,je=Q*we,Te=H*Ie,Ne=je+Te,De=Z*(Oe+Ce)+u(je)+(ee*(Se+Be)+u(Te))+u(Ne),Fe=re+se,Ae=oe+le+u(Fe),qe=2*(ie+fe),Le=2*(ue+de)+u(qe),Qe=ce+ve,ze=ae+he+u(Qe),Ye=Fe+a,Re=u(Ye),Xe=Ae+b+Re,He=qe+f,Ve=u(He),ke=Le+P+Ve,Ge=Qe+d,We=u(Ge),Ue=ze+M+We,$e=Q*Ye,Ke=Z*(Re+Xe)+u($e),Ze=Y*He,Je=J*(Ve+ke)+u(Ze),et=H*Ge,tt=ee*(We+Ue)+u(et),nt=$e+Ze,rt=nt+et,ot=Ke+Je+u(nt)+tt+u(rt),it=2*(se+a),ut=2*(le+b)+u(it),st=2*(ce+d),lt=2*(ae+M)+u(st),ct=re+it,at=u(ct),ft=oe+ut+at,dt=ve+st,pt=u(dt),gt=he+lt+pt,vt=ie+f,ht=u(vt),_t=ue+P+ht,xt=fe+f,mt=u(xt),bt=de+P+mt,Pt=A*ct,Mt=k*(at+ft)+u(Pt),Et=X*dt,yt=U*(pt+gt)+u(Et),wt=L*vt,Ot=$*(ht+_t)+u(wt),Ct=z*xt,It=K*(mt+bt)+u(Ct),St=O*p,Bt=T*E+u(St),jt=I*g,Tt=D*y+u(jt),Nt=Pt+Et,Dt=wt+Ct,Ft=Nt+Dt,At=St+jt,qt=Ft+At,Lt=Mt+yt+u(Nt)+(Ot+It+u(Dt))+u(Ft)+(Bt+Tt+u(At))+u(qt),Qt=te+se,zt=ne+le+u(Qt),Yt=pe+ce,Rt=ge+ae+u(Yt),Xt=Qt+a,Ht=u(Xt),Vt=zt+b+Ht,kt=Yt+d,Gt=u(kt),Wt=Rt+M+Gt,Ut=F*Xt,$t=V*(Ht+Vt)+u(Ut),Kt=R*kt,Zt=W*(Gt+Wt)+u(Kt),Jt=q*f,en=G*(B+P)+u(Jt),tn=Ut+Kt,nn=tn+Jt,rn=C*p,on=S*g,un=rn+on,sn=nn+un,ln=sn+v;return{coeffs:[Ne,rt,qt,ln],errBound:[De,ot,Lt,$t+Zt+u(tn)+en+u(nn)+(j*E+u(rn)+(N*y+u(on))+u(un))+u(sn)+w+u(ln)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(52);t.getCoeffs3x1Exact=function(e,t){let{"vₓₓₓ":n,"vₓₓᵧ":s,"vₓᵧᵧ":l,"vᵧᵧᵧ":c,"vₓₓ":a,"vₓᵧ":f,"vᵧᵧ":d,"vₓ":p,"vᵧ":g,v:v}=u.getImplicitForm3Exact(e),[h,_]=r.getXExact(t),[x,m]=o.getYExact(t);return[i.calculate([[h,h,h,n],[h,h,x,s],[h,x,x,l],[x,x,x,c]]),i.calculate([[[3],_,h,h,n],[[2],_,h,x,s],[_,x,x,l],[h,h,m,s],[h,h,a],[[2],h,m,x,l],[h,x,f],[[3],m,x,x,c],[x,x,d]]),i.calculate([[[3],_,_,h,n],[_,_,x,s],[[2],_,h,m,s],[[2],_,h,a],[[2],_,m,x,l],[_,x,f],[h,m,m,l],[h,m,f],[h,p],[[3],m,m,x,c],[[2],m,x,d],[x,g]]),i.calculate([[_,_,_,n],[m,m,m,c],[_,_,m,s],[_,m,m,l],[_,_,a],[m,m,d],[_,m,f],[_,p],[m,g],[v]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),o=n(7),i=n(1);let u=Math.abs;t.getCoeffs2x3=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f},errorBound:{"vₓₓ_":d,"vₓᵧ_":p,"vᵧᵧ_":g,"vₓ_":v,"vᵧ_":h,v_:_}}=r.getImplicitForm2(e),[[x,m,b,P],[M,E,y,w]]=i.getXY(t),O=u(P),C=u(w),I=u(b),S=u(y),B=u(m),j=u(E),T=u(x),N=u(M),D=u(n),F=u(s),A=u(l),q=P*P,L=P*b,Q=P*m,z=P*x,Y=P*w,R=P*y,X=P*E,H=P*M,V=b*b,k=b*m,G=b*x,W=b*w,U=b*y,$=b*E,K=b*M,Z=m*m,J=m*x,ee=m*w,te=m*y,ne=m*E,re=m*M,oe=x*x,ie=x*w,ue=x*y,se=x*E,le=x*M,ce=w*w,ae=w*y,fe=w*E,de=w*M,pe=y*y,ge=y*E,ve=y*M,he=E*E,_e=E*M,xe=M*M,me=u(G),be=u(K),Pe=u(Z),Me=u(J),Ee=u(ne),ye=u(re),we=u(oe),Oe=u(ue),Ce=u(se),Ie=u(le),Se=u(ve),Be=u(he),je=u(_e),Te=u(xe),Ne=u(z),De=u(k),Fe=u(de),Ae=u(ge),qe=u(H),Le=u($),Qe=u(te),ze=u(ie),Ye=u(Q),Re=u(V),Xe=u(fe),He=u(pe),Ve=u(X),ke=u(U),Ge=u(ee),We=u(L),Ue=u(ae),$e=u(R),Ke=u(W),Ze=u(q),Je=u(Y),et=u(ce),tt=oe*n,nt=we*(D+d)+u(tt),rt=le*s,ot=Ie*(F+p)+u(rt),it=xe*l,ut=Te*(A+g)+u(it),st=tt+rt,lt=st+it,ct=nt+ot+u(st)+ut+u(lt),at=J*n,ft=_e*l,dt=at+ft,pt=Me*(D+d)+u(at)+(je*(A+g)+u(ft))+u(dt),gt=re+se,vt=u(gt),ht=gt*s,_t=2*dt+ht,xt=2*pt+((ye+Ce+vt)*F+vt*p+u(ht))+u(_t),mt=2*G+Z,bt=u(mt),Pt=2*me+Pe+bt,Mt=2*ve+he,Et=u(Mt),yt=2*Se+Be+Et,wt=K+ne,Ot=be+Ee+u(wt),Ct=wt+ue,It=u(Ct),St=Ot+Oe+It,Bt=mt*n,jt=Mt*l,Tt=Bt+jt,Nt=Ct*s,Dt=Tt+Nt,Ft=Pt*d+bt*d+u(Bt)+(yt*g+Et*g+u(jt))+u(Tt)+(St*F+It*p+u(Nt))+u(Dt),At=z+k,qt=u(At),Lt=Ne+De+qt,Qt=de+ge,zt=u(Qt),Yt=Fe+Ae+zt,Rt=H+$,Xt=qe+Le+u(Rt),Ht=te+ie,Vt=Qe+ze+u(Ht),kt=Rt+Ht,Gt=u(kt),Wt=Xt+Vt+Gt,Ut=At*n,$t=Qt*l,Kt=2*(Ut+$t),Zt=2*(Lt*D+qt*d+u(Ut)+(Yt*A+zt*g+u($t)))+u(Kt),Jt=kt*s,en=Wt*F+Gt*p+u(Jt),tn=x*c,nn=M*a,rn=tn+nn,on=T*v+u(tn)+(N*h+u(nn))+u(rn),un=Kt+Jt,sn=un+rn,ln=Zt+en+u(un)+on+u(sn),cn=2*Q+V,an=u(cn),fn=2*Ye+Re+an,dn=2*fe+pe,pn=u(dn),gn=2*Xe+He+pn,vn=X+U,hn=Ve+ke+u(vn),_n=vn+ee,xn=u(_n),mn=hn+Ge+xn,bn=cn*n,Pn=fn*D+an*d+u(bn),Mn=dn*l,En=gn*A+pn*g+u(Mn),yn=_n*s,wn=mn*F+xn*p+u(yn),On=bn+Mn,Cn=On+yn,In=m*c,Sn=E*a,Bn=In+Sn,jn=Cn+Bn,Tn=Pn+En+u(On)+wn+u(Cn)+(B*v+u(In)+(j*h+u(Sn))+u(Bn))+u(jn),Nn=L*n,Dn=We*(D+d)+u(Nn),Fn=ae*l,An=Ue*(A+g)+u(Fn),qn=R+W,Ln=u(qn),Qn=qn*s,zn=($e+Ke+Ln)*F+Ln*p+u(Qn),Yn=2*(Nn+Fn),Rn=Yn+Qn,Xn=b*c,Hn=y*a,Vn=Xn+Hn,kn=Rn+Vn,Gn=2*(Dn+An)+u(Yn)+zn+u(Rn)+(I*v+u(Xn)+(S*h+u(Hn))+u(Vn))+u(kn),Wn=q*n,Un=Ze*(D+d)+u(Wn),$n=Y*s,Kn=Je*(F+p)+u($n),Zn=ce*l,Jn=et*(A+g)+u(Zn),er=P*c,tr=O*v+u(er),nr=w*a,rr=C*h+u(nr),or=Wn+$n,ir=or+Zn,ur=er+nr,sr=ir+ur,lr=sr+f;return{coeffs:[lt,_t,Dt,sn,jn,kn,lr],errBound:[ct,xt,Ft,ln,Tn,Gn,Un+Kn+u(or)+Jn+u(ir)+(tr+rr+u(ur))+u(sr)+_+u(lr)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(53);t.getCoeffs2x3Exact=function(e,t){let{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f}=u.getImplicitForm2Exact(e),[d,p,g,v]=r.getXExact(t),[h,_,x,m]=o.getYExact(t);return[i.calculate([[d,d,n],[d,h,s],[h,h,l]]),i.calculate([[[2],p,d,n],[p,h,s],[d,_,s],[[2],_,h,l]]),i.calculate([[[2],g,d,n],[g,h,s],[p,p,n],[p,_,s],[d,x,s],[[2],x,h,l],[_,_,l]]),i.calculate([[[2],v,d,n],[v,h,s],[[2],g,p,n],[g,_,s],[p,x,s],[d,m,s],[d,c],[[2],m,h,l],[[2],x,_,l],[h,a]]),i.calculate([[[2],v,p,n],[v,_,s],[g,g,n],[g,x,s],[p,m,s],[p,c],[[2],m,_,l],[x,x,l],[_,a]]),i.calculate([[[2],v,g,n],[v,x,s],[g,m,s],[g,c],[[2],m,x,l],[x,a]]),i.calculate([[v,v,n],[v,m,s],[v,c],[m,m,l],[m,a],[f]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),o=n(7),i=n(1);let u=Math.abs;t.getCoeffs2x2=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f},errorBound:{"vₓₓ_":d,"vₓᵧ_":p,"vᵧᵧ_":g,"vₓ_":v,"vᵧ_":h,v_:_}}=r.getImplicitForm2(e),x=u(n),m=u(s),b=u(l),[[P,M,E],[y,w,O]]=i.getXY(t),C=u(E),I=u(O),S=u(M),B=u(w),j=u(P),T=u(y),N=E*E,D=E*O,F=O*O,A=E*M,q=E*w,L=M*P,Q=M*y,z=M*O,Y=P*P,R=P*w,X=P*y,H=O*w,V=w*y,k=y*y,G=E*P,W=M*M,U=O*y,$=w*w,K=E*y,Z=M*w,J=P*O,ee=u(Y),te=u(X),ne=u(k),re=u(L),oe=u(V),ie=u(Q),ue=u(R),se=u(G),le=u(W),ce=u(U),ae=u($),fe=u(K),de=u(Z),pe=u(J),ge=u(A),ve=u(H),he=u(q),_e=u(z),xe=u(N),me=u(D),be=u(F),Pe=Y*n,Me=ee*(x+d)+u(Pe),Ee=X*s,ye=te*(m+p)+u(Ee),we=k*l,Oe=ne*(b+g)+u(we),Ce=Pe+Ee,Ie=Ce+we,Se=Me+ye+u(Ce)+Oe+u(Ie),Be=L*n,je=re*(x+d)+u(Be),Te=V*l,Ne=oe*(b+g)+u(Te),De=Q+R,Fe=u(De),Ae=De*s,qe=(ie+ue+Fe)*m+Fe*p+u(Ae),Le=2*(Be+Te),Qe=Le+Ae,ze=2*(je+Ne)+u(Le)+qe+u(Qe),Ye=2*G+W,Re=u(Ye),Xe=2*se+le+Re,He=2*U+$,Ve=u(He),ke=2*ce+ae+Ve,Ge=K+Z,We=fe+de+u(Ge),Ue=Ge+J,$e=u(Ue),Ke=We+pe+$e,Ze=Ye*n,Je=Xe*x+Re*d+u(Ze),et=He*l,tt=ke*b+Ve*g+u(et),nt=Ue*s,rt=Ke*m+$e*p+u(nt),ot=P*c,it=j*v+u(ot),ut=y*a,st=T*h+u(ut),lt=Ze+et,ct=lt+nt,at=ot+ut,ft=ct+at,dt=Je+tt+u(lt)+rt+u(ct)+(it+st+u(at))+u(ft),pt=A*n,gt=ge*(x+d)+u(pt),vt=H*l,ht=ve*(b+g)+u(vt),_t=q+z,xt=u(_t),mt=_t*s,bt=(he+_e+xt)*m+xt*p+u(mt),Pt=2*(pt+vt),Mt=2*(gt+ht)+u(Pt),Et=M*c,yt=S*v+u(Et),wt=w*a,Ot=B*h+u(wt),Ct=Pt+mt,It=Et+wt,St=Ct+It,Bt=Mt+bt+u(Ct)+(yt+Ot+u(It))+u(St),jt=N*n,Tt=xe*(x+d)+u(jt),Nt=D*s,Dt=me*(m+p)+u(Nt),Ft=F*l,At=be*(b+g)+u(Ft),qt=E*c,Lt=C*v+u(qt),Qt=O*a,zt=I*h+u(Qt),Yt=jt+Nt,Rt=Yt+Ft,Xt=qt+Qt,Ht=Rt+Xt,Vt=Ht+f;return{coeffs:[Ie,Qe,ft,St,Vt],errBound:[Se,ze,dt,Bt,Tt+Dt+u(Yt)+At+u(Rt)+(Lt+zt+u(Xt))+u(Ht)+_+u(Vt)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(53);t.getCoeffs2x2Exact=function(e,t){let{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f}=u.getImplicitForm2Exact(e),[d,p,g]=r.getXExact(t),[v,h,_]=o.getYExact(t);return[i.calculate([[d,d,n],[d,v,s],[v,v,l]]),i.calculate([[[2],p,d,n],[p,v,s],[d,h,s],[[2],h,v,l]]),i.calculate([[[2],g,d,n],[g,v,s],[p,p,n],[p,h,s],[d,_,s],[d,c],[[2],_,v,l],[h,h,l],[v,a]]),i.calculate([[[2],g,p,n],[g,h,s],[p,_,s],[p,c],[[2],_,h,l],[h,a]]),i.calculate([[g,g,n],[g,_,s],[g,c],[_,_,l],[_,a],[f]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),o=n(7),i=n(1),u=Math.abs;t.getCoeffs2x1=function(e,t){let{coeffs:{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f},errorBound:{"vₓₓ_":d,"vₓᵧ_":p,"vᵧᵧ_":g,"vₓ_":v,"vᵧ_":h,v_:_}}=r.getImplicitForm2(e),x=u(n),m=u(s),b=u(l),[[P,M],[E,y]]=i.getXY(t),w=u(M),O=u(y),C=u(P),I=u(E),S=M*E,B=P*P,j=E*E,T=P*E,N=M*P,D=y*E,F=P*y,A=M*M,q=M*y,L=y*y,Q=u(S),z=u(B),Y=u(j),R=u(T),X=u(N),H=u(D),V=u(F),k=u(A),G=u(q),W=u(L),U=B*n,$=z*(x+d)+u(U),K=j*l,Z=Y*(b+g)+u(K),J=T*s,ee=R*(m+p)+u(J),te=U+K,ne=te+J,re=$+Z+u(te)+ee+u(ne),oe=N*n,ie=X*(x+d)+u(oe),ue=D*l,se=H*(b+g)+u(ue),le=S+F,ce=u(le),ae=(Q+V+ce)*m+ce*p+ce,fe=2*(oe+ue),de=fe+le*s,pe=P*c,ge=E*a,ve=pe+ge,he=de+ve,_e=2*(ie+se)+u(fe)+ae+u(de)+(C*v+u(pe)+(I*h+u(ge))+u(ve))+u(he),xe=A*n,me=k*(x+d)+u(xe),be=q*s,Pe=G*(m+p)+u(be),Me=L*l,Ee=W*(b+g)+u(Me),ye=xe+be,we=ye+Me,Oe=M*c,Ce=y*a,Ie=Oe+Ce,Se=we+Ie,Be=Se+f;return{coeffs:[ne,he,Be],errBound:[re,_e,me+Pe+u(ye)+Ee+u(we)+(w*v+u(Oe)+(O*h+u(Ce))+u(Ie))+u(Se)+_+u(Be)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(53);t.getCoeffs2x1Exact=function(e,t){let{"vₓₓ":n,"vₓᵧ":s,"vᵧᵧ":l,"vₓ":c,"vᵧ":a,v:f}=u.getImplicitForm2Exact(e),[d,p]=r.getXExact(t),[g,v]=o.getYExact(t);return[i.calculate([[d,d,n],[d,g,s],[g,g,l]]),i.calculate([[[2],p,d,n],[p,g,s],[d,v,s],[d,c],[[2],v,g,l],[g,a]]),i.calculate([[p,p,n],[p,v,s],[p,c],[v,v,l],[v,a],[f]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(54),o=n(7),i=n(1),u=Math.abs;t.getCoeffs1x3=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":s,v:l},errorBound:{v_:c}}=r.getImplicitForm1(e),[[a,f,d,p],[g,v,h,_]]=i.getXY(t),x=a*n,m=g*s,b=x+m,P=f*n,M=v*s,E=P+M,y=d*n,w=h*s,O=y+w,C=p*n,I=_*s,S=C+I,B=S+l;return{coeffs:[b,E,O,B],errBound:[u(x)+u(m)+u(b),u(P)+u(M)+u(E),u(y)+u(w)+u(O),u(C)+u(I)+u(S)+c+u(B)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(55);t.getCoeffs1x3Exact=function(e,t){let{"vₓ":n,"vᵧ":s,v:l}=u.getImplicitForm1Exact(e),[c,a,f,d]=r.getXExact(t),[p,g,v,h]=o.getYExact(t);return[i.calculate([[c,n],[p,s]]),i.calculate([[a,n],[g,s]]),i.calculate([[f,n],[v,s]]),i.calculate([[d,n],[h,s],[l]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(54),o=n(7),i=n(1),u=Math.abs;t.getCoeffs1x2=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":s,v:l},errorBound:{v_:c}}=r.getImplicitForm1(e),[[a,f,d],[p,g,v]]=i.getXY(t),h=a*n,_=p*s,x=h+_,m=f*n,b=g*s,P=m+b,M=d*n,E=v*s,y=M+E,w=y+l;return{coeffs:[x,P,w],errBound:[u(h)+u(_)+u(x),u(m)+u(b)+u(P),u(M)+u(E)+u(y)+c+u(w)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0),u=n(55);t.getCoeffs1x2Exact=function(e,t){let{"vₓ":n,"vᵧ":s,v:l}=u.getImplicitForm1Exact(e),[c,a,f]=r.getXExact(t),[d,p,g]=o.getYExact(t);return[i.calculate([[c,n],[d,s]]),i.calculate([[a,n],[p,s]]),i.calculate([[f,n],[g,s],[l]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(54),o=n(7),i=n(1),u=Math.abs;t.getCoeffs1x1=function(e,t){let{coeffs:{"vₓ":n,"vᵧ":s,v:l},errorBound:{v_:c}}=r.getImplicitForm1(e),[[a,f],[d,p]]=i.getXY(t),g=a*n,v=d*s,h=g+v,_=f*n,x=p*s,m=_+x,b=m+l;return{coeffs:[h,b],errBound:[u(g)+u(v)+u(h),u(_)+u(x)+u(m)+c+u(b)].map(e=>o.γ1*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(55),u=n(0);t.getCoeffs1x1Exact=function(e,t){let{"vₓ":n,"vᵧ":s,v:l}=i.getImplicitForm1Exact(e),[c,a]=r.getXExact(t),[f,d]=o.getYExact(t);return[u.calculate([[c,n],[f,s]]),u.calculate([[a,n],[d,s],[l]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(0),i=n(1),u=Math.abs,s=o.twoProduct,l=o.qMultQuad,c=o.qAddQuad,a=o.qDiffQuad;t.getCoeffs3Quad=function(e){let[[t,n,o],[f,d,p]]=i.getXY(e),g=s(n,f),v=s(t,d),h=s(t,p),_=s(o,f),x=s(n,p),m=s(o,d),b=a(g,v),P=a(_,h),M=a(x,m),E=l(b,b),y=2*u(E[1]),w=l(b,P),O=2*u(w[1]),C=l(M,b),I=2*u(C[1]),S=l(P,P),B=2*u(S[1]),j=c(C,S);return{coeffs:[E,w,j],errBound:[y,O,I+B+u(j[1])].map(e=>r.γγ3*e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=n(0);t.getCoeffs3Exact=function(e){let[t,n,u]=r.getXExact(e),[s,l,c]=o.getYExact(e);return[i.calculate([[[-2],n,t,l,s],[n,n,s,s],[t,t,l,l]]),i.calculate([[[-1],u,t,l,s],[[-1],n,t,c,s],[u,n,s,s],[c,l,t,t]]),i.calculate([[[-1],u,n,l,s],[[-1],n,t,c,l],[[-2],u,t,c,s],[u,u,s,s],[t,t,c,c],[u,t,l,l],[c,s,n,n]])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toExpansion=function(e){return e.map(e=>e.map(e=>[e]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.toEstimation=function(e){return e.map(e=>e.map(e=>r.estimate(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromPowerBases=function(e){if(4===e[0].length){let[[t,n,r,o],[i,u,s,l]]=e;return[[o+r+n+t,l+s+u+i],[o+2*r/3+n/3,l+2*s/3+u/3],[o+r/3,l+s/3],[o,l]]}if(3===e.length){let[[t,n,r],[o,i,u]]=e;return[[r+n+t,u+i+o],[r+n/2,u+i/2],[r,u]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[n+t,o+r],[n,o]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHodograph=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[3*(r-t),3*(o-n)],[3*(i-r),3*(u-o)],[3*(s-i),3*(l-u)]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[2*(r-t),2*(o-n)],[2*(i-r),2*(u-o)]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[r-t,o-n]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCuspAtHalf3=function(e,t,n){let[r,o]=e,[i,u]=t,[s,l]=n;return[e,[-(4*r-4*i-s-2*r)/3,-(4*o-4*u-l-2*o)/3],[-(4*r-4*i+2*s-5*r)/3,-(4*o-4*u+2*l-5*o)/3],n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cubicThroughPointGiven013=function(e,t,n){let[[r,o],[i,u],[,],[s,l]]=e,[c,a]=t;return[[r,o],[i,u],[(Math.pow(n,3)*(3*i-r+s)+3*Math.pow(n,2)*(r-2*i)-3*n*(r-i)-c+r)/(3*Math.pow(n,2)*(n-1)),(Math.pow(n,3)*(3*u-o+l)+3*Math.pow(n,2)*(o-2*u)-3*n*(o-u)-a+o)/(3*Math.pow(n,2)*(n-1))],[s,l]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(164),o=n(333),i=n(0),u=n(7),s=Number.EPSILON,l=Math.abs,c=i.expansionDiff,a=i.expansionProduct,f=i.scaleExpansion2,d=i.qNegativeOf,p=i.qAddQuad,g=i.qMultBy2,v=i.qDivQuad;function h(e){let t=e.length;return 2===t?e:1===t?[0,e[0]]:[e[t-2],e[t-1]]}t.bezierSelfIntersection=function(e){if(e.length<4)return;let{coeffs:[t,n,_],errBound:[x,m,b]}=r.getCoeffs3(e);if(l(t)<=x){let[[t,n],[r,o],[u,s],[l,c]]=e,a=l-3*u+3*r-t,f=3*u-6*r+3*t,d=c-3*s+3*o-n,p=3*s-6*o+3*n,g=i.twoProduct(f,d),v=i.twoProduct(a,p);if(g[0]===v[0]&&g[1]===v[1])return}let P=n*n,M=4*t*_,E=P-M,y=2*m*l(n)+u.γ1*P+(4*(x*l(_)+l(t)*b)+u.γ1*l(M))+u.γ1*l(E);if(E<-y)return;if(E>y){let e,{est:r,err:o}=i.sqrtWithErr(E,y);e=n>=0?-n-r:-n+r;let s=m+o+u.γ1*l(e),{est:c,err:a}=i.divWithErr(e,2*t,s,2*x),{est:f,err:d}=i.divWithErr(2*_,e,2*b,s);if(c+a<0||f+d<0||c-a>1||f-d>1)return}let[w,O,C]=o.getCoeffs3Exact_(e),I=c(a(O,O),f(4,a(w,C))),S=i.sign(I);if(S<0)return;if(S>0){let e,t=i.qSqrt(h(I));w=h(w),O=h(O),C=h(C),e=i.sign(O)>=0?d(p(O,t)):p(d(O),t);let n=i.estimate(v(e,g(w))),r=i.estimate(v(g(C),e));if(n<-s||n>1+s||r<-s||r>1+s)return;return n=n<0?0:n>1?1:n,r=r<0?0:r>1?1:r,n<r?[n,r]:[r,n]}let B=i.eMultByNeg2(w);if(i.sign(O)*i.sign(B)<0)return;if(i.compare(i.abs(O),i.abs(B))>0)return;let j=h(O),T=h(B),N=v(j,T)[1];return[N,N]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qDiffQuad,s=r.expansionProduct,l=r.fastExpansionSum;t.getCoeffs3Exact_=function(e){let[[t,n,r],[c,a,f]]=o.getXY(e),d=i(n,c),p=i(t,a),g=i(t,f),v=i(r,c),h=i(n,f),_=i(r,a),x=u(d,p),m=u(v,g),b=u(h,_),P=s(x,x),M=s(x,m),E=s(x,b),y=s(m,m);return[P,M,l(E,y)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(165),o=n(137);t.getEndpointIntersections=function(e,t,n){let i=e[0],u=e[e.length-1],s=t[0],l=t[t.length-1],c=r.inversion01Precise(t,i),a=r.inversion01Precise(t,u),f=r.inversion01Precise(e,s),d=r.inversion01Precise(e,l),p=[];return c&&c.minD<n&&p.push([o.createRootExact(0),o.createRootExact(c.t)]),a&&a.minD<n&&p.push([o.createRootExact(1),o.createRootExact(a.t)]),f&&f.minD<n&&p.push([o.createRootExact(f.t),o.createRootExact(0)]),d&&d.minD<n&&p.push([o.createRootExact(d.t),o.createRootExact(1)]),p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.inversion=function(e,t){return 4===e.length?function(e,t){let n,o,i,u,s,l,c,[[a,f],[d,p],[g,v],[h,_]]=e,[x,m]=t,b=r.calculateSum([r.scaleExpansion(x,-f),r.scaleExpansion(x,3*p),r.scaleExpansion(x,-3*v),r.scaleExpansion(x,_),r.scaleExpansion(m,a),r.twoProduct(-a,_),r.scaleExpansion(m,-3*d),r.twoProduct(3*d,_),r.scaleExpansion(m,3*g),r.twoProduct(-3*g,_),r.scaleExpansion(m,-h),r.twoProduct(h,f),r.twoProduct(-3*h,p),r.twoProduct(3*h,v)]),P=r.calculateSum([r.scaleExpansion(x,2*f),r.scaleExpansion(x,-3*p),r.scaleExpansion(x,_),r.scaleExpansion(m,-2*a),r.twoProduct(2*a,_),r.scaleExpansion(m,3*d),r.twoProduct(-3*d,_),r.scaleExpansion(m,-h),r.twoProduct(-2*h,f),r.twoProduct(3*h,p)]),M=r.calculateSum([r.scaleExpansion(x,-f),r.scaleExpansion(x,_),r.scaleExpansion(m,a),r.twoProduct(-a,_),r.scaleExpansion(m,-h),r.twoProduct(h,f)]),E=r.calculateSum([r.scaleExpansion(x,-2*f),r.scaleExpansion(x,6*p),r.scaleExpansion(x,-6*v),r.scaleExpansion(x,2*_),r.scaleExpansion(m,2*a),r.twoProduct(-3*a,v),r.twoProduct(a,_),r.scaleExpansion(m,-6*d),r.twoProduct(9*d,v),r.twoProduct(-3*d,_),r.scaleExpansion(m,6*g),r.twoProduct(3*g,f),r.twoProduct(-9*g,p),r.scaleExpansion(m,-2*h),r.twoProduct(-h,f),r.twoProduct(3*h,p)]),y=r.calculateSum([r.scaleExpansion(x,5*f),r.scaleExpansion(x,-9*p),r.scaleExpansion(x,3*v),r.scaleExpansion(x,_),r.scaleExpansion(m,-5*a),r.twoProduct(6*a,v),r.twoProduct(-a,_),r.scaleExpansion(m,9*d),r.twoProduct(-9*d,v),r.scaleExpansion(m,-3*g),r.twoProduct(-6*g,f),r.twoProduct(9*g,p),r.scaleExpansion(m,-h),r.twoProduct(h,f)]),w=r.calculateSum([r.scaleExpansion(x,-3*f),r.scaleExpansion(x,3*v),r.scaleExpansion(m,3*a),r.twoProduct(-3*a,v),r.scaleExpansion(m,-3*g),r.twoProduct(3*g,f)]),O=r.calculateSum([r.scaleExpansion(x,-f),r.scaleExpansion(x,3*p),r.scaleExpansion(x,-3*v),r.scaleExpansion(x,_),r.scaleExpansion(m,a),r.twoProduct(-3*a,p),r.twoProduct(3*a,v),r.twoProduct(-a,_),r.scaleExpansion(m,-3*d),r.twoProduct(3*d,f),r.scaleExpansion(m,3*g),r.twoProduct(-3*g,f),r.scaleExpansion(m,-h),r.twoProduct(h,f)]),C=r.calculateSum([r.scaleExpansion(x,3*f),r.scaleExpansion(x,-6*p),r.scaleExpansion(x,3*v),r.scaleExpansion(m,-3*a),r.twoProduct(6*a,p),r.twoProduct(-3*a,v),r.scaleExpansion(m,6*d),r.twoProduct(-6*d,f),r.scaleExpansion(m,-3*g),r.twoProduct(3*g,f)]),I=r.calculateSum([r.scaleExpansion(x,-3*f),r.scaleExpansion(x,3*p),r.scaleExpansion(m,3*a),r.twoProduct(-3*a,p),r.scaleExpansion(m,-3*d),r.twoProduct(3*d,f)]);0===r.sign(b)&&0!==r.sign(P)&&(n=P,o=M);0===r.sign(E)&&0!==r.sign(y)&&(i=y,u=w);0===r.sign(O)&&0!==r.sign(C)&&(s=C,l=I);if(0!==r.sign(E)&&0!==r.sign(b)){let e=r.expansionDiv(b,E,4);n=r.expansionDiff(P,r.expansionProduct(e,y)),o=r.expansionDiff(M,r.expansionProduct(e,w))}if(0!==r.sign(O)&&0!==r.sign(E)){let e=r.expansionDiv(E,O,4);i=r.expansionDiff(y,r.expansionProduct(e,C)),u=r.expansionDiff(w,r.expansionProduct(e,I))}if(0!==r.sign(b)&&0!==r.sign(O)){let e=r.expansionDiv(O,b,4);s=r.expansionDiff(C,r.expansionProduct(e,P)),l=r.expansionDiff(I,r.expansionProduct(e,M))}n=n||[0],i=i||[0],s=s||[0],c=r.compare(r.abs(n),r.abs(i))>0?r.compare(r.abs(n),r.abs(s))>0?1:3:r.compare(r.abs(i),r.abs(s))>0?2:3;let S=1===c?n:2===c?i:s,B=1===c?o:2===c?u:l,j=r.expansionDiv(r.negativeOf(B),S,4);return r.estimate(j)}(e,t):3===e.length?function(e,t){let[[n,o],[i,u],[s,l]]=e,[c,a]=t,f=r.calculateSum([r.scaleExpansion(c,o),r.scaleExpansion(c,-2*u),r.scaleExpansion(c,l),r.scaleExpansion(a,-n),r.twoProduct(n,l),r.scaleExpansion(a,2*i),r.twoProduct(-2*i,l),r.scaleExpansion(a,-s),r.twoProduct(-s,o),r.twoProduct(2*s,u)]),d=r.calculateSum([r.scaleExpansion(c,-o),r.scaleExpansion(c,l),r.scaleExpansion(a,n),r.twoProduct(-n,l),r.scaleExpansion(a,-s),r.twoProduct(s,o)]),p=r.expansionDiv(r.negativeOf(d),f,4);return r.estimate(p)}(e,t):2===e.length?function(e,t){let[[n,o],[i,u]]=e,[s,l]=t,c=r.twoDiff(i,n),a=r.twoDiff(u,o);if(r.compare(c,a)>0){let e=r.expansionDiv(r.fastExpansionSum(s,[-n]),c,4);return r.estimate(e)}let f=r.expansionDiv(r.fastExpansionSum(l,[-o]),r.twoDiff(u,o),4);return r.estimate(f)}(e,t):void 0},t.inversion1_BL52_1ULP=function(e,t){let[[n,r],[o,i]]=e,[u,s]=t,l=o-n,c=i-r;return Math.abs(l)>Math.abs(c)?(u-n)/l:(s-r)/c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDxy=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[3*(s+3*(r-i)-t),6*(i-2*r+t),3*(r-t)],[3*(l+3*(o-u)-n),6*(u-2*o+n),3*(o-n)]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[2*(i-2*r+t),2*(r-t)],[2*(u-2*o+n),2*(o-n)]]}if(2===e.length){let[[t,n],[r,o]]=e;return[[r-t],[o-n]]}throw new Error("The bezier curve must be of order 1, 2 or 3.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdxy=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[6*(s+3*(r-i)-t),6*(i-2*r+t)],[6*(l+3*(o-u)-n),6*(u-2*o+n)]]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[[2*(i-2*r+t)],[2*(u-2*o+n)]]}if(2===e.length)return[[0],[0]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDxyAt1=function(e){if(4===e.length){let[,,[t,n],[r,o]]=e;return[3*(r-t),3*(o-n)]}if(3===e.length){let[,[t,n],[r,o]]=e;return[2*(r-t),2*(o-n)]}if(2===e.length){let[[t,n],[r,o]]=e;return[r-t,o-n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDdxyAt1=function(e){if(4===e.length){let[,[t,n],[r,o],[i,u]]=e;return[6*i-12*r+6*t,6*u-12*o+6*n]}if(3===e.length){let[[t,n],[r,o],[i,u]]=e;return[2*i-4*r+2*t,2*u-4*o+2*n]}if(2===e.length)return[0,0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(8);t.evaluateX=function(e,t){const n=o.getX(e),i=r.evaluate(n),u=e.length;function s(t){return 0===t?e[0][0]:1===t?e[u-1][0]:i(t)}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(9);t.evaluateY=function(e,t){const n=o.getY(e),i=r.evaluate(n),u=e.length;function s(t){return 0===t?e[0][1]:1===t?e[u-1][1]:i(t)}return void 0===t?s:s(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(169);t.normal=function(e,t){const n=r.tangent(e);function o(e){let t=n(e);return[t[1],-t[0]]}return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(344);t.BezDebug=class{constructor(e){this.g=e,this.generated={elems:{beziers:[],fatLine:[],looseBoundingBox:[],tightBoundingBox:[],extreme:[],boundingHull:[],intersection:[]}},this.fs={drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4);let i={beziers:function(e,t){let n=o.drawFs.bezier(e,t[0],"blue thin5 nofill"),r=o.drawFs.bezier(e,t[1],"green thin5 nofill"),i=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let i of e)i[0]<t&&(t=i[0]),i[1]<n&&(n=i[1]),i[0]>r&&(r=i[0]),i[1]>o&&(o=i[1]);let i=r-t,u=o-n;return Math.max(i,u)}([...t[0],...t[1]])/400,u=[];for(let n=0;n<t.length;n++){let r=t[n];for(let t=0;t<r.length;t++){let s=r[t];u.push(...o.drawFs.dot(e,s,i,0===n?"blue":"green"))}}return[...n,...r,...u]},intersection:function(e,t){return o.drawFs.crossHair(e,t,"red thin5 nofill",.1)},extreme:function(e,t){return o.drawFs.crossHair(e,t.p,"red thin10 nofill",.05)},boundingHull:function(e,t){return o.drawFs.polygon(e,t,"thin5 black nofill")},looseBoundingBox:function(e,t){return o.drawFs.rect(e,t,"thin5 brown nofill")},tightBoundingBox:function(e,t){return o.drawFs.polygon(e,t,"thin5 black nofill")},fatLine:function(e,t){let{l:n,minD:i,maxD:u}=t,[s,l]=n;const c=1024;let a=r.fromTo(s,l),f=[+c*a[0],+c*a[1]],d=[-c*a[0],-c*a[1]],p=[-a[1],a[0]],g=r.toLength(p,i),v=r.toLength(p,u),h=r.translate(s,d),_=r.translate(l,f),x=[r.translate(h,g),r.translate(_,g)],m=[r.translate(h,v),r.translate(_,v)];return[...o.drawFs.line(e,x),...o.drawFs.line(e,m)]}};t.drawElemFunctions=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(346),o=n(29);t.quadToPolyline=function(e,t){let n=[],i={ps:e,prev:void 0,next:void 0};for(n.push(i);n.length;){let e=n.pop();if(r.isQuadFlat(e.ps,t))continue;let u=o.splitAt(e.ps,.5),s=e.prev,l=e.next,c={ps:u[0],prev:s,next:void 0},a={ps:u[1],prev:void 0,next:l};c.next=a,a.prev=c,s&&(s.next=c),l&&(l.prev=a),i===e&&(i=c),n.push(c),n.push(a)}let u=[],s=i;for(u.push(i.ps[0]);s;)u.push(s.ps[2]),s=s.next;return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(170),i=n(10);t.isQuadFlat=function(e,t){if(o.isQuadObtuse(e))return!1;let[[n,u],,[s,l]]=e;if(n===s&&u===l)return!0;let[c,a]=i.evalDeCasteljau(e,.5),f=Math.pow((l-u)*c-(s-n)*a+s*u-l*n,2),d=r.squaredDistanceBetween(e[0],e[2]);return Math.abs(f/d)<Math.pow(t,2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79),o=n(0),i=Number.EPSILON/2,u=Math.abs,s=o.qDiffQuad,l=[0,1],c=(o.qDivQuad,o.qAddDouble),a=o.qAddQuad,f=o.qMultQuad,d=o.qMultDouble2,p=o.qMultBy2;function g([[e,t],[n,r],[g,v],[h,_]],[x,m]){let b=s(m,x),P=3*i*i*u(b[1]),M=s(l,x),E=3*i*i*u(M[1]),y=o.qDivQuadWithError(b,M,P,E);m=c(y.est,y.err);let w=s(l,x),O=f(x,x),C=f(x,w),I=f(w,w),S=f(O,x),B=f(O,w),j=f(I,x),T=f(I,w),N=s(l,m),D=f(m,m),F=f(m,N),A=f(N,N),q=f(D,m),L=f(D,N),Q=f(A,m),z=f(A,N),Y=u(x[1]),R=u(w[1]),X=u(O[1]),H=u(C[1]),V=u(I[1]),k=u(S[1]),G=u(B[1]),W=u(j[1]),U=u(T[1]),$=u(m[1]),K=u(N[1]),Z=u(D[1]),J=u(F[1]),ee=u(A[1]),te=u(q[1]),ne=u(L[1]),re=u(Q[1]),oe=u(z[1]),ie=u(e),ue=u(t),se=u(n),le=u(r),ce=u(g),ae=u(v),fe=u(h),de=u(_),pe=a(d(h,x),d(g,w)),ge=a(a(d(h,O),d(2*g,C)),d(n,I)),ve=a(a(d(h,S),d(e,T)),d(3,a(d(g,B),d(n,j)))),he=a(f(ge,m),f(ve,N)),_e=a(a(f(pe,D),f(ve,A)),f(p(ge),F)),xe=a(a(d(h,q),f(ve,z)),d(3,a(f(pe,L),f(ge,Q)))),me=u(ve[1]),be=fe*Y+ce*R,Pe=fe*X+2*ce*H+se*V;ie=fe*k+ie*U+3*(ce*G+se*W),se=Pe*$+me*K,ce=be*Z+me*ee+2*Pe*J,fe=fe*te+me*oe+3*(be*ne+Pe*re),ie*=11*i*i,se*=15*i*i,ce*=20*i*i,fe*=22*i*i;let Me=a(d(_,x),d(v,w)),Ee=a(a(d(_,O),d(2*v,C)),d(r,I)),ye=a(a(d(_,S),d(t,T)),d(3,a(d(v,B),d(r,j)))),we=a(f(Ee,m),f(ye,N)),Oe=a(a(f(Me,D),f(ye,A)),f(p(Ee),F)),Ce=a(a(d(_,q),f(ye,z)),d(3,a(f(Me,L),f(Ee,Q)))),Ie=u(ye[1]),Se=de*Y+ae*R,Be=de*X+2*ae*H+le*V;ue=de*k+ue*U+3*(ae*G+le*W),le=Be*$+Ie*K,ae=Se*Z+Ie*ee+2*Be*J,de=de*te+Ie*oe+3*(Se*ne+Be*re),ue*=11*i*i,le*=15*i*i,ae*=20*i*i,de*=22*i*i;let je=o.qMin(o.qMin(c(ve,-ie),c(he,-se)),o.qMin(c(_e,-ce),c(xe,-fe))),Te=o.qMax(o.qMax(c(ve,+ie),c(he,+se)),o.qMax(c(_e,+ce),c(xe,+fe)));return[[je,o.qMin(o.qMin(c(ye,-ue),c(we,-le)),o.qMin(c(Oe,-ae),c(Ce,-de)))],[Te,o.qMax(o.qMax(c(ye,+ue),c(we,+le)),o.qMax(c(Oe,+ae),c(Ce,+de)))]]}function v([[e,t],[n,r],[g,v]],[h,_]){let x=s(_,h),m=3*i*i*u(x[1]),b=s(l,h),P=3*i*i*u(b[1]),M=o.qDivQuadWithError(x,b,m,P);_=c(M.est,M.err);let E=s(l,h),y=f(h,h),w=f(h,E),O=f(E,E),C=s(l,_),I=f(_,_),S=f(_,C),B=f(C,C),j=u(h[1]),T=u(E[1]),N=u(y[1]),D=u(w[1]),F=u(O[1]),A=u(_[1]),q=u(C[1]),L=u(I[1]),Q=u(S[1]),z=u(B[1]),Y=u(e),R=u(t),X=u(n),H=u(r),V=u(g),k=u(v),G=a(a(d(g,y),d(2*n,w)),d(e,O)),W=a(d(g,h),d(n,E)),U=G,$=a(f(_,W),f(C,G)),K=a(a(d(g,I),f(p(S),W)),f(B,G)),Z=V*N+2*X*D+Y*F,J=V*j+X*T;Y=Z,X=A*J+q*Z,V=L*g+2*Q*J+z*Z,Y*=7*i*i,X*=11*i*i,V*=14*i*i;let ee=a(a(d(v,y),d(2*r,w)),d(t,O)),te=a(d(v,h),d(r,E)),ne=ee,re=a(f(_,te),f(C,ee)),oe=a(a(d(v,I),f(p(S),te)),f(B,ee)),ie=k*N+2*H*D+R*F,ue=k*j+H*T;R=ie,H=A*ue+q*ie,k=L*v+2*Q*ue+z*ie,R*=7*i*i,H*=11*i*i,k*=14*i*i;let se=o.qMin(o.qMin(c(U,-Y),c($,-X)),c(K,-V)),le=o.qMax(o.qMax(c(U,+Y),c($,+X)),c(K,+V));return[[se,o.qMin(o.qMin(c(ne,-R),c(re,-H)),c(oe,-k))],[le,o.qMax(o.qMax(c(ne,+R),c(re,+H)),c(oe,+k))]]}function h([[e,t],[n,r]],[p,g]){let v=s(g,p),h=3*i*i*u(v[1]),_=s(l,p),x=3*i*i*u(_[1]),m=o.qDivQuadWithError(v,_,h,x);g=c(m.est,m.err);let b=s(l,p),P=s(l,g),M=u(p[1]),E=u(b[1]),y=u(g[1]),w=u(P[1]),O=u(e),C=u(t),I=u(n),S=u(r),B=a(d(n,p),d(e,b)),j=a(d(n,g),f(B,P));O=I*M+O*E,I=I*y+O*w,O*=3*i,I*=7*i;let T=a(d(r,p),d(t,b)),N=a(d(r,g),f(T,P));C=S*M+C*E,S=S*y+C*w,C*=3*i,S*=7*i;let D=o.qMin(c(B,-O),c(j,-I)),F=o.qMax(c(B,+O),c(j,+I));return[[D,o.qMin(c(T,-C),c(N,-S))],[F,o.qMax(c(T,+C),c(N,+S))]]}function _(e,t){let n=e[0],o=e[e.length-1];if(0===t[0]&&0===t[1]){let e=[0,n[0]],t=[0,n[1]];return[[e,t],[e,t]]}if(0===t[0]&&1===t[1]){let e=[0,o[0]],t=[0,o[1]];return[[e,t],[e,t]]}let{p:i,pE:u}=r.evalDeCasteljauWithErrQuad(e,t);return[[c(i[0],-u[0]),c(i[1],-u[1])],[c(i[0],+u[0]),c(i[1],+u[1])]]}t.getIntervalBoxQuad=function(e,t){return t[0]!==t[1]?4===e.length?g(e,t):3===e.length?v(e,t):h(e,t):_(e,t[0])},t.getIntervalBox3Quad=g,t.getIntervalBox2Quad=v,t.getIntervalBox1Quad=h,t.getIntervalBoxExactTQuad=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30),o=n(171),i=n(3),u=n(10);function s(e,t,n){let s=o.splitByMaxCurveLength(e,n),l=[];for(let n=0;n<s.length;n++){let o=s[n],c=u.evalDeCasteljau(e,o),a=r.closestPointOnBezier(t,c);l.push({p1:c,p2:a.p,d:i.distanceBetween(c,a.p)})}return l}t.hausdorffDistanceCandidates=s,t.hausdorffDistance=function(e,t,n){let r=s(e,t,n),o=Number.NEGATIVE_INFINITY;for(let e of r)e.d>o&&(o=e.d);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(173),i=n(84);function u(e,[t,n]){let o=function(e,t){let[[n,r],[o,i],[u,s],[l,c]]=e;function a(e){let t=e*e,a=1-e,f=2*e-3*t,d=(3*e-1)*a,p=a*a,g=3*(t*l+f*u-d*o-p*n),v=3*(t*c+f*s-d*i-p*r),h=6*(e*c-(3*e-1)*s+(3*e-2)*i+a*r),_=6*(e*l-(3*e-1)*u+(3*e-2)*o+a*n),x=Math.sqrt(g*g+v*v);return 4*(g*(c-3*s+3*i-r)-v*(l-3*u+3*o-n))*Math.pow(x,3)-(g*h-_*v)*(2*h*v+2*_*g)*x}return void 0===t?a:a(t)}(e);if(!(o(t)*o(n)>=0))return r.brent(o,t,n)}t.getCurvatureExtrema=function(e){if(2===e.length)return{maxCurvatureTs:[],maxNegativeCurvatureTs:[]};if(3===e.length)return{maxCurvatureTs:[],maxNegativeCurvatureTs:[]};let t=[],n=[],r=o.getCurvatureExtremaBrackets(e).brackets,s=i.κ(e),l=r.length;for(let o=0;o<l;o++){let i=r[o];if(!i)continue;let l=u(e,i);if(!l)continue;let c=-s(l),a=-s(i[0]),f=-s(i[1]);c>a&&c>f?c>0&&t.push(l):c<=a&&c<=f&&c<0&&n.push(l)}return{maxCurvatureTs:t,maxNegativeCurvatureTs:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(173);t.getInflections=function(e){return r.getCurvatureExtremaBrackets(e).inflections}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),o=n(174);t.splitByMaxCurvature=function(e,t=1.1){let n=[0,1],i=[[0,1]],u=r.fromTo(e);for(;i.length;){let e=i.pop(),r=u(e[0],e[1]);if(o.flatness(r)>t){let t=(e[0]+e[1])/2;i.push([e[0],t]),i.push([t,e[1]]),n.push(t)}}return n.sort((e,t)=>e-t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),o=n(57),i=n(3);t.splitByCurvatureAndLength=function(e,t=1.001,n=10){let u=[0,1],s=[[0,1]],l=r.fromTo(e);for(;s.length;){let e=s.pop(),r=l(e[0],e[1]),c=o.lengthUpperBound(r);if(1+c/n*(c/i.distanceBetween(r[0],r[r.length-1])-1)>t){let t=(e[0]+e[1])/2;s.push([e[0],t]),s.push([t,e[1]]),u.push(t)}}return u.sort((e,t)=>e-t),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(143),o=n(10);t.areBeziersInSameKFamily=function(e,t){let n=[.03125,.0625,.125,.25,.5,2,4,8,16,32].map(t=>o.evalDeCasteljau(e,t));for(let e of n)if(!r.isPointOnBezierExtension(t,e))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3),i=n(84);t.getInterfaceCcw=function(e,t){let n=e[e.length-2],u=t[0],s=t[1],l=[u[0]-n[0],u[1]-n[1]],c=[s[0]-u[0],s[1]-u[1]],a=r.orient2d(n,u,s);return 0!==a?a:o.dot(l,c)>0?0:i.compareCurvaturesAtInterface(e.slice().reverse(),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(175);function o(e){return function(e){for(let t=1;t<e.length;t++)if(e[t-1]>e[t])return!1;return!0}(e)||function(e){for(let t=1;t<e.length;t++)if(e[t-1]<e[t])return!1;return!0}(e)}t.isSelfOverlapping=function(e){if(!r.isLine(e))return!1;let t=e.map(e=>e[0]),n=e.map(e=>e[1]);return!(o(t)&&o(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(3),i=n(176),u=n(172),s=n(10);let l=r.memoize((function(e){let t,n,[r,l]=e[0],[c,a]=e[e.length-1],f=u.lengthSquaredUpperBound(e);if(o.squaredDistanceBetween(e[0],e[e.length-1])*Math.pow(2,8)<f){let[o,i]=s.evalDeCasteljau(e,.5),u=Math.sqrt((o-r)*(o-r)+(i-l)*(i-l));t=(i-l)/u,n=(o-r)/u}else{let e=Math.sqrt((c-r)*(c-r)+(a-l)*(a-l));t=(a-l)/e,n=(c-r)/e}let d=function(e,t,n){let r=e[0].map(e=>-e),u=o.translateThenRotatePs(r,-t,n,e);return i.getBoundingBox(u)}(e,t,n),[[p,g],[v,h]]=d,_=[d[0],[v,g],d[1],[p,h]];return o.rotateThenTranslatePs(t,n,e[0],_)}));t.getBoundingBoxTight=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHybridQuadratic=function(e){if(4===e.length){let[[t,n],[r,o],[i,u],[s,l]]=e;return[[t,n],[[(3*r-t)/2,(3*o-n)/2],[(3*i-s)/2,(3*u-l)/2]],[s,l]]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=Number.EPSILON/2,i=Math.abs;t.isCubicReallyQuad=function(e){let[[t,n],[u,s],[l,c],[a,f]]=e,d=a+3*u,p=i(3*u)+i(d),g=t+3*l,v=i(3*l)+i(g),h=d-g,_=o*(p+v+i(h));if(i(h)-_>0)return!1;let x=f+3*s,m=i(3*s)+i(x),b=n+3*c,P=i(3*c)+i(b),M=x-b,E=o*(m+P+i(M));return!(i(M)-E>0)&&(0===r.sign(r.expansionDiff(r.fastExpansionSum([a],r.twoProduct(3,u)),r.fastExpansionSum([t],r.twoProduct(3,l))))&&0===r.sign(r.expansionDiff(r.fastExpansionSum([f],r.twoProduct(3,s)),r.fastExpansionSum([n],r.twoProduct(3,c)))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.toQuadraticFromCubic=function(e){let[[t,n],[o,i],[u,s],[l,c]]=e;return[[t,n],[r.estimate(r.expansionDiff(r.scaleExpansion(r.twoSum(o/4,u/4),3),r.twoSum(t/4,l/4))),r.estimate(r.expansionDiff(r.scaleExpansion(r.twoSum(i/4,s/4),3),r.twoSum(n/4,c/4)))],[l,c]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(361),i=n(10);t.circleBezierIntersection=function(e,t){let n;return 4===t.length?n=o.getCoeffsCubic(e,t):3===t.length?n=o.getCeoffsQuadratic(e,t):2===t.length&&(n=o.getCeoffsLine(e,t)),r.allRoots(n,0,1).map(e=>({t:e,p:i.evalDeCasteljau(t,e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.getCoeffsCubic=function(e,t){let{radius:n,center:[o,i]}=e,[[u,s,l,c],[a,f,d,p]]=r.getXY(t);return[u*u+a*a,2*(s*u+f*a),2*(l*u+d*a)+s*s+f*f,2*(c*u+l*s-u*o+p*a+d*f-a*i),2*(c*s-s*o+p*f-f*i)+l*l+d*d,2*(c*l-l*o+p*d-d*i),-2*(c*o+p*i)+c*c+p*p+o*o+i*i-n*n]},t.getCeoffsQuadratic=function(e,t){let{radius:n,center:[o,i]}=e,[[u,s,l],[c,a,f]]=r.getXY(t);return[u*u+c*c,2*(s*u+a*c),2*(l*u-u*o+f*c-c*i)+s*s+a*a,2*(l*s-s*o+f*a-a*i),-2*(l*o+f*i)+l*l+f*f+o*o+i*i-n*n]},t.getCeoffsLine=function(e,t){let{radius:n,center:[o,i]}=e,[[u,s],[l,c]]=r.getXY(t);return[u*u+l*l,2*(s*u-u*o+c*l-l*i),-2*(s*o+c*i)+s*s+c*c+o*o+i*i-n*n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(363),o=n(6),i=n(10);t.circleBezierIntersectionPrecise=function(e,t){let n;return 4===t.length?n=r.getCoeffsCubicQuad(e,t):3===t.length?n=r.getCoeffsQuadraticQuad(e,t):2===t.length&&(n=r.getCoeffsLinearQuad(e,t)),o.allRootsMultiWithErrBounds(n,n.map(e=>0)).map(e=>({t:o.mid(e),p:i.evalDeCasteljau(t,o.mid(e))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=r.twoProduct,u=r.qAddQuad,s=r.qMultBy2,l=r.qMultByNeg2,c=r.qDiffQuad;t.getCoeffsCubicQuad=function(e,t){let{radius:n,center:[r,a]}=e,[[f,d,p,g],[v,h,_,x]]=o.getXY(t);return[u(i(f,f),i(v,v)),s(u(i(d,f),i(h,v))),u(s(u(i(p,f),i(_,v))),u(i(d,d),i(h,h))),s(c(u(u(i(g,f),i(p,d)),u(i(x,v),i(_,h))),u(i(f,r),i(v,a)))),u(s(c(u(i(g,d),i(x,h)),u(i(d,r),i(h,a)))),u(i(p,p),i(_,_))),s(c(u(i(g,p),i(x,_)),u(i(p,r),i(_,a)))),u(l(u(i(g,r),i(x,a))),c(u(u(i(g,g),i(x,x)),u(i(r,r),i(a,a))),i(n,n)))]},t.getCoeffsQuadraticQuad=function(e,t){let{radius:n,center:[r,a]}=e,[[f,d,p],[g,v,h]]=o.getXY(t);return[u(i(f,f),i(g,g)),s(u(i(d,f),i(v,g))),u(s(c(u(i(p,f),i(h,g)),u(i(f,r),i(g,a)))),u(i(d,d),i(v,v))),s(c(u(i(p,d),i(h,v)),u(i(d,r),i(v,a)))),u(l(u(i(p,r),i(h,a))),c(u(u(i(p,p),i(h,h)),u(i(r,r),i(a,a))),i(n,n)))]},t.getCoeffsLinearQuad=function(e,t){let{radius:n,center:[r,a]}=e,[[f,d],[p,g]]=o.getXY(t);return[u(i(f,f),i(p,p)),s(c(u(i(d,f),i(g,p)),u(i(f,r),i(p,a)))),u(l(u(i(d,r),i(g,a))),c(u(u(i(d,d),i(g,g)),u(i(r,r),i(a,a))),i(n,n)))]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCpNode=function(e,t){let n=e.prev,r=e.next;n.next=r,r.prev=n;let o=r.prevOnCircle,i=n.nextOnCircle;o.next=i,i.prev=o,t&&t.remove(e,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),i=n(5);t.getEdgeDirection=function(e){let t,n=e.cp.circle.center,u=e,s=e.nextOnCircle,l=u.cp.pointOnShape,c=s.cp.pointOnShape,a=l.p,f=c.p;if(i.isPosSharpCorner(l)){let e,n;0===l.t?(e=l.curve,n=l.curve.prev):1===l.t&&(e=l.curve.next,n=l.curve);let i=r.toUnitVector(o.tangent(e.ps,0)),u=r.reverse(r.toUnitVector(o.tangent(n.ps,1))),s=r.dot(i,u),c=Math.sqrt((1+s)/2),a=Math.sqrt((1-s)/2);t=r.rotate(a,c,u)}else t=a[0]===f[0]&&a[1]===f[1]?r.fromTo(a,n):r.rotate90Degrees(r.fromTo(a,f));return[n,r.translate(r.toUnitVector(t),n)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(177),o=n(432),i=n(443),u=n(446),s=n(447),l=n(448),c=n(449),a=n(457),f=n(459),d=n(461);function p(e,t,n,r,d){u.addDebugInfo1(e);let p=e.map(a.getInterestingPointsOnLoop(t,n,r)),g=s.getPotential2Prongs(p),v=l.getSharpCorners(p),h=new Map,_=i.createInitialCpGraph(e,h,v);if(f.findAndAddHoleClosing2Prongs(e,h,d),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterHoleClosers)return;if(u.addDebugInfo2(),_=c.findAndAdd2ProngsOnAllPaths(e,h,g,d),u.addDebugInfo3(),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterTwoProngs)return;if(void 0===_)return;if(o.findAndAddAll3Prongs(h,_,d),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterThreeProngs)return;let x={cpNode:_,cpTrees:h};return u.addDebugInfo4(x),x}t.findMats=function(e,t=1.01,n=4){if("undefined"!=typeof _debug_)var o=performance.now();let i,u;({maxFlatness:t,maxLength:n,maxCoordinate:i,minBezLength:u}=function(e,t,n){let{maxCoordinate:r,maxRadius:o}=d.getLoopsMetrics(e),i=Math.ceil(Math.log2(r)),u=Math.pow(2,i)*Math.pow(2,-14);t<1.001&&(t=1.001);t>2&&(t=2);n<.1&&(n=.1);n>100&&(n=100);let s=Math.ceil(Math.log2(o));return n*=Math.pow(2,s)*Math.pow(2,-10),{maxFlatness:t,maxLength:n,maxCoordinate:r,minBezLength:u}}(e,t,n));let s=r.simplifyPaths(e,i);if("undefined"!=typeof _debug_){_debug_.generated.timing.simplifyPaths=performance.now()-o}let l=[];for(let e of s){let r=p(e,u,t,n,i);r&&l.push(r)}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(368),o=n(372),i=n(374),u=n(375),s=n(376),l=n(377),c=n(397),a=n(398),f=n(181),d=n(399),p=n(403),g=n(182),v=n(2),h=n(404);t.simplifyPaths=function(e,t){t=t||p.getMaxCoordinate(e);let n=Math.ceil(Math.log2(t)),_=Math.pow(2,n)*Math.pow(2,-46)*Math.pow(2,4);(function(e){if("undefined"==typeof _debug_)return;if("undefined"!=typeof document){let t=h.loopsToSvgPathStr(e);document.getElementsByClassName("shape")[0].setAttributeNS(null,"d",t)}for(let t of e)for(let e of t){let t=v.getBoundingBox(e),n=v.getBoundingBoxTight(e),r=v.getBoundingHull(e);_debug_.generated.elems.bezier_.push(e),_debug_.generated.elems.looseBoundingBox_.push(t),_debug_.generated.elems.tightBoundingBox_.push(n),_debug_.generated.elems.boundingHull_.push(r)}})(e=d.normalizeLoops(e,46,n,!1,!0)),e.sort(i.orderLoopAscendingByMinY);let x=e.map(e=>f.loopFromBeziers(e)),{extremes:m}=l.getContainers(x,_,n),b={dir:void 0,idx:0,parent:void 0,children:new Set,windingNum:0,p:void 0,_x_:void 0,container:void 0},P=new Set,M=new Set;for(let e of x){if(P.has(e))continue;P.add(e);let t=o.getTightestContainingLoop(b,e),i=m.get(e)[0].container;i.inOuts.length&&r.completePath(n,c.getOutermostInAndOut(i),P,M,t)}let E=u.splitLoopTrees(b).map(s.getLoopsFromTree).map(e=>e.map(t=>function(e,t){return t<0?f.loopFromBeziers(e.beziers):a.reverseOrientation(f.loopFromBeziers(e.beziers))}(t,e[0].orientation))),y=Math.pow(Math.pow(2,n)*Math.pow(2,-12),2),w=[];for(let e=0;e<E.length;e++){let t=E[e].filter(e=>Math.abs(g.getLoopArea(e))>y);t.length&&(t.sort((e,t)=>i.orderLoopAscendingByMinY(e.beziers,t.beziers)),w.push(t))}return function(e){if("undefined"==typeof _debug_)return;for(let t of e)_debug_.generated.elems.loop.push(...t),_debug_.generated.elems.loops.push(t);if("undefined"==typeof document);}(w),w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(369);t.completePath=function(e,t,n,o,i){t.parent=i,t.windingNum=i.windingNum+t.orientation,t.children=new Set;let u=[t];for(;u.length;){let t=u.pop();if(n.add(t._x_.curve.loop),o.has(t))continue;t.children=new Set;let{beziers:i,additionalOutsToCheck:s}=r.completeLoop(e,o,t);t.beziers=i,t.parent.children=t.parent.children||new Set,t.parent.children.add(t),u.push(...s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(370),o=n(371),i=n(2);t.completeLoop=function(e,t,n){let u,s=[],l=[],c=n;do{t.add(c);let{beziers:a,in_:f,inBez:d}=o.getBeziersToNextContainer(e,c);if(l.push(...a),({out_:c,additionalBezier:u}=r.getNextExit(e,f,n,s,t)),u){let e=i.closestPointOnBezierPrecise(d,u[0]).t,t=i.fromTo(d)(0,e);l.push(t),l.push(u)}else l.push(d)}while(c!==n);return{beziers:l,additionalOutsToCheck:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(178);t.getNextExit=function(e,t,n,o,i){let u=function(e,t,n){return(r,o,i)=>{t.has(r)||r.orientation||(r.orientation=o*e.orientation,r.parent=i,r.windingNum=i.windingNum+r.orientation,n.push(r))}}(n,i,o),s=void 0,l=0,c=1,a=t,f=void 0;for(;;){if(a=1===n.orientation?a.nextAround:a.prevAround,a===t)break;l=c,c-=a.dir,-1!==a.dir&&(f?1===l&&0===c?u(a,1,n.parent):0===l&&-1===c&&u(a,-1,n.parent):0===c?f=a:1===c&&u(a,1,n))}return r.containerIsBasic(e,t.container)||(s=[t.p,f.p]),{out_:f,additionalBezier:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(178);t.getBeziersToNextContainer=function(e,t){let n=t.next,i=n._x_.curve,u=n._x_.x.ri.tS,s=t._x_.curve,l=t._x_.x.ri.tS;o.containerIsBasic(e,t.container)||(l=r.closestPointOnBezierPrecise(s.ps,t.p).t);let c,a=[];for(;;){if(s===i&&(l<u||l===u&&a.length))return c=r.fromTo(s.ps)(l,u),{beziers:a,in_:n,inBez:c};{let e=r.fromTo(s.ps)(l,1);a.push(e)}l=0,s=s.next}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(373);t.getTightestContainingLoop=function(e,t){let n=void 0,o=[e];for(;o.length;){i(o.pop())}return n;function i(i){if(i===e||r.isLoopInLoop(t.beziers,i.beziers)){n=i;for(let e of i.children)o.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(2),i=n(3),u=1e-6;function s(e){let t=e.map(e=>o.getBounds(e));return{minX:Math.min(...t.map(e=>e.box[0][0])),maxX:Math.max(...t.map(e=>e.box[1][0])),minY:Math.min(...t.map(e=>e.box[0][1])),maxY:Math.max(...t.map(e=>e.box[1][1]))}}t.isLoopInLoop=function(e,t){let n=0,l=1231;do{n++;let i=r.flatCoefficients(1,0,1,l),u=i.p[0];l=i.seed;let s=e.length,a=r.flatCoefficients(1,0,s,l),f=Math.floor(a.p[0]);l=a.seed;let d=e[f],p=c(e,t,o.evalDeCasteljau(d,u));if(void 0!==p)return p}while(n<100);return;function c(e,t,n){if(function(e,t){let n=[e,t].map(s);return n[0].minX<n[1].minX||n[0].maxX>n[1].maxX||n[0].minY<n[1].minY||n[0].maxY>n[1].maxY}(e,t))return!1;let l=function(e,t,n){let[s,l]=t,c=0;for(let a=0;a<e.length;a++){let f=e[a],[[d,p],[g,v]]=o.getBoundingBox(f),h=("left"===n||"right"===n)&&(p>l||v<l)||("up"===n||"down"===n)&&(d>s||g<s);if(h=h||"left"===n&&d>s||"right"===n&&g<s||"down"===n&&p>l||"up"===n&&v<l,h)continue;let _,x,m,b=[],P="left"===n||"up"===n;"left"===n||"right"===n?(_=o.getY,x=[0,-l],m=0):(_=o.getX,x=[-s,0],m=1);let M=o.translate(x,f),E=_(M),y=r.allRoots(E,0-u,1+u);for(let e=0;e<y.length;e++){let n=y[e];if(Math.abs(n)<u||Math.abs(n-1)<u)return;let r=o.evalDeCasteljau(M,n);(P&&t[m]>=r[m]||!P&&t[m]<=r[m])&&b.push(n)}if(1===b.length||3===b.length)for(let e of b){let t=i.toUnitVector(o.tangent(f,e));if(("left"===n||"right"===n)&&Math.abs(t[1])<u||("down"===n||"up"===n)&&Math.abs(t[0])<u)return}c+=b.length}return c}(t,n,"left");return void 0!==l?l%2!=0:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);function o(e){let t=Number.POSITIVE_INFINITY;for(let n of e){let e=r.getBounds(n).box[0][1];e<t&&(t=e)}return t}t.orderLoopAscendingByMinY=function(e,t){return o(e)-o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitLoopTrees=function(e){let t=[],n=[e];for(;n.length;){let e=n.pop();e.children=e.children||new Set;for(let r of e.children)0===e.windingNum&&t.push(r),n.push(r);0===e.windingNum&&(e.children=new Set)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoopsFromTree=function(e){let t=[e],n=Array.from(e.children);for(;n.length;){let e=n.pop();0===e.windingNum&&t.push(e);for(let t of e.children)n.push(t)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(378),o=n(379),i=n(380),u=n(381),s=n(382),l=n(386),c=n(390),a=n(180),f=n(391),d=n(392),p=n(393),g=n(396);function v(e){return e.box[0][0]}function h(e){return e.box[1][0]}t.getContainers=function(e,t,n){let _=l.getIntersections(e,n),x=f.getSelfIntersections(e),m=d.getInterfaceIntersections(e),{extremes:b,xs:P}=p.getExtremes(e),M=[..._,...x,...m,...P];if("undefined"!=typeof _debug_){for(let e of _)_debug_.generated.elems.intersection.push(...e);for(let e of x)_debug_.generated.elems.intersection.push(...e);for(let e of m)_debug_.generated.elems.intersection.push(...e);for(let e of P)_debug_.generated.elems.intersection.push(...e)}let E=M.map(e=>({xs:e,box:[[e[0].x.box[0][0]-t,e[0].x.box[0][1]-t],[e[0].x.box[1][0]+t,e[0].x.box[1][1]+t]],inOuts:void 0}));for(;;){let e=a.sweepLine(E,v,h,r.areContainersIntersecting);if(!e.length)break;let t=new Map;o.addEdges(t,e);let n=o.getConnectedComponents(t),s=i.getIsolatedComponents(E,n);E=[...u.mergeContainers(n),...s]}E=function(e){return e.filter(e=>{let t=e.xs;if(2===e.xs.length){let e=t[0];if(1===e.x.kind&&e.x.ri.multiplicity%2==0)return!1}for(let t of e.xs)if(4!==t.x.kind)return!0;return!1})}(E),E=g.sendContainersToGrid(E,n,t),"undefined"!=typeof _debug_&&(_debug_.generated.elems.container=E);let y=0;for(let e of E){for(let t of e.xs)t.container=e;let t;({inOuts:t,ioIdx:y}=s.getContainerInOuts(e,y)),e.inOuts=t}M=M.filter(e=>e[0].container),c.setIntersectionNextValues(M);for(let e of E)for(let t of e.inOuts){if(-1===t.dir)continue;let e=t._x_;for(;e=e.next,!e.in_;);t.next=e.in_,t.idx=t.next.idx}for(let e of E){let t=e.inOuts,n=t[t.length-1];for(let e=0;e<t.length;e++){let r=t[e];r.prevAround=n,n.nextAround=r,n=r}}return{extremes:b,containers:E}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(86);t.areContainersIntersecting=function(e,t){return r.areBoxesIntersecting(!0)(e.box,t.box)}},function(e,t,n){"use strict";function r(e,t){let[n,r]=t,o=e.get(n);o||(o=[],e.set(n,o));let i=e.get(r);i||(i=[],e.set(r,i)),o.push(r),i.push(n)}function o(e,t,n,r){n.add(t),r.push(t);let i=e.get(t);for(let t=0;t<i.length;t++){let u=i[t];n.has(u)||o(e,u,n,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.addEdges=function(e,t){for(let n=0;n<t.length;n++){let o=t[n];r(e,[o.a,o.b])}},t.addEdge=r,t.getConnectedComponents=function(e){let t=[],n=new Set;for(let r of e){let i=r[0];n.has(i)||(t.push([]),o(e,i,n,t[t.length-1]))}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsolatedComponents=function(e,t){let n=new Set;for(let e of t)for(let t of e)n.add(t);let r=[];for(let t=0;t<e.length;t++){let o=e[t];n.has(o)||r.push(o)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeContainers=function(e){let t=[];for(let n of e){let e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,u=[];for(let t of n){let[[n,s],[l,c]]=t.box;n<e&&(e=n),s<r&&(r=s),l>o&&(o=l),c>i&&(i=c),u.push(...t.xs)}let s={box:[[e,r],[o,i]],xs:u,inOuts:void 0};t.push(s)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(179),o=n(385);t.getContainerInOuts=function(e,t){let n=e.xs;return 2===n.length&&1===n[0].x.kind&&1===n[1].x.kind&&n[0].x.ri.multiplicity%2==1&&n[1].x.ri.multiplicity%2==1?o.getInOutsViaCrossing(e,t):r.getInOutsViaSides(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),i=n(86),u=n(0);function s(e){return[(e.x.box[0][0]+e.x.box[1][0])/2,(e.x.box[0][1]+e.x.box[1][1])/2]}function l(e,t){let n=r.getIntersectionCoeffs(e,t);if(void 0===n)return;let{coeffs:i,errBound:u,getPsExact:s}=n,l=o.allRootsMultiWithErrBounds(i,u,s);return 0!==l.length?{ris:l.map(o.rootIntervalToExp),getPsExact:s}:void 0}function c(e){return{tS:u.estimate(e.tS),tE:u.estimate(e.tE),multiplicity:e.multiplicity}}function a(e,t){let n=l(e,t);if(void 0===n)return[];let{ris:u,getPsExact:s}=n,a=l(t,e);if(void 0===a)return[];let d,{ris:p,getPsExact:g}=a;d=1;let v,h=0;e:for(;h<d;){v=p.map(t=>r.getIntervalBoxQuad(e,[t.tS,t.tE]));for(let e=0;e<p.length;e++){let t=v[e];for(let n=e+1;n<p.length;n++){let e=v[n];if(i.areBoxesIntersectingQuad(!0)(t,e)){let e=[];for(let t of p)e.push(...o.refineK1(t.tS[1],g));p=e,h++;continue e}}}break e}d=1;let _,x=0;e:for(;x<d;){_=u.map(e=>r.getIntervalBoxQuad(t,[e.tS,e.tE]));for(let e=0;e<u.length;e++){let t=_[e];for(let n=e+1;n<u.length;n++){let e=_[n];if(i.areBoxesIntersectingQuad(!0)(t,e)){let e=[];for(let t of u)e.push(...o.refineK1(t.tS[1],s));u=e,x++;continue e}}}break e}let m=[];for(let e=0;e<p.length;e++){let t=v[e];for(let n=0;n<u.length;n++){let r=_[n];if(i.areBoxesIntersectingQuad(!0)(t,r)){let o={compensated:h,ri:c(p[e]),riExp:h?p[e]:void 0,getPsExact:h?void 0:g,kind:1,box:f(t)},i={compensated:x,ri:c(u[n]),riExp:x?u[n]:void 0,getPsExact:x?void 0:s,kind:1,box:f(r)};m.push({psX:o,sideX:i})}}}return m}function f(e){return e.map(e=>e.map(e=>u.estimate(e)))}t.getXInOuts=function(e){let[[t,n],[r,o]]=e.box,i=[[[r,n],[t,n]],[[t,n],[t,o]],[[t,o],[r,o]],[[r,o],[r,n]]];return(t,n,r)=>{let o=t.ps,u=n.slice();for(let e=0;e<i.length;e++){let t=a(o,i[e]);for(let{psX:n,sideX:r}of t)u.push({x:n,side:e,sideX:r,curve:void 0})}u.sort((e,t)=>e.x.ri.tS-t.x.ri.tS);let l,c=[],f=[],d=void 0;for(let t of u)void 0!==t.side?(!0===d&&f.push({inOut:{dir:1,p:s(t),_x_:l,container:e,idx:++r},side:t.side,sideX:t.sideX}),d=!1):(!1===d&&(c.push({inOut:{dir:-1,p:s(l),_x_:t,container:e,idx:++r},side:l.side,sideX:l.sideX}),t.in_=c[c.length-1].inOut),d=!0),l=t;return{ins:c,outs:f,ioIdx:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(0),i=Math.abs;t.compareOrderedInOut=function(e,t){let n=e.side-t.side;if(0!==n)return n;let u=e.sideX,s=t.sideX;n=u.ri.tS-s.ri.tS;let l=8*Number.EPSILON;return i(n)>=l?n:(u.compensated||(u.compensated=1,u.riExp=r.refineK1(u.ri.tS,u.getPsExact)[0]),s.compensated||(s.compensated=1,s.riExp=r.refineK1(s.ri.tS,s.getPsExact)[0]),n=o.compare(u.riExp.tS,s.riExp.tS),0!==n?n:(n=t.inOut.dir-e.inOut.dir,0!==n?n:1===e.inOut.dir?e.inOut.idx-t.inOut.idx:t.inOut.idx-e.inOut.idx))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(179),i=n(0);t.getInOutsViaCrossing=function(e,t){let n,u,s,l=e.xs,c=[],a=l[0],f=l[1],d=a.curve.ps,p=f.curve.ps,g=r.evalDeCasteljau(d,a.x.ri.tS),v=a.x.ri.tS,h=a.x.ri.tE,_=f.x.ri.tS,x=f.x.ri.tE;if(4===d.length||3===d.length){let e=r.getHodograph(d);n=r.getIntervalBox(e,[v,h])}else 2===d.length&&(n=r.getHodograph(d));if(4===p.length||3===p.length){let e=r.getHodograph(p);u=r.getIntervalBox(e,[_,x])}else 2===p.length&&(u=r.getHodograph(p));for(let r=0;r<n.length;r++)for(let l=0;l<u.length;l++){let c=Math.sign(i.orient2d(n[r],u[l],[0,0]));if(0===c)return o.getInOutsViaSides(e,t);if(void 0!==s){if(s!==c)return o.getInOutsViaSides(e,t)}else s=c}return s>0?(c.push({dir:-1,p:g,_x_:a,container:e}),c.push({dir:1,p:g,_x_:f,container:e}),c.push({dir:1,p:g,_x_:a,container:e}),c.push({dir:-1,p:g,_x_:f,container:e}),a.in_=c[0],f.in_=c[3]):(c.push({dir:-1,p:g,_x_:a,container:e}),c.push({dir:-1,p:g,_x_:f,container:e}),c.push({dir:1,p:g,_x_:a,container:e}),c.push({dir:1,p:g,_x_:f,container:e}),a.in_=c[0],f.in_=c[1]),{inOuts:c,ioIdx:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(180),i=n(387);t.getIntersections=function(e,t){let n=[];for(let t of e)for(let e of t.curves)n.push(e);let u=o.sweepLine(n,e=>r.getBoundingBox(e.ps)[0][0],e=>r.getBoundingBox(e.ps)[1][0],i.getCurvesIntersections(t)),s=[];for(let e of u)for(let t of e.u)s.push(t);return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3),i=n(2),u=n(2),s=n(86),l=n(388),c=n(389),a=n(6),f=n(87);let d=s.areBoxesIntersecting(!1),p=s.areBoxesIntersecting(!0);function g(e,t){if(t.next===e){if(e.next===t)return;[e,t]=[t,e]}let n=e.ps,r=t.ps;if(o=n,i=r[r.length-1],u.isPointOnBezierExtension(o,i)){let o=u.getOtherTs(n,r,[a.createRootExact(1)])[0];if(!o)return;return[[{x:o[0],curve:e},f.makeSimpleX(1,t,1)]]}var o,i}t.getCurvesIntersections=function(e){return(t,n)=>{let u=t.ps,s=n.ps;if(2===u.length&&2===s.length)return function(e,t,n){let u=e.ps,s=t.ps,l=i.getBoundingBox(u),a=i.getBoundingBox(s);if(e.next!==t&&t.next!==e){if(p(l,a)){let r=c.getIntersection(e,t,n,!1);return r.length?r:void 0}return}t.next===e&&([e,t]=[t,e],[u,s]=[s,u]);if(0!==r.orient2d(u[0],u[1],s[1]))return;if(!d(l,a))return;let g,v=o.squaredDistanceBetween(u[0],u[1]),h=o.squaredDistanceBetween(s[0],s[1]);g=v>h?[i.inversion1_BL52_1ULP(u,s[1]),1]:[0,i.inversion1_BL52_1ULP(s,u[0])];return[[f.makeSimpleX(1,e,5),f.makeSimpleX(0,t,5)],[f.makeSimpleX(g[0],e,5),f.makeSimpleX(g[1],t,5)]]}(t,n,e);if(t.next===n||n.next===t){if(!d(i.getBoundingBox(u),i.getBoundingBox(s)))return g(t,n);let r=i.getBoundingHull(u),o=i.getBoundingHull(s);return l.doConvexPolygonsIntersect(r,o,!1)?n.next===t?c.getIntersection(n,t,e,!0):c.getIntersection(t,n,e,!0):g(t,n)}let a=p(i.getBoundingBox(u),i.getBoundingBox(s));if(!a)return;let v=i.getBoundingHull(u),h=i.getBoundingHull(s);return a=l.doConvexPolygonsIntersect(v,h,!0),a?c.getIntersection(t,n,e,!1):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doConvexPolygonsIntersect=function(e,t,n){for(let r of[e,t]){let o=r.length;for(let i=1;i<o+1;i++){let u=r[i-1],s=r[i%o],l=[s[1]-u[1],u[0]-s[0]],c=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let t=0;t<e.length;t++){let n=l[0]*e[t][0]+l[1]*e[t][1];n<c&&(c=n),n>a&&(a=n)}let f=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++){let n=l[0]*t[e][0]+l[1]*t[e][1];n<f&&(f=n),n>d&&(d=n)}if(n&&(a<f||d<c))return!1;if(!n&&(a<=f||d<=c))return!1}}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.getIntersection=function(e,t,n,o){let i=e.ps,u=t.ps,s=[],l=r.bezierBezierIntersectionImplicit(i,u);if(void 0===l){let o=Math.pow(2,n-48),l=r.getEndpointIntersections(i,u,o);for(let n of l){let u=r.evalDeCasteljau(i,n[0].tS),l=[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]],c={x:{ri:n[0],kind:5,box:l},curve:e},a={x:{ri:n[1],kind:5,box:l},curve:t};s.push([c,a])}}else{o&&(l=l.filter(e=>e.tS>0));let n=r.getOtherTs(i,u,l);for(let r of n){let n={x:r[0],curve:e},o={x:r[1],curve:t};s.push([n,o])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIntersectionNextValues=function(e){let t=new Map;for(let n of e)for(let e of n){let n=e.curve.loop,r=t.get(n)||[];r.length||t.set(n,r),r.push(e)}for(let e of t){let t=e[1];if(t&&t.length){t.sort((e,t)=>{let n=e.curve.idx-t.curve.idx;return 0!==n?n:(n=e.x.ri.tS-t.x.ri.tS,0!==n?n:e.in_?-1:1)});for(let e=1;e<t.length;e++)t[e-1].next=t[e];t[t.length-1].next=t[0]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=Number.EPSILON;t.getSelfIntersections=function(e){let t=[];for(let n of e)for(let e of n.curves){let n=e.ps,i=r.bezierSelfIntersection(n);if(void 0===i)continue;let u=i[0]===i[1]?3:2,s=i[0]-o,l=i[0]+o,c=i[1]-o,a=i[1]+o,f=r.getIntervalBox(n,[s,l]),d=r.getIntervalBox(n,[c,a]);t.push([{x:{ri:{tS:s,tE:l,multiplicity:1},box:f,kind:u},curve:e},{x:{ri:{tS:c,tE:a,multiplicity:1},box:d,kind:u},curve:e}])}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87);t.getInterfaceIntersections=function(e){let t=[];for(let n of e)for(let e of n.curves)t.push([r.makeSimpleX(1,e,4),r.makeSimpleX(0,e.next,4)]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(394);t.getExtremes=function(e){let t=new Map,n=[];for(let o of e){let e=r.getExtreme(o);n.push(e),t.set(o,e)}return{extremes:t,xs:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(395),o=n(87);t.getExtreme=function(e){let{curve:t,y:n}=r.getMinY(e),i=n.ts;return i[0]<=0?[o.makeSimpleX(0,t,0),o.makeSimpleX(1,t.prev,0)]:i[1]>=1?[o.makeSimpleX(1,t,0),o.makeSimpleX(0,t.next,0)]:[{x:{ri:{tS:i[0],tE:i[1],multiplicity:1},kind:0,box:n.box},curve:t},{x:{ri:{tS:i[0],tE:i[1],multiplicity:1},kind:0,box:n.box},curve:t}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);let o=n(14).memoize((function(e){let t=e.curves,n=r.getYBoundsTight(t[0].ps).minY,o=t[0];for(let i=1;i<t.length;i++){let t=e.curves[i].ps,u=r.getYBoundsTight(t).minY,s=u.box[0][1],l=n.box[0][1];(s<l||s===l&&u.ts[0]>n.ts[0])&&(n=u,o=e.curves[i])}return{curve:o,y:n}}));t.getMinY=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88);t.sendContainersToGrid=function(e,t,n){let o=Math.log2(n)-3;return e.map(e=>{let n=e.box;return n=n.map(e=>e.map(e=>r.toGrid(e,t,t-o))),Object.assign(Object.assign({},e),{box:n})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutermostInAndOut=function(e){let t=e.inOuts,n=t[0],r=t[t.length-1];return 1===n.dir?(n.orientation=-1,n):(r.orientation=1,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(181);t.reverseOrientation=function(e){let t=[],n=e.curves;for(let e=n.length-1;e>=0;e--){let o=r.reverse(n[e].ps);t.push(o)}return o.loopFromBeziers(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(400),i=n(88);t.normalizeLoops=function(e,t,n,u=!1,s=!0){let l=o.fixBeziers(n,t,s),c=e.slice();return c=u?function(e,t,n,o=.02){let u=[];for(let s of e){let e=[];for(let u of s){let s=u.map(e=>e.map(e=>{let u,s=0,l=0,c=0;for(;!(++l>10);){s=(e+Math.random())*(1+(Math.random()-.7)*o),s=i.toGrid(s,n,t);let l=r.bitLength(s);l>c&&(c=l,u=s)}return u}));e.push(s)}u.push(e)}return u}(c,t,n,1):c,c=c.map(l),c=c.filter(e=>e.length>0),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88),o=n(2),i=n(401);function u(e){return e}t.fixBeziers=function(e,t,n=!0){let s=Math.pow(2,e)*Math.pow(2,-t),l=n?function(e,t){return n=>[r.toGrid(n[0],e,t),r.toGrid(n[1],e,t)]}(e,t):u;return e=>{let t=[];for(let n=0;n<e.length;n++){let r=e[n].slice(),u=t[t.length-1],c=u?u[u.length-1]:l(e[0][0]);r[0]=c,r=r.map(e=>l(e)),o.isSelfOverlapping(r)&&(r=[r[0],r[r.length-1]]),r=i.fixBezierByPointSpacing(r,s,l),r&&t.push(r)}let n=t.length;if(!n)return[];let r=t[n-1];return r[r.length-1]=t[0][0],t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(402),i=n(3);function u(e){return r.isLine(e)?[e[0],e[3]]:r.isCubicReallyQuad(e)?r.toQuadraticFromCubic(e):e}function s(e,t){return e[0]===t[0]&&e[1]===t[1]}t.fixBezierByPointSpacing=function(e,t,n){if(0!==r.lengthSquaredUpperBound(e)){if(2===e.length)return e;if(3===e.length)return o.areAllPointsDifferent(e)?r.isLine(e)?[e[0],e[2]]:e:s(e[0],e[2])?[e[0],e[1]]:[e[0],e[2]];if(o.areAllPointsDifferent(e))return u(e);if(s(e[0],e[3]))return s(e[1],e[2])?[e[0],e[2]]:e;if(s(e[0],e[1])&&s(e[1],e[2])||s(e[1],e[2])&&s(e[2],e[3])||s(e[0],e[1])&&s(e[2],e[3]))return e[0][0]-e[3][0]>4*t||e[0][1]-e[3][1]>4*t?[e[0],e[e.length-1]]:void 0;if(s(e[0],e[2])||s(e[1],e[3])||s(e[1],e[2]))return e;if(s(e[0],e[1])){if(i.squaredDistanceBetween(e[1],e[2])<4*t)return[e[0],e[2],e[2],e[3]];{let r=i.toLength(i.fromTo(e[1],e[2]),2*t),o=i.translate(e[1],r);return u([e[0],n(o),e[2],e[3]])}}if(s(e[2],e[3])){if(i.squaredDistanceBetween(e[2],e[1])<4*t)return[e[0],e[1],e[1],e[3]];{let r=i.toLength(i.fromTo(e[2],e[1]),2*t),o=i.translate(e[2],r);return u([e[0],e[1],n(o),e[3]])}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllPointsDifferent=function(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++)if(e[t][0]===e[n][0]&&e[t][1]===e[n][1])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(14).memoize(e=>{let t=0;for(let n of e)for(let e of n)for(let n of e)for(let e of n){let n=Math.abs(e);n>t&&(t=n)}return t});t.getMaxCoordinate=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(183);t.loopsToSvgPathStr=function(e){let t="";for(let n of e)t=t+r.beziersToSvgPathStr(n)+"\n";return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(406);t.enableDebugForBooleanOp=function(e){var t,n,o;if(!e)return void(window._debug_=void 0);let i=window._debug_;i=Object.assign(Object.assign({},i),{generated:Object.assign(Object.assign({},null==i?void 0:i.generated),{elems:Object.assign(Object.assign({},null===(t=null==i?void 0:i.generated)||void 0===t?void 0:t.elems),{minY:[],loop:[],loops:[],intersection:[],container:[],bezier_:[],looseBoundingBox_:[],tightBoundingBox_:[],boundingHull_:[]}),timing:Object.assign(Object.assign({},null===(n=null==i?void 0:i.generated)||void 0===n?void 0:n.timing),{normalize:0,simplifyPaths:0})}),fs:Object.assign(Object.assign({},null==i?void 0:i.fs),{drawElem:Object.assign(Object.assign({},null===(o=null==i?void 0:i.fs)||void 0===o?void 0:o.drawElem),r.drawElemFunctions)})}),window._debug_=i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(407),o=n(408),i=n(409),u=n(410),s=n(412),l=n(413),c=n(414),a=n(415),f=n(4);let d={minY:r.drawMinY,loop:o.drawLoop,loops:i.drawLoops,intersection:u.drawIntersection,container:s.drawContainer,bezier_:f.drawFs.bezier,looseBoundingBox_:l.drawLooseBoundingBox,tightBoundingBox_:c.drawTightBoundingBox,boundingHull_:a.drawBoundingHull};t.drawElemFunctions=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4);t.drawMinY=function(e,t){let n=r.evalDeCasteljau(t.curve.ps,t.t),i=r.toCubic(t.curve.ps);return console.log("x: ",r.getX(i)),console.log("y: ",r.getY(i)),console.log("t: ",t.t),o.drawFs.crossHair(e,n,"red thin10 nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawLoop=function(e,t){return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawLoops=function(e,t){return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(411);t.drawIntersection=function(e,t){return[r.drawCirclePercent(e,t.x.box[0],.7,"purple thin5 nofill")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawCirclePercent=function(e,t,n,r){let o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",t[0].toString()),o.setAttributeNS(null,"cy",t[1].toString()),o.setAttributeNS(null,"r",n.toString()+"%"),o.setAttributeNS(null,"class",r),e.appendChild(o),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.drawContainer=function(e,t,n,o=0){let i=t.box,u=t.xs,s=[];for(let t=0;t<u.length;t++){let n=u[t];s.push(...r.drawFs.circle(e,{center:n.x.box[0],radius:.025},"thin2 red nofill",o))}let l=t.inOuts;for(let t=0;t<l.length;t++){let n=l[t],i=(n.p.slice(),-1===n.dir?"red":"blue"),u=.025*(n.dir,.5);s.push(...r.drawFs.dot(e,n.p,u,"thin2 "+i,o))}return[...r.drawFs.rect(e,i,"thin2 blue nofill",o),...s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.drawLooseBoundingBox=function(e,t,n="thin5 brown nofill",o=0){let[[i,u],[s,l]]=t;return t=[[i,u],[s,u],[s,l],[i,l]],r.drawFs.polygon(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.drawTightBoundingBox=function(e,t,n="thin5 pinker nofill",o=0){return r.drawFs.polygon(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.drawBoundingHull=function(e,t,n="thin5 black nofill",o=0){return r.drawFs.polygon(e,t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(417),o=n(429);t.getPathsFromStr=function(e){return r.getBeziersFromRawPaths(o.parsePathDataString(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(418),o=n(419),i=n(420),u=n(421),s=n(422),l=n(423),c=n(424),a=n(425),f=n(426),d=n(427),p={c:i.c,h:l.h,l:s.l,q:a.q,s:u.s,t:f.t,v:c.v,z:o.z};t.getBeziersFromRawPaths=function(e){if(0===e.length)return[];if("m"!==e[0].type.toLowerCase())throw new Error("Invalid SVG - every new path must start with an M or m.");let t,n=new r.PathState,i=[],u=[];for(let r=0;r<e.length;r++){let s=e[r],l=s.type.toLowerCase();if(n.vals=s.values,s.type===l)if("v"===l)n.vals[0]+=n.p[1];else if("a"===l)n.vals[5]+=n.p[0],n.vals[6]+=n.p[1];else for(let e=0;e<n.vals.length;e++)n.vals[e]+=n.p[e%2];if("m"!==l){if("a"===l)u.push(...d.a(n));else{let e=p[l];if(!e)throw new Error("Invalid SVG - command not recognized.");let t=e(n);n.p=t[t.length-1],u.push(t)}t=l}else u.length&&("z"!==t&&u.push(o.z(n)),i.push(u),u=[]),n.initialPoint=n.p=n.vals,t=l}return u.length&&("z"!==t&&u.push(o.z(n)),i.push(u)),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PathState=class{constructor(){this.initialPoint=void 0,this.prev2ndCubicControlPoint=void 0,this.prev2ndQuadraticControlPoint=void 0,this.p=[0,0]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.z=function(e){let t=[e.p,e.initialPoint];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c=function(e){let t=[e.p,[e.vals[0],e.vals[1]],[e.vals[2],e.vals[3]],[e.vals[4],e.vals[5]]];return e.prev2ndCubicControlPoint=t[2],e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s=function(e){let t=[void 0,void 0];e.prev2ndCubicControlPoint?(t[0]=e.p[0]-e.prev2ndCubicControlPoint[0]+e.p[0],t[1]=e.p[1]-e.prev2ndCubicControlPoint[1]+e.p[1]):t=e.p;let n=[e.p,t,[e.vals[0],e.vals[1]],[e.vals[2],e.vals[3]]];return e.prev2ndCubicControlPoint=n[2],e.prev2ndQuadraticControlPoint=void 0,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.l=function(e){let t=[e.p,e.vals];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h=function(e){let t=[e.p,[e.vals[0],e.p[1]]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v=function(e){let t=[e.p,[e.p[0],e.vals[0]]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.q=function(e){let t=[e.vals[0],e.vals[1]],n=[e.vals[2],e.vals[3]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=t,[e.p,t,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t=function(e){let t=[void 0,void 0];e.prev2ndQuadraticControlPoint?(t[0]=e.p[0]-e.prev2ndQuadraticControlPoint[0]+e.p[0],t[1]=e.p[1]-e.prev2ndQuadraticControlPoint[1]+e.p[1]):t=e.p;let n=t,r=[e.vals[0],e.vals[1]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=n,[e.p,n,r]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(428);t.a=function(e){e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0;let t=r.arcToCubicCurves(e.p,e.vals[0],e.vals[1],e.vals[2],e.vals[3],e.vals[4],[e.vals[5],e.vals[6]]),n=t[t.length-1];return e.p=n[n.length-1],t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arcToCubicCurves=function(e,t,n,r,o,i,u){return[[e,u]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(430);t.parsePathDataString=function(e){if(!e.length)return[];let t=new r.Source(e),n=[];if(!t.initialCommandIsMoveTo())return[];for(;t.hasMoreData();){let e=t.parseSegment();if(null===e)break;n.push(e)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(431),o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"};t.Source=class{constructor(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}parseSegment(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||e>="0"&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=t;var n=null,i=t.toUpperCase();return"H"===i||"V"===i?n=[r.parseNumber(this)]:"M"===i||"L"===i||"T"===i?n=[r.parseNumber(this),r.parseNumber(this)]:"S"===i||"Q"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this)]:"C"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this)]:"A"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),this._parseArcFlag(),this._parseArcFlag(),r.parseNumber(this),r.parseNumber(this)]:"Z"===i&&(this._skipOptionalSpaces(),n=[]),null===n||n.indexOf(null)>=0?null:{type:t,values:n}}hasMoreData(){return this._currentIndex<this._endIndex}peekSegmentType(){var e=this._string[this._currentIndex];return o[e]?o[e]:null}initialCommandIsMoveTo(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e}_isCurrentSpace(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)}_skipOptionalSpaces(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}_skipOptionalSpacesOrDelimiter(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}_parseArcFlag(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumber=function(e){var t=0,n=0,r=1,o=0,i=1,u=1,s=e._currentIndex;if(e._skipOptionalSpaces(),e._currentIndex<e._endIndex&&"+"===e._string[e._currentIndex]?e._currentIndex+=1:e._currentIndex<e._endIndex&&"-"===e._string[e._currentIndex]&&(e._currentIndex+=1,i=-1),e._currentIndex===e._endIndex||(e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")&&"."!==e._string[e._currentIndex])return null;for(var l=e._currentIndex;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)e._currentIndex+=1;if(e._currentIndex!==l)for(var c=e._currentIndex-1,a=1;c>=l;)n+=a*(Number(e._string[c])-0),c-=1,a*=10;if(e._currentIndex<e._endIndex&&"."===e._string[e._currentIndex]){if(e._currentIndex+=1,e._currentIndex>=e._endIndex||e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")return null;for(;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)r*=10,o+=Number(e._string.charAt(e._currentIndex))/r,e._currentIndex+=1}if(e._currentIndex!==s&&e._currentIndex+1<e._endIndex&&("e"===e._string[e._currentIndex]||"E"===e._string[e._currentIndex])&&"x"!==e._string[e._currentIndex+1]&&"m"!==e._string[e._currentIndex+1]){if(e._currentIndex+=1,"+"===e._string[e._currentIndex]?e._currentIndex+=1:"-"===e._string[e._currentIndex]&&(e._currentIndex+=1,u=-1),e._currentIndex>=e._endIndex||e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")return null;for(;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)t*=10,t+=Number(e._string[e._currentIndex]),e._currentIndex+=1}var f=n+o;return f*=i,t&&(f*=Math.pow(10,u*t)),s===e._currentIndex?null:(e._skipOptionalSpacesOrDelimiter(),f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(433),i=n(442);function u(e,t,n){function r(t,n){let r=e.get(t);r||(r=new Set,e.set(t,r)),r.add(n)}void 0!==t&&(r(t,n),r(n,t))}function s(e,t,n){let r;r=e.get(t);let o=r&&r.has(n);r=e.get(n);let i=r&&r.has(t);return o||i}function l(e){let t=e;if(t===t.next.prevOnCircle)return[t];let n=[];do{n.push(t);let e=t.next.prevOnCircle;t=t=t===e?t.next.next:e}while(t!==e);return n}t.findAndAddAll3Prongs=function(e,t,n){let o=new Map,i=[{fromCpNode:void 0,cpStart:t}];for(;i.length;){let{fromCpNode:t,cpStart:l}=i.shift();u(o,t,l);for(let t of l.getCpNodesOnCircle()){if(!r.isPosSharpCorner(t.cp.pointOnShape)&&void 0===a(e,t,n))return;s(o,t,t.next)||i.push({fromCpNode:l,cpStart:t.next})}}};let c=0;function a(e,t,n){let r;do{if(r=l(t),r.length>2&&(f(e,r,n),c++),"undefined"!=typeof _debug_&&c===_debug_.directives.stopAfterThreeProngsNum)return}while(r.length>2);return r}function f(e,t,n){let u=[];for(let e of t)u.push([e,e.next]);let s=o.find3Prong(u,n),l=[];for(let e=0;e<3;e++)l.push(r.calcPosOrder(s.circle,s.ps[e]));let c=i.add3Prong(e,l,s);"undefined"!=typeof _debug_&&function(e,t){let n=_debug_.generated.elems.threeProng,r=n.length,o=n[r-1];o.visitedCps=t,o.circle=e}(c,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(434),i=n(435),u=n(90);t.find3Prong=function(e,t){let n=e.map(u.getBoundaryPieceBeziers);if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng;e.push(o.createEmptyThreeProngForDebugging());let t=e[e.length-1];t.boundaries=[];for(let e of n){let n=[];t.boundaries.push(n);for(let t of e){let e=r.fromTo(t.curve.ps)(t.ts[0],t.ts[1]);n.push(e)}}t.traces=[]}let s,l=[],c=void 0,a=Number.POSITIVE_INFINITY;for(let r=1;r<e.length-1;r++)for(let o=0;o<3;o++){if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=[];e[e.length-1].traces.push(t)}let u=i.find3ProngForDelta3s(e,r,o,n,t);if(!u)continue;let{circle:f,ps:d,error:p,"δ3s":g}=u;"undefined"!=typeof _debug_&&l.push({circle:f,ps:d}),p<a&&(a=p,c=r-1,s={circle:f,ps:d,"δ3s":g})}if("undefined"!=typeof _debug_){let t=_debug_.generated.elems.threeProng,n=t[t.length-1];n.generated=_debug_.generated,n.circle=s.circle,n.poss=s.ps,n.cp3ss=s.δ3s,n.cpss=e,n.bestIndx=c,n.candidateThreeProngs=l}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(5);t.createEmptyThreeProngForDebugging=function(){return{generated:void 0,circle:void 0,poss:void 0,cp3ss:void 0,cpss:void 0,bestIndx:void 0,candidateThreeProngs:void 0,visitedCps:void 0,boundaries:void 0,traces:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),i=n(5),u=n(39),s=n(440),l=n(186),c=n(441),a=n(58),f=r.fromTo;t.find3ProngForDelta3s=function(e,t,n,d,p){const g=1e-10*p;let v,h,_=[e[0],e[t],e[e.length-1]],x=[d[0],d[t],d[e.length-1]],m=[[_[0],_[1],_[2]],[_[1],_[2],_[0]],[_[2],_[0],_[1]]][n],b=[[x[0],x[1],x[2]],[x[1],x[2],x[0]],[x[2],x[0],x[1]]][n];if(m[0][0].isSharp())return;let P=0,M=s.calcInitial3ProngCenter(m,b);if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=e[e.length-1];t.traces[t.traces.length-1].push(M)}let E=Number.POSITIVE_INFINITY;for(;E>g&&P<10;){if(P++,v=l.getClosestPoints(M,b),!Number.isFinite(M[0])||!Number.isFinite(M[1]))return;h=r.circumCenter(v.map(e=>e.p));let e=f(M,h);if(!Number.isFinite(e[0])||!Number.isFinite(e[1]))return;let t=c.calcBetterX(b,M,e);if(M=t.newX,v=t.newPs,"undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=e[e.length-1];t.traces[t.traces.length-1].push(M)}let n=r.len(e);E=Math.abs(n-t.newV)}let y=(r.distanceBetween(M,v[0].p)+r.distanceBetween(M,v[1].p)+r.distanceBetween(M,v[2].p))/3,w={center:M,radius:y},O=0;for(let e=0;e<3;e++){let t=v[e],n=r.toUnitVector(r.fromTo(t.p,M)),u=r.rotate90Degrees(n);if(i.isPosDullCorner(t)){let e=a.getCornerAtEnd(t.curve).tangents.map(r.rotate90Degrees),o=Math.asin(r.cross(e[0],n)),i=Math.asin(r.cross(n,e[1])),u=0;o>0&&(u+=o),i>0&&(u+=i),O+=u}else{let e=r.toUnitVector(o.tangent(t.curve.ps,t.t));O+=Math.abs(Math.asin(r.cross(u,e)))}}let C=[];for(let e=0;e<d.length;e++){let t=u.getClosestBoundaryPoint(d[e],M,void 0,void 0);C.push(r.distanceBetween(t.pos.p,M))}let I=Math.min(...C);return{ps:v,circle:w,error:1*Math.abs(y-I)+1*O,"δ3s":m}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(3);t.getBestDistanceSquared=function(e,t){let n=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){let u=e[i],s=u.curve.ps,l=r.evalDeCasteljau(s,u.ts[0]),c=r.evalDeCasteljau(s,u.ts[1]),a=Math.min(o.squaredDistanceBetween(t,l),o.squaredDistanceBetween(t,c));a<n&&(n=a)}return 1.01*n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(89);t.cullByLooseBoundingBox=function(e,t,n){let i=[];for(let u=0;u<e.length;u++){let s=e[u],l=s.curve.ps,c=r.getBoundingBox(l);o.getClosestSquareDistanceToRect(c,t)<=n&&i.push(s)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(439);t.cullByTightBoundingBox=function(e,t,n){let i=[];for(let u=0;u<e.length;u++){let s=e[u],l=s.curve.ps,c=r.getBoundingBoxTight(l);o.getClosestSquaredDistanceToRotatedRect(c,t)<=n&&i.push(s)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.getClosestSquaredDistanceToRotatedRect=function(e,t){let n=[0,1,2,3].map(n=>r.squaredDistanceBetweenPointAndLineSegment(t,[e[n],e[(n+1)%4]])),o=r.squaredDistanceBetween(e[0],e[1]),i=r.squaredDistanceBetween(e[0],e[3]);return n[0]<=i&&n[2]<=i&&n[1]<=o&&n[3]<=o?0:Math.min(...n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(39);t.calcInitial3ProngCenter=function(e,t){let n=e[0][0].cp.circle.center,i=o.getClosestBoundaryPoint(t[1],n,void 0,void 0),u=[e[0][0].cp.pointOnShape.p,i.pos.p,e[2][1].cp.pointOnShape.p];return r.circumCenter(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(186);t.calcBetterX=function(e,t,n){let i,u,s,l,c=r.len(n),a=1,f=0;do{let d=r.scale(n,a);u=r.translate(d,t),s=o.getClosestPoints(u,e);let p=r.circumCenter(s.map(e=>e.p)),g=r.fromTo(u,p);l=r.len(g),i=l<c,a/=2,f++}while(!i&&f<3);return{newX:u,newV:l,newPs:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(187),o=n(91);t.add3Prong=function(e,t,n){let{circle:i,ps:u,"δ3s":s}=n;return o.isAnotherCpCloseby(e,u[0],i,t[0],0,1e3,"blue"),o.isAnotherCpCloseby(e,u[1],i,t[1],0,1e3,"blue"),o.isAnotherCpCloseby(e,u[2],i,t[2],0,1e3,"blue"),r.addToCpGraph(i,t,e,u,s),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(188),o=n(13);t.createInitialCpGraph=function(e,t,n){let i;for(let u=0;u<n.length;u++){let s=n[u],l=new r.default(o.CpNode.comparator,[],!0),c=void 0,a=void 0;for(let e of s){e.curve.next.ps;let t={center:e.p,radius:0},n={pointOnShape:e,circle:t,order:-1,order2:0},r={pointOnShape:e,circle:t,order:1,order2:0};c=o.CpNode.insert(!1,!1,l,n,a),a=o.CpNode.insert(!1,!1,l,r,c),c.prevOnCircle=a,a.prevOnCircle=c,c.nextOnCircle=a,a.nextOnCircle=c}i||(i=c);let f=e[u];t.set(f,l)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(189);t.default=class{constructor(e,t){this.data=t?[e]:e,this.color=r.default.RED}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(58);if("undefined"!=typeof _debug_)var i;t.addDebugInfo1=function(e){if("undefined"==typeof _debug_)return;i=performance.now();for(let t of e)_debug_.fs.nameObj(t,"l|");let t=_debug_.generated;for(let n of e){let e=0;n.curves.forEach((function(n){let i=n.ps,u=r.getBoundingHull(i);t.elems.boundingHull.push(u);let s=r.getBoundingBox(i);t.elems.looseBoundingBox.push(s);let l=r.getBoundingBoxTight(i);t.elems.tightBoundingBox.push(l);let c=o.getCornerAtEnd(n);c.isSharp?t.elems.sharpCorner.push(n):c.isDull&&t.elems.dullCorner.push(n),e++}))}},t.addDebugInfo2=function(){if("undefined"==typeof _debug_)return;let e=_debug_.generated.timing,t=performance.now();e.holeClosers+=t-i,i=t},t.addDebugInfo3=function(){if("undefined"==typeof _debug_)return;let e=_debug_.generated.timing,t=performance.now();e.oneAnd2Prongs+=t-i,i=t},t.addDebugInfo4=function(e){if("undefined"==typeof _debug_)return;let t=_debug_.generated,n=t.timing;t.elems.mat.push(e),n.threeProngs+=performance.now()-i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.getPotential2Prongs=function(e){let t=[];for(let n of e){let e=[];for(let t of n)r.isPosQuiteSharpCorner(t)||e.push(t);t.push(e)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.getSharpCorners=function(e){let t=[];for(let n of e){let e=[];for(let t of n)r.isPosQuiteSharpCorner(t)&&e.push(t);t.push(e)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(450);t.findAndAdd2ProngsOnAllPaths=function(e,t,n,o){let i;for(let u=0;u<n.length;u++){let s=n[u],l=r.findAndAdd2Prongs(e,t,u,s,o);i=i||l}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),o=n(191),i=n(193);t.findAndAdd2Prongs=function(e,t,n,u,s){let l,c=u.length,a=function(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}(c),f=r.getShapeBounds(e),d=Math.pow(f.maxX.p[0]-f.minX.p[0],2)+Math.pow(f.maxY.p[1]-f.minY.p[1],2);for(let r=0;r<c;r++){let c,f=u[a[r]];if(c=o.find2Prong(e,s,d,t,f,!1,n),c){let{circle:e,zs:n}=c,r=i.add2Prong(t,e,f,n,!1,s);l=l||r}if("undefined"!=typeof _debug_&&r+1===_debug_.directives.stopAfterTwoProngsNum)return}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(187),i=n(91);t.add1Prong=function(e,t,n){if(r.isPosDullCorner(n))return void("undefined"!=typeof _debug_&&_debug_.generated.elems.oneProngAtDullCorner.push(n));let u=r.getOsculatingCircle(e,n),s=r.calcPosOrder(u,n);i.isAnotherCpCloseby(t,n,u,s,0,1e3,"magenta")||(o.addToCpGraph(u,[-.5,.5],t,[n,n]),"undefined"!=typeof _debug_&&_debug_.generated.elems.oneProng.push(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(192);t.addDebugInfo=function(e,t,n,o,i,u,s,l){let c={generated:_debug_.generated,bezierPieces:e,pos:n,"δ":u,z:i?i.p:void 0,circle:o,xs:s,failed:t,holeClosing:l,notAdded:!1,deleted:!1,cpNode:void 0},a=r.getTwoProngType(c);_debug_.generated.elems[a].push(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(89);t.cullBezierPieces=function(e,t,n){if(e.length<=5)return e;let i=[];for(let u of e){let e=u.curve.ps,s=r.getBoundingBox(e);o.getClosestSquareDistanceToRect(s,t)<=1.001*n&&i.push(u)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findEquidistantPointOnLine=function(e,t,n){let r,o,i,u,s,l,c=Math.abs((e[1]-t[1])/(e[0]-t[0]))>1;c?(r=e[1],o=e[0],i=t[1],u=t[0],s=n[1],l=n[0]):(r=e[0],o=e[1],i=t[0],u=t[1],s=n[0],l=n[1]);let a=(o-u)/(r-i),f=u-a*i,d=(i*i+u*u-s*s-l*l+2*f*(l-u))/(2*(i-s+a*(u-l))),p=a*d+f;return c?[p,d]:[d,p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60),o=n(90),i=n(5);t.getInitialBezierPieces=function(e,t,n,u,s){let l,c;if(e){l=[];for(let e=0;e<t;e++){let t=n[e].curves.map(e=>({curve:e,ts:[0,1]}));l.push(...t)}}else{let e=i.isPosDullCorner(s)?1===s.t?-1:1:0,a=n[t],f=r.getNeighbouringPoints(u.get(a),s,e,0)[0];c=[f,f],l=f&&f!==f.next.next?o.getBoundaryPieceBeziers(c):a.curves.map(e=>({curve:e,ts:[0,1]}))}return{bezierPieces:l,"δ":c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(5),i=n(184),u=n(185);t.getCloseBoundaryPoints=function(e,t,n,s){let l=n.curve,c=n.t,a=n.p;e=i.cullBezierPieces(e,t);let f=[];for(let n=0;n<e.length;n++){let i=e[n],a=u.closestPointsOnCurve(i.curve,t,i.ts,l,c);for(let e=0;e<a.length;e++){let n=a[e],u=r.distanceBetween(n.p,t),l=i.curve,c=n.t;Math.abs(u-s)<1e-9&&(0===c&&(c=1,l=i.curve.prev),f.push({pos:new o.PointOnShape(l,c),d:u}))}}if(f.length>1){let e=[];for(let t=0;t<f.length;t++){f[t];e.push(t)}let t=[];for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++){if(n===r)continue;let o=f[e[n]].pos.p,i=f[e[r]].pos.p,u=a;(Math.abs(o[0]-i[0])<1e-6&&Math.abs(o[1]-i[1])<1e-6||Math.abs(o[0]-u[0])<1e-6&&Math.abs(o[1]-u[1])<1e-6)&&t.push(e[n])}for(let e=t.length-1;e>=0;e--)f.splice(t[e],1)}return f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(458),o=n(2),i=n(5);t.getInterestingPointsOnLoop=function(e,t,n){return function(u){let s=[];for(let l=0;l<u.curves.length;l++){let c=u.curves[l];if(o.lengthSquaredUpperBound(c.ps)<e)continue;let{maxCurvatureTs:a,maxNegativeCurvatureTs:f}=o.getCurvatureExtrema(c.ps),d=a.map(e=>new i.PointOnShape(c,e)),p=f.map(e=>new i.PointOnShape(c,e));s.push(...r.getContactCirclesAtInterface(c),...d,...p);let g=o.splitByCurvatureAndLength(c.ps,t,n);2===g.length&&(g=[0,.5,1]);for(let e=1;e<g.length-1;e++)s.push(new i.PointOnShape(c,g[e]))}return s.sort(i.comparePoss),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(58),o=n(5);t.getContactCirclesAtInterface=function(e){let{isQuiteSharp:t,isQuiteDull:n}=r.getCornerAtEnd(e);return t?[new o.PointOnShape(e,1)]:n?[new o.PointOnShape(e,1),new o.PointOnShape(e.next,0)]:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),o=n(460),i=n(191),u=n(193);t.findAndAddHoleClosing2Prongs=function(e,t,n){let s=r.getShapeBounds(e),l=Math.pow(s.maxX.p[0]-s.minX.p[0],2)+Math.pow(s.maxY.p[1]-s.minY.p[1],2),c=e.map(o.getMinYPos);for(let r=1;r<c.length;r++){let o=c[r],s=i.find2Prong(e,n,l,t,o,!0,r);if(!s)throw new Error("Unable to find hole-closing 2-prong");let{circle:a,zs:f}=s;u.add2Prong(t,a,o,[f[0]],!0,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(190);t.getMinYPos=function(e){return r.getLoopBounds(e).minY}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Math.max,o=Math.abs;t.getLoopsMetrics=function(e){let t=0,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(let l of e)for(let e of l)for(let l of e){let e=l[0],c=l[1],a=r(o(e),o(c));a>t&&(t=a),e<n&&(n=e),e>i&&(i=e),c<u&&(u=c),c>s&&(s=c)}return{maxCoordinate:t,maxRadius:r(i-n,s-u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(463),o=n(464),i=n(194);t.trimMat=function(e){let t=o.cullNonCycles(i.clone(e.cpNode));if(t)return{cpNode:t,cpTrees:r.createNewCpTree(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(188),o=n(13);t.createNewCpTree=function(e){let t=new Map;return e.getAllOnLoop().forEach((function(e){let n=e.cp.pointOnShape.curve.loop,i=t.get(n);i||(i=new r.default(o.CpNode.comparator,[],!0),t.set(n,i));i.insert(e)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(93),o=n(13);t.cullNonCycles=function(e){let t=e,n=r.getLeaves(e);for(;n.length;){let r=n.pop();if(r.isHoleClosing||r.isIntersection)continue;let i=r.next;for(;;){i=i.next;let n=!1,r=i.prevOnCircle;if(i.getProngCount()>2){let t=i.nextOnCircle;o.CpNode.isOnSameCircle(i,e)?n=!0:i.next===t?i=t:t.next!==r&&(n=!0)}else if(i.isTerminating()&&!i.isIntersection)return void(t=i);if(n){r.next=i,i.prev=r,t=i;break}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(94),i=n(195),u=n(466),s=n(93),l=n(467),c=n(468),a=n(194),f=n(17);function d(e){return function(t){return e*t}}let p=r.length([0,1]);t.toScaleAxis=function(e,t,n=d){if("undefined"!=typeof _debug_){var r=performance.now();let t=s.getLeaves(e.cpNode);_debug_.generated.elems.leaves.push(t)}let g=[];i.traverseVertices(a.clone(e.cpNode),e=>{g.push(e)});let v=u.getLargestVertex(g),h=n(t);"undefined"!=typeof _debug_&&_debug_.generated.elems.maxVertex.push(v);let _=new Set,x=new Map;o.traverseEdges(v,(function(e){let t=x.get(e)||h(e.cp.circle.radius),n=e.next,r=p(f.getCurveToNext(e)),o=n.cp.circle.radius;if(t-r>h(o)){for(let e of n.getCpNodesOnCircle())x.set(e,t-r);_.add(n.cp.circle)}})),l.cull(_,v),"undefined"!=typeof _debug_&&_debug_.generated.elems.culls.push(Array.from(_));let m={cpNode:v,cpTrees:void 0};return c.addDebugInfo(m,r),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLargestVertex=function(e){return e.reduce((function(e,t){return e.cp.circle.radius>=t.cp.circle.radius?e:t}),e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(93),o=n(13);t.cull=function(e,t){let n=r.getLeaves(t);function i(e){let t=e,n=[];do{t.next!==t.nextOnCircle&&n.push(t),t=t.nextOnCircle}while(t!==e.prevOnCircle);return n}for(;n.length;){let r=n.pop();if(r.isHoleClosing||r.isIntersection)continue;if(!e.has(r.cp.circle))continue;let u=r.next;for(;;){u=u.next;let n=!1,r=u.prevOnCircle;if(e.has(u.cp.circle))if(o.CpNode.isOnSameCircle(u,t))n=!0;else{let e=i(u);1===e.length?u=e[0]:n=!0}else n=!0;if(n){r.next=u,u.prev=r;break}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDebugInfo=function(e,t){if("undefined"==typeof _debug_)return;_debug_.generated.elems.sat.push(e),_debug_.generated.timing.sats=performance.now()-t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(470),o=n(471),i=n(472),u=n(196);t.enableDebugForMat=function(e){var t,n,s;if(!e)return void(window._debug_=void 0);let l=window._debug_;l=Object.assign(Object.assign({},l),{generated:Object.assign(Object.assign({},null==l?void 0:l.generated),{elems:Object.assign(Object.assign({},null===(t=null==l?void 0:l.generated)||void 0===t?void 0:t.elems),{twoProng_regular:[],twoProng_failed:[],twoProng_notAdded:[],twoProng_deleted:[],twoProng_holeClosing:[],looseBoundingBox:[],tightBoundingBox:[],oneProng:[],oneProngAtDullCorner:[],sharpCorner:[],dullCorner:[],vertex:[],threeProng:[],boundingHull:[],mat:[],sat:[],cpNode:[],maxVertex:[],leaves:[],culls:[]}),timing:Object.assign(Object.assign({},null===(n=null==l?void 0:l.generated)||void 0===n?void 0:n.timing),{holeClosers:0,oneAnd2Prongs:0,threeProngs:0,sats:0,simplifyMat:0})}),fs:Object.assign(Object.assign(Object.assign(Object.assign({},null==l?void 0:l.fs),{drawElem:Object.assign(Object.assign({},null===(s=null==l?void 0:l.fs)||void 0===s?void 0:s.drawElem),u.drawElemFunctions)}),r.generalDebugFunctions),{twoProng:o.twoProngDebugFunctions,threeProng:i.threeProngDebugFunctions}),directives:Object.assign(Object.assign({},null==l?void 0:l.directives),{stopAfterHoleClosers:!1,stopAfterHoleClosersNum:void 0,stopAfterTwoProngs:!1,stopAfterTwoProngsNum:void 0,stopAfterThreeProngs:!1,stopAfterThreeProngsNum:void 0})}),window._debug_=l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);let o=0;function i(e){return e.map(e=>r.posToHumanString(e.cp.pointOnShape))}function u(e,t=3){return e[0].toFixed(t)+", "+e[1].toFixed(t)}let s={"δToString":i,"δsToString":function(e){return e.map(i)},pointToStr:u,pointsToStr:function(e,t=3){return e.map(e=>u(e,t))},nameObj:function(e,t=""){e.name=""+t+o++}};t.generalDebugFunctions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(3);function i(e,t,n,i=1e3,s,l="twoProng_regular"){if(void 0===t)return;let c=_debug_.generated.elems[l][t],a=c.xs;console.log(c),console.log(c.xs.map(e=>({x:e.x,y:e.y,z:e.z,d:e.z?o.squaredDistanceBetween(e.y.p,e.z.p):0,t:e.t})));for(let t=0;t<a.length;t++){if(s&&(t<s[0]||t>=s[1]))continue;if(n&&t!==a.length-1)continue;let u=c.xs[t],l={center:u.x,radius:o.distanceBetween(u.x,u.y.p)};r.drawFs.crossHair(e,u.x,"red thin10 nofill",void 0,i),r.drawFs.circle(e,l,"blue thin10 nofill",i),void 0!==u.z&&r.drawFs.crossHair(e,u.z.p,"yellow thin10 nofill",2,i)}u.drawNormal(e,t,i)}let u={"logδ":function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e].δ;console.log(n)},log:function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e];console.log(n)},drawNormal:function e(t,n,o=1e3,i="twoProng_regular"){let u=_debug_.generated.elems[i];if(void 0===n)for(let n=0;n<u.length;n++)e(t,n);let s=u[n];s&&r.drawFs.line(t,[s.pos.p,s.circle.center],"thin10 blue",o)},"logδBasic":function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e].δ;function r(e){let t=e.cp.pointOnShape;return{bez:t.curve.ps,t:t.t}}console.log(r(n[0])),console.log(r(n[1]))},traceConvergence:i,logNearest:function(e,t,n=1e3,r="twoProng_regular"){let u,s=_debug_.generated,l=o.getObjClosestTo(t,s.elems[r],e=>e.circle.center);[].push(l),console.log(l);for(let e=0;e<_debug_.generated.elems[r].length;e++){if(_debug_.generated.elems[r][e]===l){u=e;break}}void 0!==u&&i(e,u,!0,n)}};t.twoProngDebugFunctions=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4);let i={drawSpokes:function(e,t){let n=_debug_.generated.elems.threeProng[t],r=n.circle.center,i=n.poss;o.drawFs.line(e,[i[0].p,r],"thin5 red"),o.drawFs.line(e,[i[1].p,r],"thin5 red"),o.drawFs.line(e,[i[2].p,r],"thin5 red")},traceConvergence:function(e,t,n){let r,i;void 0===t?(r=0,i=_debug_.generated.elems.threeProng.length):(r=t,i=t+1);for(let u=r;u<i;u++){let r=_debug_.generated.elems.threeProng[u];console.log(r);let i,s,l=r.candidateThreeProngs;void 0===t||-1===n?(i=r.bestIndx,s=r.bestIndx+1):void 0===n?(i=0,s=l.length):(i=n,s=n+1);for(let t=i;t<s;t++){let n=l[t].circle;r.bestIndx===t?(o.drawFs.dot(e,n.center,.2,"green"),o.drawFs.circle(e,n,"black thin10 nofill")):(o.drawFs.dot(e,n.center,.2,"cyan"),o.drawFs.circle(e,n,"cyan thin5 nofill"))}}},showBoundary:function(e,t,n){let i=_debug_.generated.elems.threeProng[t],u=i.candidateThreeProngs,s=void 0===n?0:n,l=void 0===n?u.length:n,c=i.cpss,a=0;for(let t=1;t<c.length-1;t++){if(!(a>=s&&a<=l)){a++;continue}let n=[c[0],c[t],c[c.length-1]];for(let t=0;t<3;t++){let i=n[t],u=i[0],s=i[1],l=u.cp.pointOnShape,c=s.cp.pointOnShape,a=l.p,f=c.p,d=1+.5*t;r.equal(a,f)?o.drawFs.crossHair(e,a,"red thin10 nofill",d):(o.drawFs.crossHair(e,a,"green thin10 nofill",d),o.drawFs.crossHair(e,f,"blue thin10 nofill",d))}a++}},"logδs":function(e){let t=_debug_.generated.elems.threeProng[e];console.log(t.cpss)},logNearest:function(e=!0,t=!0,n=!0){return function(i,u,s=1e3){let l=_debug_.generated,c=r.getObjClosestTo(u,l.elems.threeProng,e=>e.circle?e.circle.center:[0,0]),a=c.circle;console.log(c);let f={center:a.center,radius:a.radius||1};if(o.drawFs.circle(i,f,"blue thin10 nofill",s),o.drawFs.crossHair(i,a.center,"red thin2 nofill",2,s),e&&(o.drawFs.line(i,[c.poss[0].p,a.center],"blue thin5 nofill",s),o.drawFs.line(i,[c.poss[1].p,a.center],"blue thin5 nofill",s),o.drawFs.line(i,[c.poss[2].p,a.center],"blue thin5 nofill",s)),n){let e=c.boundaries,t=e[0],n=e[e.length-1];o.drawFs.beziers(i,t,"red thin20 nofill",s);for(let t=1;t<e.length-1;t++){let n=e[t];o.drawFs.beziers(i,n,"green thin20 nofill",s)}o.drawFs.beziers(i,n,"blue thin20 nofill",s)}if(t){let e=c.traces;for(let t of e)o.drawFs.polyline(i,t,"red thin5 nofill",s)}}}};t.threeProngDebugFunctions=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(197),i=n(4);t.drawOneProng=function(e,t,n,u=0){let s=o.scaleCircle(r.getOsculatingCircle(Number.POSITIVE_INFINITY,t),1);return[...i.drawFs.dot(e,t.p,.05,"gray",u),...i.drawFs.dot(e,s.center,.125,"gray",u),...i.drawFs.circle(e,s,"gray thin10 nofill",u)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(192),o=n(4);t.twoProng=function(e,t){let n,i,u=[],s=[],l=[],c=[],a=[];switch(r.getTwoProngType(t)){case"twoProng_regular":n="red ",i="2";break;case"twoProng_holeClosing":n="cyan ",i="10"}return t.failed?u=o.drawFs.dot(e,t.pos.p,.3,"black"):t.failed||(s=o.drawFs.dot(e,t.circle.center,.3,"yellow"),l=o.drawFs.circle(e,t.circle,n+"thin"+i+" nofill"),c=o.drawFs.dot(e,t.pos.p,.0105,n),a=o.drawFs.dot(e,t.z,.021,n)),[...u,...s,...l,...c,...a]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(197),o=n(4);t.threeProng=function(e,t){let n=r.scaleCircle(t.circle,1),i=t.poss,u=o.drawFs.dot(e,i[0].p,.03,"blue"),s=o.drawFs.dot(e,i[1].p,.06,"blue"),l=o.drawFs.dot(e,i[2].p,.1*3*.3,"blue");return[...o.drawFs.dot(e,n.center,.09,"blue"),...u,...s,...l,...o.drawFs.circle(e,n,"blue thin2 nofill")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.vertex=function(e,t,n,o,i=!0){let u=i?"":" invisible",s=t.cp.circle,l=t.getCpNodesOnCircle();console.log(l);let c=[];c=[...r.drawFs.circle(e,s,"red thin20 nofill "+u,o),...r.drawFs.crossHair(e,s.center,"red thin20 nofill "+u,3,o)];for(let t=0;t<l.length;t++){let n=l[t].next.cp.circle,i=r.drawFs.circle(e,n,"pink thin20 nofill "+u,o),a=r.drawFs.crossHair(e,n.center,"pink thin20 nofill "+u,3,o);c.push(...i,...a);let f=s.center,d=n.center,p=0===t?"thin10":1===t?"thin20":"thin35",g=r.drawFs.line(e,[f,d],"yellow "+p+" nofill "+u,o);c.push(...g)}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.boundingHull=function(e,t,n="thin5 black nofill"){return r.drawFs.polygon(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.looseBoundingBox=function(e,t){let[[n,o],[i,u]]=t;return t=[[n,o],[i,o],[i,u],[n,u]],r.drawFs.polygon(e,t,"thin5 brown nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.tightBoundingBox=function(e,t){return r.drawFs.polygon(e,t,"thin5 pinker nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.sharpCorner=function(e,t){let n=t.ps[t.ps.length-1];return r.drawFs.dot(e,n,.6,"green")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.dullCorner=function(e,t){let n=t.ps[3];return r.drawFs.dot(e,n,.5,"orange")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.maxVertex=function(e,t){let n=t.cp.circle;return r.drawFs.circle(e,n,"brown thin10 nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(484);t.leaves=function(e,t){let n=[];for(let o of t){let t=o.cp.circle.center;n.push(r.drawCirclePercent(e,t,.5,"pinker thin5 nofill"))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawCirclePercent=function(e,t,n,r){let o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",t[0].toString()),o.setAttributeNS(null,"cy",t[1].toString()),o.setAttributeNS(null,"r",n.toString()+"%"),o.setAttributeNS(null,"class",r),e.appendChild(o),o}},function(e,t,n){"use strict";function r(e,t,n,r){let o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",t[0].toString()),o.setAttributeNS(null,"cy",t[1].toString()),o.setAttributeNS(null,"r",n.toString()+"%"),o.setAttributeNS(null,"class",r),e.appendChild(o),o}Object.defineProperty(t,"__esModule",{value:!0}),t.culls=function(e,t){let n=[];for(let o of t){let t=o.center;n.push(r(e,t,.4,"cyan thin5 nofill"))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(4);t.oneProngAtDullCorner=function(e,t){let n=r.getOsculatingCircle(Number.POSITIVE_INFINITY,t);return[...o.drawFs.dot(e,t.p,.1,"orange"),...o.drawFs.dot(e,n.center,.25,"orange"),...o.drawFs.circle(e,n,"orange thin10 nofill")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(17);t.drawBranch=function(e,t,n){let i=[];for(let u of t){if(u.isTerminating())continue;let t=o.getCurveToNext(u);t&&(i.push(...r.drawFs.bezier(e,t,"thin5 purple nofill",n)))}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.getBoundaryBeziersToNext=function(e){let t=e,n=e.next,o=t.cp.pointOnShape,i=n.cp.pointOnShape,u=o.curve,s=i.curve;if(u.loop!==s.loop)return;let l=[];return s===u?l.push(r.fromTo(o.curve.ps)(o.t,i.t)):(l.push(r.fromTTo1(o.curve.ps,o.t)),function(e,t,n,o){let i=t;do{i=i.next;let t=i===n?o:1;e.push(r.from0ToT(i.ps,t))}while(i!==n)}(l,o.curve,i.curve,i.t)),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundaryBezierPartsToNext=function(e){let t=e,n=e.next,r=t.cp.pointOnShape,o=n.cp.pointOnShape,i=r.curve,u=o.curve;if(i.loop!==u.loop)return;let s=[];return u===i?s.push({ps:r.curve.ps,ts:[r.t,o.t]}):(s.push({ps:r.curve.ps,ts:[r.t,1]}),function(e,t,n,r){let o=t;do{o=o.next;let t=o===n?{ps:o.ps,ts:[0,r]}:{ps:o.ps,ts:[0,1]};e.push(t)}while(o!==n)}(s,r.curve,o.curve,o.t)),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=n(95),i=n(2),u=n(17),s=n(59),l=n(30);function c(e,t,n,r){let o=[],l=s.getCurveBetween(n[e],n[t].next);for(let s=e;s<t+1;s++)o.push(i.hausdorffDistance(u.getCurveToNext(n[s]),l,r));return Math.max(...o)}t.simplifyMat=function(e,t=15,n=.1,u=1){let a=e.cpNode,f=new Map;for(;!a.isTerminating();)a=a.next;let d=o.getBranches(a,t),p=[];for(let e=0;e<d.length;e++){let t=d[e],r=0;for(;r<t.length;){let e=r;for(;r++,r!==t.length;){if(c(e,r,t,u)>n)break;p.push(t[r])}if(e+1===r);else{let n=t[e],o=t[r-1],u=i.toCubic(s.getCurveBetween(n,o.next)),c=u.slice().reverse(),a=n,d=0;for(;a!==o;){let e=l.closestPointOnBezier(u,a.next.cp.circle.center).t;f.set(a,{ps:u,ts:[d,e]});let t=a.nextOnCircle.prev;f.set(t,{ps:c,ts:[1-e,1-d]}),d=e,a=a.next}f.set(a,{ps:u,ts:[d,1]});let p=a.nextOnCircle.prev;f.set(p,{ps:c,ts:[0,1-d]})}}}for(let e of p){let t=e.isTerminating(),n=e.getCpNodesOnCircle().length;t||2!==n||r.CpNode.remove(e)}return{cpNode:a,cpTrees:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(95),o=n(2),i=n(17),u=n(59),s=n(30);function l(e,t,n,r){let s=[],l=u.getCurveBetween(n[e],n[t].next);for(let u=e;u<t+1;u++)s.push(o.hausdorffDistance(i.getCurveToNext(n[u]),l,r));return Math.max(...s)}t.simplifyMatMapOnly=function(e,t=15,n=.1,i=1){let c=new Map;for(;!e.isTerminating();)e=e.next;let a=r.getBranches(e,t),f=[];for(let e=0;e<a.length;e++){let t=a[e],r=0;for(;r<t.length;){let e=r;for(;r++,r!==t.length;){if(l(e,r,t,i)>n)break;f.push(t[r])}if(e+1===r);else{let n=t[e],i=t[r-1],l=o.toCubic(u.getCurveBetween(n,i.next)),a=l.slice().reverse(),f=n,d=0;for(;f!==i;){let e=s.closestPointOnBezier(l,f.next.cp.circle.center).t;c.set(f,{ps:l,ts:[d,e]});let t=f.nextOnCircle.prev;c.set(t,{ps:a,ts:[1-e,1-d]}),d=e,f=f.next}c.set(f,{ps:l,ts:[d,1]});let p=f.nextOnCircle.prev;c.set(p,{ps:a,ts:[0,1-d]})}}}return{simpleMap:c,cpNode:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){let n=e.x-t.x;return 0!==n?n:0===e.type?-1:1}t.sweepLine=function(e,t,n,o){let i=[];for(let r of e)i.push({type:0,item:r,x:t(r)}),i.push({type:1,item:r,x:n(r)});i.sort(r);let u=new Set,s=[];for(let e of i){let{item:t}=e;if(0===e.type){for(let e of u.values())o(t,e)&&s.push([t,e]);u.add(t)}else 1===e.type&&u.delete(e.item)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areBoxesIntersecting=function(e){return(t,n)=>{let[[r,o],[i,u]]=t,[[s,l],[c,a]]=n;return o>u&&([o,u]=[u,o]),l>a&&([l,a]=[a,l]),r>i&&([r,i]=[i,r]),s>c&&([s,c]=[c,s]),e?r<=c&&i>=s&&l<=u&&a>=o:r<c&&i>s&&l<u&&a>o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loopFromBeziers=function(e=[]){let t,n=[],r={beziers:e,curves:n};if(!e.length)return r;for(let o=0;o<e.length;o++){let i={loop:r,ps:e[o],prev:t,next:void 0,idx:o};t&&(t.next=i),t=i,n.push(i)}let o=n[n.length-1];return n[0].prev=o,o.next=n[0],r}}]);