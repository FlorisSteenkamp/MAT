var t={};function n(t){return 2===t.length?t[0][0]===t[1][0]&&t[0][1]===t[1][1]:3===t.length?t[0][0]===t[1][0]&&t[0][1]===t[1][1]&&t[1][1]===t[2][1]&&t[1][1]===t[2][1]:t[0][0]===t[1][0]&&t[0][1]===t[1][1]&&t[1][1]===t[2][1]&&t[1][1]===t[2][1]&&t[2][1]===t[3][1]&&t[2][1]===t[3][1]}function e(t=[],e){const r=[],o={beziers:t,curves:r,idx:e};if(0===t.length)return o;let i,c=0;for(let e=0;e<t.length;e++){if(n(t[e]))continue;const s={loop:o,ps:t[e],prev:i,next:void 0,idx:c};i&&(i.next=s),i=s,r.push(s),c++}const s=r[r.length-1];return r[0].prev=s,s.next=r[0],s.ps[s.ps.length-1]=r[0].ps[0],o}function r(t){let n="";for(let e=0;e<t.length;e++){const r=t[e];0===e&&(n="M "+r[0][0].toString()+" "+r[0][1].toString()+"\n"),4===r.length?n+="C "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" "+r[3][0].toString()+" "+r[3][1].toString()+" \n":3===r.length?n+="Q "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" \n":2===r.length&&(n+="L "+r[1][0].toString()+" "+r[1][1].toString()+" \n")}return n+" z\n"}t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);class o{constructor(){this.initialPoint=void 0,this.vals=void 0,this.prev2ndCubicControlPoint=void 0,this.prev2ndQuadraticControlPoint=void 0,this.p=[0,0]}}function i(t){const n=[t.p,t.initialPoint];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n}function c(t){t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0;const n=(e=t.p,t.vals[0],t.vals[1],t.vals[2],t.vals[3],t.vals[4],[[e,[t.vals[5],t.vals[6]]]]);var e;const r=n[n.length-1];return t.p=r[r.length-1],n}const s={c:function(t){const n=[t.p,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]],[t.vals[4],t.vals[5]]];return t.prev2ndCubicControlPoint=n[2],t.prev2ndQuadraticControlPoint=void 0,n},h:function(t){const n=[t.p,[t.vals[0],t.p[1]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},l:function(t){const n=[t.p,t.vals];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},q:function(t){const n=[t.vals[0],t.vals[1]],e=[t.vals[2],t.vals[3]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},s:function(t){const n=t.prev2ndCubicControlPoint?[t.p[0]-t.prev2ndCubicControlPoint[0]+t.p[0],t.p[1]-t.prev2ndCubicControlPoint[1]+t.p[1]]:t.p,e=[t.p,n,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]]];return t.prev2ndCubicControlPoint=e[2],t.prev2ndQuadraticControlPoint=void 0,e},t:function(t){const n=t.prev2ndQuadraticControlPoint?[t.p[0]-t.prev2ndQuadraticControlPoint[0]+t.p[0],t.p[1]-t.prev2ndQuadraticControlPoint[1]+t.p[1]]:t.p,e=[t.vals[0],t.vals[1]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},v:function(t){const n=[t.p,[t.p[0],t.vals[0]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},z:i};function u(t){let n=0,e=0,r=1,o=0,i=1,c=1;const s=t._currentIndex;if(t._skipOptionalSpaces(),t._currentIndex<t._endIndex&&"+"===t._string[t._currentIndex]?t._currentIndex+=1:t._currentIndex<t._endIndex&&"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,i=-1),t._currentIndex===t._endIndex||(t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")&&"."!==t._string[t._currentIndex])throw new Error("The first character of a number must be one of [0-9+-.].");const u=t._currentIndex;for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)t._currentIndex+=1;if(t._currentIndex!==u){let n=t._currentIndex-1,r=1;for(;n>=u;)e+=r*(Number(t._string[n])-0),n-=1,r*=10}if(t._currentIndex<t._endIndex&&"."===t._string[t._currentIndex]){if(t._currentIndex+=1,t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be a least one digit following the .");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)r*=10,o+=Number(t._string.charAt(t._currentIndex))/r,t._currentIndex+=1}if(t._currentIndex!==s&&t._currentIndex+1<t._endIndex&&("e"===t._string[t._currentIndex]||"E"===t._string[t._currentIndex])&&"x"!==t._string[t._currentIndex+1]&&"m"!==t._string[t._currentIndex+1]){if(t._currentIndex+=1,"+"===t._string[t._currentIndex]?t._currentIndex+=1:"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,c=-1),t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be an exponent.");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)n*=10,n+=Number(t._string[t._currentIndex]),t._currentIndex+=1}let f=e+o;if(f*=i,n&&(f*=Math.pow(10,c*n)),s===t._currentIndex)throw new Error("Internal error: startIndex === source._currentIndex");return t._skipOptionalSpacesOrDelimiter(),f}const f={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"};class l{constructor(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=void 0,this._skipOptionalSpaces()}parseSegment(){const t=this._string[this._currentIndex];let n,e=f[t];if(void 0===e){if(void 0===this._prevCommand)throw new Error("Implicit command not allowed for first commands.");if(!("+"===t||"-"===t||"."===t||t>="0"&&t<="9")||"Z"===this._prevCommand)throw new Error("Remaining coordinates not found for implicit command");e="M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand}else this._currentIndex+=1;this._prevCommand=e;const r=e.toUpperCase();if("H"===r||"V"===r?n=[u(this)]:"M"===r||"L"===r||"T"===r?n=[u(this),u(this)]:"S"===r||"Q"===r?n=[u(this),u(this),u(this),u(this)]:"C"===r?n=[u(this),u(this),u(this),u(this),u(this),u(this)]:"A"===r?n=[u(this),u(this),u(this),this._parseArcFlag(),this._parseArcFlag(),u(this),u(this)]:"Z"===r&&(this._skipOptionalSpaces(),n=[]),void 0===n)throw new Error("Unknown command");return{type:e,values:n}}hasMoreData(){return this._currentIndex<this._endIndex}initialCommandIsMoveTo(){if(!this.hasMoreData())return!0;const t=f[this._string[this._currentIndex]];return"M"===t||"m"===t}_isCurrentSpace(){const t=this._string[this._currentIndex];return t<=" "&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)}_skipOptionalSpaces(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}_skipOptionalSpacesOrDelimiter(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}_parseArcFlag(){if(this._currentIndex>=this._endIndex)throw new Error("Unable to parse arc flag");let t;const n=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===n)t=0;else{if("1"!==n)throw new Error("Unable to parse arc flag - arc flag must be 0 or 1");t=1}return this._skipOptionalSpacesOrDelimiter(),t}}function a(t){return function(t){if(0===t.length)return[];if("m"!==t[0].type.toLowerCase())throw new Error("Invalid SVG - every new path must start with an M or m.");const n=new o,e=[];let r,u=[];for(let o=0;o<t.length;o++){const f=t[o],l=f.type.toLowerCase();if(n.vals=f.values,f.type===l)if("v"===l)n.vals[0]+=n.p[1];else if("a"===l)n.vals[5]+=n.p[0],n.vals[6]+=n.p[1];else for(let t=0;t<n.vals.length;t++)n.vals[t]+=n.p[t%2];if("m"!==l){if("a"===l)u.push(...c(n));else{const t=s[l];if(!t)throw new Error("Invalid SVG - command not recognized.");const e=t(n);n.p=e[e.length-1],u.push(e)}r=l}else u.length&&("z"!==r&&u.push(i(n)),e.push(u),u=[]),n.initialPoint=n.p=n.vals,r=l}return u.length>0&&("z"!==r&&u.push(i(n)),e.push(u)),e}(function(t){if(!t.length)return[];const n=new l(t),e=[];if(!n.initialCommandIsMoveTo())throw new Error("Path must start with m or M");for(;n.hasMoreData();)e.push(n.parseSegment());return e}(t))}function p(t,n,e="thin10 red nofill",r=0){if(0===n.length)return[];let o=`M${n[0][0][0]} ${n[0][0][1]} `;for(let t=0;t<n.length;t++){const e=n[t];if(e.length<=1)continue;const[,r,i,c]=e;o+=2===e.length?`L ${r[0]} ${r[1]} `:3===e.length?`Q ${r[0]} ${r[1]} ${i[0]} ${i[1]} `:`C ${r[0]} ${r[1]} ${i[0]} ${i[1]} ${c[0]} ${c[1]} `}const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",o),i.setAttributeNS(null,"class",e),t.appendChild(i),[i]}function h(t){const n=t.length,e=Array.from(Array(n),()=>new Array(n).fill(0));for(let r=0;r<n;r++)for(let o=0;o<n;o++)e[r][o]=t[r][o];for(let t=0;t<n;t++)for(let r=0;r<n;r++)for(let o=0;o<n;o++)e[r][t]+e[t][o]<e[r][o]&&(e[r][o]=e[r][t]+e[t][o]);return e}function d(t,n){let e=function(t,n){let e;return e=t.curve.idx-n.curve.idx,0!==e||(e=t.t-n.t),e}(t.pointOnShape,n.pointOnShape);return 0!==e?e:(e=t.order-n.order,0!==e?e:t.order2-n.order2)}function v(t){const n=t,e=[n];let r=t.next;for(;r!==n;)e.push(r),r=r.next;return e}const g=134217729;function m(t,n){const e=t*n,r=g*t,o=r-(r-t),i=t-o,c=g*n,s=c-(c-n),u=n-s;return[i*u-(e-o*s-i*s-o*u),e]}function x(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r+i,s=c-r,u=e+o,f=u-e,l=r-(c-s)+(i-s)+u,a=c+l,p=e-(u-f)+(o-f)+(l-(a-c)),h=a+p;return[p-(h-a),h]}function b(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r-i,s=c-r,u=e-o,f=u-e,l=r-(c-s)+(-i-s)+u,a=c+l,p=e-(u-f)+(-o-f)+(l-(a-c)),h=a+p;return[p-(h-a),h]}const _=m,I=x,N=b,{atan2:S}=Math;function E(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=N(_(i,e),_(o,r))[1],s=I(_(o,e),_(i,r))[1];return S(c,s)}const w=Math.abs,M=[[0,0],[0,0],[0,0]];function O(t,n,e){return 0===n?1===e?{ps:t,_ps:M}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],a=n*n,p=i-s,h=c-u,d=[[i,c],[-n*p+i,-n*h+c],[a*(p+(f-s))-(2*n*p-i),a*(h+(l-u))-(2*n*h-c)]],v=w(n),g=w(i),m=w(s),x=w(f),b=g+m,_=w(c),I=w(u),N=_+I;return{ps:d,_ps:[[0,0],[v*b+g,v*N+_],[a*(b+(x+m))+(2*v*b+g),a*(N+(w(l)+I))+(2*v*N+_)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],a=n*n,p=i-s,h=f-s,d=c-u,v=l-u,g=[[a*(p+h)-(2*n*p-i),a*(d+v)-(2*n*d-c)],[n*h+s,n*v+u],[f,l]],m=w(n),x=w(i),b=w(s),_=x+b,I=w(f)+b,N=w(c),S=w(u),E=N+S;return{ps:g,_ps:[[a*(_+I)+(2*m*_+x),a*(E+(w(l)+S))+(2*m*E+N)],[m*I+b,0],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=i[0],a=i[1],p=n*n,h=e*e,d=n*e,v=c-u,g=v+(l-u),m=s-f,x=m+(a-f),b=p*g-(2*n*v-c),_=d*g-(v*(e+n)-c),I=h*g-(2*e*v-c),N=p*x-(2*n*m-s),S=d*x-(m*(e+n)-s),E=h*x-(2*e*m-s),M=w(n),O=w(e),T=w(d),y=w(c),C=w(u),P=y+C,A=P+w(l)+C,B=w(s),z=w(f),F=B+z,Y=F+w(a)+z;return{ps:[[b,N],[_,S],[I,E]],_ps:[[p*A+(2*M*P+y),p*Y+(2*M*F+B)],[T*A+(P*(O+M)+y),T*x+(F*(O+M)+B)],[h*A+(2*O*P+y),h*Y+(2*O*F+B)]]}}(t,n,e)}const T=Math.abs,y=[[0,0],[0,0],[0,0],[0,0]];function C(t,n,e){return 0===n?1===e?{ps:t,_ps:y}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=i[0],h=i[1],d=c-n*(c-u),v=u-n*(u-l),g=d-n*(d-v),m=g-n*(g-(v-n*(v-(l-n*(l-p))))),x=s-n*(s-f),b=f-n*(f-a),_=x-n*(x-b),I=_-n*(_-(b-n*(b-(a-n*(a-h))))),N=T(n),S=T(c),E=T(u),w=T(l),M=T(p),O=T(s),y=T(f),C=T(a),P=S+N*(S+E),A=E+N*(E+w),B=P+N*(P+A),z=O+N*(O+y),F=y+N*(y+C),Y=z+N*(z+F);return{ps:[[c,s],[d,x],[g,_],[m,I]],_ps:[[0,0],[P,z],[B,Y],[B+N*(B+(A+N*(A+(w+N*(w+M))))),Y+N*(Y+(F+N*(F+(C+N*(C+T(h))))))]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=i[0],h=i[1],d=c-n*(c-u),v=u-n*(u-l),g=l-n*(l-p),m=d-n*(d-v),x=v-n*(v-g),b=m-n*(m-x),_=s-n*(s-f),I=f-n*(f-a),N=a-n*(a-h),S=_-n*(_-I),E=I-n*(I-N),w=S-n*(S-E),M=T(n),O=T(c),y=T(u),C=T(l),P=T(p),A=T(s),B=T(f),z=T(a),F=O+M*(O+y),Y=y+M*(y+C),V=C+M*(C+P),k=F+M*(F+Y),L=Y+M*(Y+V),$=A+M*(A+B),q=B+M*(B+z),X=z+M*(z+T(h)),H=$+M*($+q),D=q+M*(q+X);return{ps:[[b,w],[x,E],[g,N],[p,h]],_ps:[[k+M*(k+L),H+M*(H+D)],[L,D],[V,X],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],a=i[0],p=i[1],h=n*n,d=n*h,v=e*e,g=e*v,m=n*e,x=s-f,b=a-f,_=c[0]-s,I=x+b,N=n*x,S=e*x,E=_-3*b,w=u-l,M=p-l,O=c[1]-u,y=w+M,C=n*w,P=e*w,A=O-3*M,B=d*E+(3*n*(n*I-x)+s),z=m*(n*E+2*I)+(h*I+s-(S+2*N)),F=m*(e*E+2*I)+(v*I+s-(2*S+N)),Y=g*E+(3*e*(e*I-x)+s),V=d*A+(3*n*(n*y-w)+u),k=m*(n*A+2*y)+(h*y+u-(P+2*C)),L=m*(e*A+2*y)+(v*y+u-(2*P+C)),$=g*A+(3*e*(e*y-w)+u),q=T(n),X=T(e),H=T(m),D=T(d),Q=T(g),G=T(s),R=T(f),U=G+R,Z=T(a)+R,j=U+Z,W=q*U,J=X*U,K=T(_)+3*Z,tt=T(u),nt=T(l),et=tt+nt,rt=T(p)+nt,ot=et+rt,it=q*et,ct=X*et,st=T(O)+3*rt;return{ps:[[B,V],[z,k],[F,L],[Y,$]],_ps:[[D*K+(3*q*(q*j+U)+G),D*st+(3*q*(q*ot+et)+tt)],[H*(q*K+2*j)+(h*j+G+(J+2*W)),H*(q*st+2*ot)+(h*ot+tt+(ct+2*it))],[H*(X*K+2*j)+(v*j+G+(2*J+W)),H*(X*st+2*ot)+(v*ot+tt+(2*ct+it))],[Q*K+(3*X*(X*j+U)+G),Q*st+(3*X*(X*ot+et)+tt)]]}}(t,n,e)}function P(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function A(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}function B(t,n){const e=t.length,r=n.length;let o=0,i=0;const c=[];for(;o<e&&i<r;)0!==t[o]?0!==n[i]?Math.abs(t[o])<=Math.abs(n[i])?(c.push(t[o]),o++):(c.push(n[i]),i++):i++:o++;for(;o<e;)c.push(t[o]),o++;for(;i<r;)c.push(n[i]),i++;if(0===c.length)return[0];const s=c.length;if(1===s)return c;const u=[],f=c[1],l=c[0];let a=f+l;const p=l-(a-f);0!==p&&u.push(p),i=0;for(let t=2;t<s;t++){const n=c[t],e=a+n,r=e-a,o=a-(e-r)+(n-r);0!==o&&u.push(o),a=e}return 0===a&&0!==u.length||u.push(a),u}function z(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=-t[r];return e}const F=z,Y=B;function V(t,n){const e=F(n);return Y(t,e)}const k=134217729;function L(t,n){const e=t.length;let r;const o=t[0];let i=o*n;const c=k*o,s=c-(c-o),u=o-s,f=k*n,l=f-(f-n),a=n-l,p=[],h=u*a-(i-s*l-u*l-s*a);0!==h&&p.push(h);for(let o=1;o<e;o++){const e=t[o],c=e*n,s=k*e,u=s-(s-e),f=e-u,l=k*n,a=l-(l-n),h=n-a,d=f*h-(c-u*a-f*a-u*h),v=i+d,g=v-i,m=i-(v-g)+(d-g);0!==m&&p.push(m),r=v;const x=c+r,b=r-(x-c);0!==b&&p.push(b),i=x}return 0===i&&0!==p.length||p.push(i),p}function $(t,n){const e=n.length;let r;const o=n[0];let i=o*t;const c=k*o,s=c-(c-o),u=o-s,f=k*t,l=f-(f-t),a=t-l,p=[],h=u*a-(i-s*l-u*l-s*a);0!==h&&p.push(h);for(let o=1;o<e;o++){const e=n[o],c=e*t,s=k*e,u=s-(s-e),f=e-u,l=k*t,a=l-(l-t),h=t-a,d=f*h-(c-u*a-f*a-u*h),v=i+d,g=v-i,m=i-(v-g)+(d-g);0!==m&&p.push(m),r=v;const x=c+r,b=r-(x-c);0!==b&&p.push(b),i=x}return 0===i&&0!==p.length||p.push(i),p}const q=L,X=B;function H(t,n){let e=[0];for(let r=0;r<t.length;r++)e=X(e,q(n,t[r]));return e}function D(t,n){const e=t.length;let r=n;const o=[];for(let n=0;n<e;n++){const e=t[n],i=r+e,c=i-r,s=r-(i-c)+(e-c);0!==s&&o.push(s),r=i}return 0===r&&0!==o.length||o.push(r),o}function Q(t){return t[t.length-1]}function G(t,n){return Q(V(t,n))}const R=Number.EPSILON/2,U=R*R;function Z(t){const n=t*R;return n/(1-n)}function j(t){const n=t*U;return n/(1-n)}function W(t){const n=t[0][0],e=t[0][1];for(let r=1;r<t.length;r++)if(n!==t[r][0]||e!==t[r][1])return!1;return!0}function J(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}Z(1),j(3);const K=V,tt=Q,nt=J,{abs:et}=Math;function rt(t){const[[n,e],[r,o],[i,c]]=t,s=n+i,u=s-2*r,f=et(s)+et(u);if(et(u)-f>0)return!1;const l=e+c,a=l-2*o,p=et(l)+et(a);return!(et(a)-p>0)&&0===tt(K(nt(n,i),[2*r]))&&0===tt(K(nt(e,c),[2*o]))}const ot=134217729;function it(t,n){const e=t*n,r=ot*t,o=r-(r-t),i=t-o,c=ot*n,s=c-(c-n),u=n-s;return[i*u-(e-o*s-i*s-o*u),e]}const ct=it,st=B,ut=Q,ft=V,lt=Number.EPSILON/2,at=Math.abs;function pt(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=s+3*r,l=n+3*i,a=f-l,p=at(3*r)+at(f)+(at(3*i)+at(l))+at(a);if(at(a)-lt*p>0)return!1;const h=u+3*o,d=e+3*c,v=h-d,g=at(3*o)+at(h)+(at(3*c)+at(d))+at(v);return!(at(v)-lt*g>0)&&0===ut(ft(st([s],ct(3,r)),st([n],ct(3,i))))&&0===ut(ft(st([u],ct(3,o)),st([e],ct(3,c))))}function ht(t){let n=t[0];for(let e=1;e<t.length;e++)n+=t[e];return n}function dt(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function vt(t){const n=t.slice(),e=n.length;if(1===e)return n;let r=n[e-1],o=e;for(let t=e-2;t>=0;--t){const e=r,i=n[t];r=e+i;const c=i-(r-e);c&&(n[--o]=r,r=c)}let i=0;for(let t=o;t<e;++t){const e=n[t],o=r;r=e+o;const c=o-(r-e);c&&(n[i++]=c)}return n[i++]=r,n.length=i,n}function gt(t,n,e){const r=(t[0]-e[0])*(n[1]-e[1]),o=(t[1]-e[1])*(n[0]-e[0]),i=r-o;let c;if(r>0){if(o<=0)return i;c=r+o}else{if(!(r<0))return i;if(o>=0)return i;c=-r-o}return Math.abs(i)>=3330669073875472e-31*c?i:function(t,n,e,r){const o=t[0]-e[0],i=n[0]-e[0],c=t[1]-e[1],s=n[1]-e[1],u=V(it(o,s),it(c,i));let f=ht(u);if(Math.abs(f)>=2220446049250315e-31*r)return f;const l=dt(t[0],e[0])[0],a=dt(n[0],e[0])[0],p=dt(t[1],e[1])[0],h=dt(n[1],e[1])[0];if(0===l&&0===p&&0===a&&0===h)return f;const d=1109335647967049e-46*r+3330669073875471e-31*Math.abs(f);if(f+=o*h+s*l-(c*a+i*p),Math.abs(f)>=d)return f;const v=B(u,V(it(l,s),it(p,i))),g=B(v,V(it(o,h),it(c,a)));let m=B(g,V(it(l,h),it(p,a)));return m=vt(m),m[m.length-1]}(t,n,e,c)}const mt=gt;function xt(t){if(4===t.length)return 0===mt(t[0],t[1],t[2])&&0===mt(t[1],t[2],t[3])&&0===mt(t[0],t[2],t[3]);if(3===t.length)return 0===mt(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}const bt=L,_t=V,It=J,Nt=Q,St=Math.abs;const Et=Math.abs,wt=Z(1);function Mt(t){const{coeffs:[[n,e,r],[o,i,c]],errorBound:[[s,u],[f,l]]}=function(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=s-n,l=r-i,a=f+3*l,p=i+n,h=p-2*r,d=r-n,v=u-e,g=o-c,m=v+3*g,x=c+e,b=x-2*o,_=o-e;return{coeffs:[[a,3*h,3*d,n],[m,3*b,3*_,e]],errorBound:[[St(f)+6*St(l)+St(a),6*(St(p)+St(h)),6*St(d),0],[St(v)+6*St(g)+St(m),6*(St(x)+St(b)),6*St(_),0]]}}(t),a=Et(n),p=Et(e),h=Et(r),d=Et(o),v=Et(i),g=Et(c),m=e*o,x=n*i,b=n*c,_=r*o,I=e*c,N=r*i,S=u*d+p*f+Et(m),E=s*v+a*l+Et(x),w=s*g+Et(b),M=h*f+Et(_),O=u*g+Et(I),T=h*l+Et(N),y=m-x,C=Et(y),P=S+E+C,A=_-b,B=Et(A),z=M+w+B,F=I-N,Y=Et(F),V=O+T+Y,k=y*y,L=y*A,$=F*y,q=A*A,X=$+q;return{coeffs:[k,L,X],errBound:[2*P*C+Et(k),P*B+C*z+Et(L),V*C+Y*P+Et($)+(2*B*z+Et(q))+Et(X)].map(t=>wt*t)}}const Ot=dt,Tt=J,yt=$,Ct=D,Pt=B;function At(t){if(4===t.length)return Bt(t);if(3===t.length)return zt(t);if(2===t.length)return Ft(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[[n]],[[e]]]}(t);throw new Error("The given bezier curve must be of order <= cubic.")}function Bt(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Pt(Ot(s,n),yt(3,Ot(r,i))),yt(3,Ct(Tt(i,n),-2*r)),yt(3,Ot(r,n)),[n]],[Pt(Ot(u,e),yt(3,Ot(o,c))),yt(3,Ct(Tt(c,e),-2*o)),yt(3,Ot(o,e)),[e]]]}function zt(t){const[[n,e],[r,o],[i,c]]=t;return[[Ct(Tt(i,n),-2*r),Ot(2*r,2*n),[n]],[Ct(Tt(c,e),-2*o),Ot(2*o,2*e),[e]]]}function Ft(t){const[[n,e],[r,o]]=t;return[[Ot(r,n),[n]],[Ot(o,e),[e]]]}const Yt=H,Vt=B,kt=V;function Lt(t){const[[n,e,r],[o,i,c]]=Bt(t),s=Yt(e,o),u=Yt(n,i),f=Yt(n,c),l=Yt(r,o),a=Yt(e,c),p=Yt(r,i),h=kt(s,u),d=kt(l,f),v=kt(a,p),g=Yt(h,h),m=Yt(h,d),x=Yt(h,v),b=Yt(d,d);return[g,m,Vt(x,b)]}const $t=Q,qt=G,Xt=V,Ht=H,Dt=$,Qt=P,Gt=A,Rt=B,Ut=D,Zt=Math.abs,jt=Z(1),Wt={order:0,realOrder:0,collinear:!0,nodeType:"n/a"},Jt={order:1,realOrder:1,collinear:!0,nodeType:"n/a"},Kt={order:1,realOrder:0,collinear:!0,nodeType:"n/a"},tn={order:2,realOrder:2,collinear:!1,nodeType:"n/a"},nn={order:2,realOrder:2,collinear:!0,nodeType:"n/a"},en={order:2,realOrder:1,collinear:!0,nodeType:"n/a"},rn={order:2,realOrder:0,collinear:!0,nodeType:"n/a"},on={order:3,realOrder:3,collinear:!1,nodeType:"crunode"},cn={order:3,realOrder:3,collinear:!1,nodeType:"acnode"},sn={order:3,realOrder:3,collinear:!1,nodeType:"cusp"},un={order:3,realOrder:3,collinear:!1,nodeType:"explicit"},fn={order:3,realOrder:3,collinear:!0,nodeType:"n/a"},ln={order:3,realOrder:2,collinear:!1,nodeType:"n/a"},an={order:3,realOrder:2,collinear:!0,nodeType:"n/a"},pn={order:3,realOrder:1,collinear:!0,nodeType:"n/a"},hn={order:3,realOrder:0,collinear:!0,nodeType:"n/a"};function dn(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push((e-r)*t[r]);return n}function vn(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+t[r];return e}const gn=vn,mn=Number.EPSILON/2,xn=Math.abs,bn=Math.max;function _n(t){const n=[];for(let e=0;e<t.length;e++)n.push(-t[e]);return n}const In=_n,Nn=function(t){return n=>1/t(function(t){return t.slice().reverse()}(n))};function Sn(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=In(t));const e=[];for(let t=0;t<n;t++)e.push(1);let r=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(t[r]<=0)continue;const c=(-t[o]/(t[r]/2**e[r]))**(1/(o-r));e[r]++,n>c&&(n=c),i=!0}i&&r<n&&(r=n)}return r}Nn(Sn);const En=(wn=Sn,t=>-wn(function(t){const n=t.length-1;if(n<0)return[];const e=t.slice();for(let t=0;t<n+1;t++)t%2==(n-1)%2&&(e[t]=-e[t]);return e}(t)));var wn;function Mn(t){let n=0;for(let e=0;e<=t.length-1&&0===t[e];e++)n++;return 0!==n&&(t=t.slice(n)),t}Nn(En);const On=dn,Tn=vn,yn=function(t,n,e,r=gn(t,n),o=gn(t,e)){let i=n,c=e,s=i,u=r,f=c-i,l=f;for(;;){xn(u)<xn(o)&&(i=c,c=s,s=i,r=o,o=u,u=r);const n=2*mn*bn(1,xn(i),xn(c)),e=.5*(s-c);if(xn(e)<=n)return c;if(xn(f)<n||xn(r)<=xn(o))f=e,l=f;else{let t,a,p=o/r;if(i===s)t=2*e*p,a=1-p;else{a=r/u;const n=o/u;t=p*(2*e*a*(a-n)-(c-i)*(n-1)),a=(a-1)*(n-1)*(p-1)}0<t?a=-a:t=-t,p=f,f=l,2*t<3*e*a-xn(n*a)&&t<xn(.5*p*a)?l=t/a:(f=e,l=f)}if(i=c,r=o,n<xn(l)?c+=l:0<e?c+=n:c-=n,0===(o=gn(t,c)))return c;o*u>0&&(s=i,u=r,f=c-i,l=f)}},Cn=En,Pn=Sn,An=Mn;function Bn(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){t=An(t);let r=0;for(;0===t[t.length-1];)t=t.slice(0,-1),r++;if(t.length<=1){const t=[];for(let n=0;n<r;n++)t.push(0);return t}n===Number.NEGATIVE_INFINITY&&(n=Cn(t)),e===Number.POSITIVE_INFINITY&&(e=Pn(t));const o=[t];for(let n=1;n<=t.length-1;n++)o.push(On(o[n-1]));let i=[];for(let r=t.length-2;r>=0;r--){const t=o[r],c=[];let s=n,u=Tn(t,s);0===u&&0===r&&c.push(n);for(let n=0;n<i.length;n++){const e=i[n],r=Tn(t,e);0===r?c.push(e):u*r<0&&c.push(yn(t,s,e,u,r)),s=e,u=r}const f=Tn(t,e);u*f<0&&c.push(yn(t,s,e,u,f)),0===f&&0===r&&c.push(e),i=c}if(r>0&&n<=0&&e>=0){const t=[];let n=!1;for(let e=0;e<i.length;e++){if(!n&&i[e]>=0){for(let n=0;n<r;n++)t.push(0);n=!0}t.push(i[e])}if(!n)for(let n=0;n<r;n++)t.push(0);return t}return i}function zn(t){if(t.length<4)return[];const[[n,e],[r,o],[i,c],[s,u]]=t,f=r-n,l=o-e,a=i-r-f,p=c-o-l,h=s-i-f-2*a,d=u-c-l-2*p;return Bn([a*d-p*h,f*d-l*h,f*p-l*a],0,1)}const{abs:Fn,PI:Yn}=Math;function Vn(t,n=[0,1]){if(t.length<=2)return 0;const[e,r]=n;if(e===r)return 0;if(3===t.length){const n=O(t,e,r).ps,[[o,i],[c,s],[u,f]]=n;return E([c-o,s-i],[u-c,f-s])}if(4===t.length){const n=C(t,e,r).ps,o=function(t){if(4===t.length)return pt(t)?function(t){if(!xt(t))return!1;const[n,e,r,o]=t,[i,c]=n,[s,u]=e,[f,l]=r,[a,p]=o,h=_t(bt(It(s/4,f/4),3),It(i/4,a/4)),d=_t(bt(It(u/4,l/4),3),It(c/4,p/4));return 0===Nt(_t(It(i/2,a/2),h))&&0===Nt(_t(It(c/2,p/2),d))}(t)?W(t)?hn:pn:xt(t)?an:ln:xt(t)?fn:function(t){const{coeffs:[n,e,r],errBound:[o,i,c]}=Mt(t);if(Zt(n)<=o){const[[n,e],[r,o],[i,c],[s,u]]=t,f=Rt(Qt(s,n),Dt(3,Qt(r,i))),l=Ut(Gt(i,n),-2*r),a=Rt(Qt(u,e),Dt(3,Qt(o,c))),p=Ut(Gt(c,e),-2*o),h=Ht(l,a),d=Ht(f,p);if(0===qt(h,d))return un}const s=e*e,u=4*n*r,f=s-u,l=2*i*Zt(e)+jt*s+(4*(o*Zt(r)+Zt(n)*c)+jt*Zt(u))+jt*Zt(f);if(f<-l)return cn;if(f>l)return on;const[a,p,h]=Lt(t),d=Xt(Ht(p,p),Dt(4,Ht(a,h))),v=$t(d);return v<0?cn:v>0?on:sn}(t);if(3===t.length)return xt(t)?rt(t)?W(t)?rn:en:nn:tn;if(2===t.length)return W(t)?Kt:Jt;if(1===t.length)return Wt;throw new Error("The given bezier curve must be of order <= 3")}(n),[[i,c],[s,u],[f,l],[a,p]]=n,h=[s-i,u-c],d=[f-s,l-u],v=[a-f,p-l];if(0===d[0]&&0===d[1]||o.realOrder<=2)return E(h,v);const g=E(h,d)+E(d,v);return"acnode"===o.nodeType||"cusp"===o.nodeType?g<=-Yn?g+2*Yn:g>=+Yn?g-2*Yn:g:g}throw new Error("The given bezier curve must be of order <= 3.")}function kn(t,n){const e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function Ln(t,n){const[e,r]=t,[[o,i],[c,s]]=n;return kn([o+e*(c-o),i+e*(s-i)],[o+r*(c-o),i+r*(s-i)])}function $n(t,n,e=16){if(n[0]===n[1])return 0;const{weights:r,abscissas:o}=qn[e],[i,c]=n;let s=0;const u=(c-i)/2,f=(c+i)/2;for(let n=0;n<=e-1;n++)s+=r[n]*t(u*o[n]+f);return u*s}const qn={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}};function Xn(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[3*(s-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(u-e+3*(o-c)),6*(c+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(c+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The bezier curve must be of order <= 3.")}function Hn(t){const[n,e]=Xn(t);return function(t){const r=vn(n,t),o=vn(e,t);return Math.sqrt(r*r+o*o)}}const{abs:Dn}=Math;function Qn(t){const n=[];for(let e=0;e<t.length-1;e++){const r=[t[e+1][0]-t[e][0],t[e+1][1]-t[e][1]];0!==(0!==r[0]||r[1])&&n.push(r)}const e=n.length;let r=0;for(let t=0;t<e-1;t++)r+=Dn(E(n[t],n[t+1]));return r}function Gn(t,n,e){if(4===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=c-n*(c-u),h=u-n*(u-l),d=p-n*(p-h),v=s-n*(s-f),g=f-n*(f-a),m=v-n*(v-g);return[e,[p,v],[d,m],[d-n*(d-(h-n*(h-(l-n*(l-i[0]))))),m-n*(m-(g-n*(g-(a-n*(a-i[1])))))]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=c-n*(c-u),h=u-n*(u-l),d=l-n*(l-i[0]),v=p-n*(p-h),g=h-n*(h-d),m=s-n*(s-f),x=f-n*(f-a),b=a-n*(a-i[1]),_=m-n*(m-x),I=x-n*(x-b);return[[v-n*(v-g),_-n*(_-I)],[g,I],[d,b],i]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],a=i[0],p=i[1],h=n*n,d=n*h,v=e*e,g=e*v,m=n*e,x=s-f,b=a-f,_=x+b,I=n*x,N=e*x,S=c[0]-s-3*b,E=u-l,w=p-l,M=E+w,O=n*E,T=e*E,y=c[1]-u-3*w;return[[d*S+(3*n*(n*_-x)+s),d*y+(3*n*(n*M-E)+u)],[m*(n*S+2*_)+(h*_+s-(N+2*I)),m*(n*y+2*M)+(h*M+u-(T+2*O))],[m*(e*S+2*_)+(v*_+s-(2*N+I)),m*(e*y+2*M)+(v*M+u-(2*T+O))],[g*S+(3*e*(e*_-x)+s),g*y+(3*e*(e*M-E)+u)]]}(t,n,e)}(t,n,e);if(3===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=n*n,l=i-s,a=c-u;return[e,[-n*l+i,-n*a+c],[f*(l+(o[0]-s))-(2*n*l-i),f*(a+(o[1]-u))-(2*n*a-c)]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=n*n,l=i-s,a=o[0]-s,p=c-u,h=o[1]-u;return[[f*(l+a)-(2*n*l-i),f*(p+h)-(2*n*p-c)],[n*a+s,n*h+u],o]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=n*n,a=e*e,p=n*e,h=c-u,d=h+(i[0]-u),v=s-f,g=v+(i[1]-f);return[[l*d-(2*n*h-c),l*g-(2*n*v-s)],[p*d-(h*(e+n)-c),p*g-(v*(e+n)-s)],[a*d-(2*e*h-c),a*g-(2*e*v-s)]]}(t,n,e)}(t,n,e);if(2===t.length)return function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1];return[e,[n*(r[0]-o)+o,n*(r[1]-i)+i]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1];return[[n*(r[0]-o)+o,n*(r[1]-i)+i],r]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1];return[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]]}(t,n,e)}(t,n,e);if(1===t.length)return t;throw new Error("The given bezier curve must be of order <= 3.")}function Rn(t,n=.4,e=2**-16){const r={r:[0,1]};let o=r;for(;void 0!==o;){const r=o.r;if(Qn(Gn(t,r[0],r[1]))<=n||r[1]-r[0]<=e){o=o.next;continue}const i=(r[0]+r[1])/2,c=[r[0],i],s=[i,r[1]];o.r=c,o.next={r:s,next:o.next}}o=r;const i=[];for(;void 0!==o;)i.push(o.r[0]),void 0===o.next&&i.push(o.r[1]),o=o.next;return i}function Un(t,n,e=.4,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[c,s],[u,f],[l,a]]=n;if(c===u&&u===l&&s===f&&f===a)return 0;const p=O(n,o,i).ps,h=Rn(p,e);let d=0;for(let t=0;t<h.length-1;t++){const n=h[t],e=h[t+1];d+=$n(Hn(p),[n,e],r)}return d}function Zn(t,n,e=.4,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[c,s],[u,f],[l,a],[p,h]]=n;if(c===u&&u===l&&l===p&&s===f&&f===a&&a===h)return 0;const d=C(n,o,i).ps,v=Rn(d,e);let g=0;for(let t=0;t<v.length-1;t++){const n=v[t],e=v[t+1];g+=$n(Hn(d),[n,e],r)}return g}function jn(t,n=.4,e=16){if(4===t.length)return Zn([0,1],t,n,e);if(3===t.length)return Un([0,1],t,n,e);if(2===t.length)return Ln([0,1],t);if(1===t.length)return 0;throw new Error("The given bezier curve must be of order <= 3.")}function Wn(t){const n=new WeakMap;return function(e){let r=n.get(e);return void 0!==r||(r=t(e),n.set(e,r)),r}}function Jn(t,n){const[[e,r],[o,i]]=t,[[c,s],[u,f]]=n,l=o-e,a=i-r,p=u-c,h=f-s,d=p*a-h*l;if(0===d)return;const v=((s-r)*l-(c-e)*a)/d;return[c+v*p,s+v*h]}function Kn(t,n){return[n[0]-t[0],n[1]-t[1]]}function te(t,n){return t[0]*n[0]+t[1]*n[1]}function ne(t){return[-t[1],t[0]]}function ee(t,n){return t[0]*n[1]-t[1]*n[0]}function re(t,n,e){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e]}function oe(t,n){function e(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?e:e(n)}function ie(t){const n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]*n,t[1]*n]}function ce(t,n,e){function r(e){return[e[0]*n-e[1]*t,e[0]*t+e[1]*n]}return void 0===e?r:r(e)}function se(t,n){const[e,r]=Xn(t);return[vn(e,n),vn(r,n)]}const ue=dt,fe=$;function le(t){if(4===t.length){const[[n,e],[r,o]]=t;return[fe(3,ue(r,n)),fe(3,ue(o,e))]}if(3===t.length){const[[n,e],[r,o]]=t;return[ue(2*r,2*n),ue(2*o,2*e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[ue(r,n),ue(o,e)]}if(1===t.length)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const ae=J,pe=$,he=D;function de(t){if(4===t.length){const[[n,e],[r,o],[i,c]]=t;return[pe(6,he(ae(i,n),-2*r)),pe(6,he(ae(c,e),-2*o))]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[he(ae(2*i,2*n),-4*r),he(ae(2*c,2*e),-4*o)]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3")}const ve=dt,ge=$,me=B;function xe(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[ge(6,me(ve(s,n),ge(3,ve(r,i))))],[ge(6,me(ve(u,e),ge(3,ve(o,c))))]]}if(t.length<=3)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}const{sign:be}=Math;function _e(t,n){const[e,r]=le(t),[o,i]=de(t),[c,s]=le(n),[u,f]=de(n),l=V(H(e,i),H(r,o)),a=V(H(c,f),H(s,u)),p=Q(l),h=Q(a);if(be(p)!==be(h))return p-h;const d=B(H(c,c),H(s,s)),v=B(H(e,e),H(r,r)),g=H(d,d),m=H(g,d),x=H(v,v),b=H(x,v);if(0!==p||0!==h){const t=H(l,l),n=H(a,a),e=Q(V(H(t,m),H(n,b)));if(0!==e)return p>0?e:-e}const[[_],[I]]=xe(t),[[N],[S]]=xe(n),E=V(H(e,I),H(r,_)),w=B(H(e,o),H(r,i)),M=V(H(c,S),H(s,N)),O=B(H(c,u),H(s,f)),T=V(H(v,E),L(H(l,w),3)),y=V(H(d,M),L(H(a,O),3)),C=Q(T),P=Q(y);if(C!==P)return C-P;if(0===C&&0===P)return 0;const A=H(T,T),z=H(g,m),F=H(y,y),Y=H(x,b),k=Q(V(H(A,z),H(F,Y)));return C>0?k:-k}function Ie(t,n){return t[0]===n[0]&&t[1]===n[1]}function Ne(t,n){const{ccw:e,tangentI:r,tangentO:o,dotTangents:i}=function(t,n){const e=t.length;let r=t[e-2],o=n[0],i=n[1];Ie(r,o)&&(r=t[e-3]),Ie(o,i)&&(i=n[2]);const c=function(t,n,e){const r=dt(t[0],e[0]),o=dt(n[1],e[1]),i=dt(t[1],e[1]),c=dt(n[0],e[0]);return ht(B(H(r,o),z(H(i,c))))}(r,o,i),s=[dt(o[0],r[0]),dt(o[1],r[1])],u=[dt(i[0],o[0]),dt(i[1],o[1])],f=function(t,n){return ht(B(H(t[0],n[0]),H(t[1],n[1])))}(s,u);return 0!==c||f>0?{ccw:c,tangentI:s,tangentO:u,dotTangents:f}:{ccw:_e(t.slice().reverse(),n),tangentI:s,tangentO:u,dotTangents:f}}(t,n),c=e<0,s=e>0,u=[ie(r.map(t=>t[1])),ie(o.map(t=>t[1]))],f=ee(u[0],u[1]);let l,a;return i>0?(l=f<-.0698,a=f>.0698):(l=c,a=s),{tangents:u,isSharp:c,isDull:s,isQuiteSharp:l,isQuiteDull:a}}function Se(t){return Ne(1===t.t?t.curve.ps:t.curve.prev.ps,1===t.t?t.curve.next.ps:t.curve.ps)}function Ee(t){return 0===t.t||1===t.t}const we=Wn(t=>!!Ee(t)&&Se(t).isSharp);function Me(t){const n=t.cp.circle.center,e=t,r=t.nextOnCircle,o=e.cp.pointOnShape,i=r.cp.pointOnShape,c=o.p,s=i.p;let u;if(we(o)){let t,n;0===o.t?(t=o.curve,n=o.curve.prev):1===o.t&&(t=o.curve.next,n=o.curve);const e=ie(se(t.ps,0)),r=[-(f=ie(se(n.ps,1)))[0],-f[1]],i=te(e,r),c=Math.sqrt((1+i)/2);u=ce(Math.sqrt((1-i)/2),c,r)}else u=c[0]===s[0]&&c[1]===s[1]?Kn(c,n):ne(Kn(c,s));var f;return[n,oe(ie(u),n)]}const Oe=1e-4;function Te(t,n){const e=t.cp.circle.center,r=Me(t),o=n.cp.circle.center,i=Me(n.prevOnCircle),c=Jn(r,i),s=Kn(e,o);let u;if(c){const t=Kn(e,c),n=Kn(o,c);u=te(t,s)<0||te(n,s)>0}else u=!0;if(!u)return[e,c,o];const f=ne(s),l=Kn(r[0],r[1]),a=Kn(i[0],i[1]),p=Math.abs(ee(s,l))/9,h=Math.abs(ee(s,a))/9;if(p>.01||h>.01)return[e,o];if(p>Oe||h>Oe){const t=re(e,o,1/3),n=re(e,o,2/3),c=oe(f,t),s=[n,oe(f,n)];return[e,Jn(r,[t,c]),Jn(i,s),o]}return[e,o]}function ye(t){return Te(t,t.next)}const Ce=Wn(ye);function Pe(t,n=!1){const e=t;let r=e;const o=[];do{n&&r===e||o.push(r),r=r.nextOnCircle}while(r!==e);return o}function Ae(t){return t===t.next.prevOnCircle}function Be(t){return Pe(t).filter(t=>!Ae(t)).length}const{min:ze,abs:Fe}=Math;function Ye(t){if(2!==Be(t))return 0;const{radius:n}=t.cp.circle,e=ye(t),r=function(t,n=[0,1]){if(t.length<=3)return Fn(Vn(t,n));if(4===t.length){const[e,r]=n;if(e===r)return 0;const o=C(t,e,r).ps,i=[0,...zn(o),1];let c=0;for(let t=0;t<i.length-1;t++)c+=Fn(Vn(o,[i[t],i[t+1]]));return c}throw new Error("The given bezier curve must be of order <= 3.")}(e,[0,1]);return 0!==jn(e)?r*n:void 0}Wn(Ye);const Ve=Wn(Vn),ke=Wn(jn);function Le(t){return Pe(t.prevOnCircle,!0).every(Ae)}const $e=function(){const t=new Map;return function(n){let e=t.get(n);return void 0!==e||(r=n,e=Wn(function(t){let n=t,e=0,o=0,i=n.prev,c=n,s=0,u=0,f=0,l=0;for(;l<r/2/40&&c!==n.prev&&!Le(c)&&Be(c)<=2;){const{radius:t}=c.cp.circle,n=Ce(c),e=Ve(n);let r=0;const i=ke(Ce(c));u+=t*(e+r),o+=i,l+=i/t,c=c.next}for(;f<r/2/40&&i!==n&&!Le(i)&&Be(i)<=2;){const{radius:t}=i.cp.circle,n=Ce(i),r=Ve(n);let o=0;const c=ke(Ce(i));s+=t*(r+o),e+=c,f+=c/t,i=i.prev}const a=e+o;if(0!==a)return-(s+u)/a}),t.set(n,e)),e;var r}}();function qe(t){const n=t.cp,e=n.pointOnShape;return{idx:e.curve.idx,t:e.t,order:n.order,order2:n.order2}}function Xe(t){const n=t;let e=n,r=0;do{r++,e=e.nextOnCircle}while(e!==n);return r}function He(t){return 0===t.cp.circle.radius}function De(t){let n=t;if(Ae(n))return[n];const e=[];do{e.push(n);const t=n.next.prevOnCircle;n=n=n===t?n.next.next:t}while(n!==t);return e}function Qe(t,n){const e=v(t),r=new Set;for(t of e)Ae(t)||r.has(t.next.prevOnCircle)||n(t),r.add(t)}function Ge(t){const n=[],e=t;let r=e;for(;r!==e.prevOnCircle;)Ae(r)||n.push(r.next),r=r.nextOnCircle;return n}function Re(t,n){n(t);const e=Pe(t).filter(t=>!Ae(t)).map(t=>t.next);for(const t of e){const e=[t];for(;e.length;){const t=e.pop();n(t),e.push(...Ge(t))}}}const Ue=["prev","next","prevOnCircle","nextOnCircle"];function Ze(t){const n=new Map,e=je(t);n.set(t,e);const r=[{cpNode:t,newCpNode:e}];for(;r.length;){const{cpNode:t,newCpNode:e}=r.pop();for(const o of Ue){const i=t[o];let c=n.get(i);c||(c=je(i),n.set(i,c),r.push({cpNode:i,newCpNode:c})),e[o]=c}}return e}function je(t){return{...t,prev:void 0,next:void 0,prevOnCircle:void 0,nextOnCircle:void 0}}function We(t){const n=t,e=t.next,r=n.cp.pointOnShape,o=e.cp.pointOnShape,i=r.curve,c=o.curve;if(i.loop!==c.loop)return[];const s=[];return c===i?s.push(Gn(r.curve.ps,r.t,o.t)):(s.push(Gn(r.curve.ps,r.t,1)),function(t,n,e,r){let o=n;do{o=o.next;const n=o===e?r:1;t.push(Gn(o.ps,0,n))}while(o!==e)}(s,r.curve,o.curve,o.t)),s}function Je(t,n){const e=t.prev,r=t.next;e.next=r,r.prev=e,n.get(t.cp.pointOnShape.curve.loop).remove(t,!1)}function Ke(t,n){const e=Xe(t);if(2!==e)throw new Error(`Cannot delete \`CpNode\` on ${e}-prong`);Pe(t).forEach(t=>Je(t,n))}function tr(t,n){return Pe(t).indexOf(n)>=0}function nr(t){if(function(t){return Pe(t).every(Ae)}(t))return[];for(;Ae(t);)t=t.nextOnCircle;for(t=t.next;2===Be(t);)t=t.next;t=t.prevOnCircle;const n=[];do{n.push(t),t=t.next}while(!Le(t)&&2===Be(t));return n}function er(t,n,e=!0){const r=function(t,n,e=!0){if(!e&&t===n)return{cpNodes:[],hasHoleCloser:!1};const r=t,o=[r];let i=t.next,c=r.isHoleClosing;for(;i!==n&&i!==r;)i.isHoleClosing&&(c=!0),o.push(i),i=i.next;return{cpNodes:o,hasHoleCloser:c}}(t,n,e);return{pss:(o=r.cpNodes,o.flatMap(We)),hasHoleCloser:r.hasHoleCloser};var o}const rr={getChildren:function(t){const n=[],e=t.next;let r=e;do{n.push(r),r=r.nextOnCircle}while(r.nextOnCircle!==e);return n},getVertexForwardChildren:Ge,getAllOnLoop:v,getAllOnCircle:Pe,isOnSameCircle:tr,isTerminating:Ae,isFullyTerminating:Le,getFirstExit:function(t){const n=t;let e=n;for(;e.next===e.prevOnCircle;)if(e=e.next,e===n)return;return e},isSharp:He,isOneProng:function(t){const n=t;if(0===n.cp.circle.radius)return!0;const e=n.nextOnCircle,r=n.cp.pointOnShape.p,o=e.cp.pointOnShape.p;return r[0]===o[0]&&r[1]===o[1]},getProngCount:Xe,getRealProngCount:Be,cpNodeComparator:(t,n)=>d(t.cp,n.cp),enhanceCpNode:function(t){const n=t.cp.pointOnShape.curve;return{...t,pos:t.cp.pointOnShape,p:t.cp.pointOnShape.p,t:t.cp.pointOnShape.t,isTerminating:Ae(t),isFullyTerminating:Le(t),isSharp:He(t),prongCount:Xe(t),getRealProngCount:Be(t),ordering:qe(t),curve:n,loop:n.loop}},traverseCp:De,traverseEdges:Qe,traverseVertices:Re,clone:Ze,getBoundaryBezierPartsToNext:function(t){const n=t,e=t.next,r=n.cp.pointOnShape,o=e.cp.pointOnShape,i=r.curve,c=o.curve;if(i.loop!==c.loop)return;const s=[];return c===i?s.push({ps:r.curve.ps,ts:[r.t,o.t]}):(s.push({ps:r.curve.ps,ts:[r.t,1]}),function(t,n,e,r){let o=n;do{o=o.next;const n=o===e?{ps:o.ps,ts:[0,r]}:{ps:o.ps,ts:[0,1]};t.push(n)}while(o!==e)}(s,r.curve,o.curve,o.t)),s},getBoundaryBeziersToNext:We,removeVertex:Ke,getMatCurveToNext:ye,isTwoProng:function(t){return 2===Be(t)},getBranch:nr,getBranchBeziers:function(t){return nr(t).map(t=>ye(t))},getSalience:function(t){const n=t,e=t.nextOnCircle,r=kn(n.cp.pointOnShape.p,e.cp.pointOnShape.p),{pss:o,hasHoleCloser:i}=er(n,e),c=function(t){let n=0;for(let e of t)n+=e;return n}(o.map(t=>jn(t)));return i?Number.POSITIVE_INFINITY:c/r},getMatCurveBetween:Te,getEdgeDirection:Me,getBoundaryBeziersBetween:er,getMatCurvesBetween:function(t,n){let e=t;const r=[];for(;e!==n;){const t=Te(e,e.next);r.push(t),e=e.next}return r},getHoleClosers:function(t){return v(t).filter(t=>t.isHoleClosing)},getSpeed:Ye,getSmoothedSpeed$:$e,getInitialDegAngleBetweenMatCurves:function(t,n){const e=ee(ie(se(ye(t),0)),ie(se(ye(n),0)));return Math.abs(Math.asin(e)*(180/Math.PI))},getAllVertices:function(t){const n=[];return Re(t,t=>{n.push(t)}),n}};function or(t){return n=>Pe(n).some(t)}const ir=or(function(t){return 2!==Be(t)&&!t.isHoleClosing}),cr=2**27+1;function sr(t,n){const e=t[1],r=n[1],o=e*r,i=cr*e,c=i-(i-e),s=e-c,u=cr*r,f=u-(u-r),l=r-f,a=s*l-(o-c*f-s*f-c*l)+(e*n[0]+t[0]*r),p=o+a;return[a-(p-o),p]}function ur(t,n){const e=t[0],r=t[1],o=r+n,i=o-r,c=e+(r-(o-i)+(n-i)),s=o+c;return[c-(s-o),s]}const fr=sr,lr=x,ar=b,pr=P,hr=ur;function dr(t,n){if(0===n[0]&&0===n[1])return t[0].map(t=>[0,t]);if(0===n[0]&&1===n[1])return t[t.length-1].map(t=>[0,t]);if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=hr(fr(pr(o,e),n),e),a=hr(fr(pr(c,o),n),o),p=hr(fr(pr(u,c),n),c),h=lr(l,fr(ar(a,l),n)),d=lr(a,fr(ar(p,a),n)),v=lr(h,fr(ar(d,h),n)),g=hr(fr(pr(i,r),n),r),m=hr(fr(pr(s,i),n),i),x=hr(fr(pr(f,s),n),s),b=lr(g,fr(ar(m,g),n)),_=lr(m,fr(ar(x,m),n));return[v,lr(b,fr(ar(_,b),n))]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=lr([0,e],fr(pr(o,e),n)),f=lr([0,o],fr(pr(c,o),n)),l=lr(u,fr(ar(f,u),n)),a=lr([0,r],fr(pr(i,r),n)),p=lr([0,i],fr(pr(s,i),n));return[l,lr(a,fr(ar(p,a),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[hr(fr(pr(o,e),n),e),hr(fr(pr(i,r),n),r)]}if(1===t.length){const[n,e]=t[0];return[[0,n],[0,e]]}throw new Error("The given bezier curve must be of order <= 3.")}function vr(t,n,e){return{curve:t,t:n,p:dr(t.ps,[0,n]).map(t=>t[1]),isSource:void 0!==e&&e}}function gr(t,n){const e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}const mr=Number.EPSILON/2,xr=mr*mr,br=134217729;function _r(t,n){const e=n[0],r=n[1],o=r*t,i=br*r,c=i-(i-r),s=r-c,u=br*t,f=u-(u-t),l=t-f,a=e*t,p=o+a,h=a-(p-o)+(s*l-(o-c*f-s*f-c*l)),d=p+h;return[h-(d-p),d]}function Ir(t,n){const e=n[0],r=n[1],o=r*t,i=br*r,c=i-(i-r),s=r-c,u=br*t,f=u-(u-t),l=t-f,a=s*l-(o-c*f-s*f-c*l)+e*t,p=o+a;return[a-(p-o),p]}const Nr=Ir,Sr=ht,Er=function(){const t=3*xr;return t/(1-t)}(),wr=L,Mr=J,Or=it,Tr=Math.abs,yr=Number.EPSILON/2;function Cr(t,n){let e=t[0],r=.5*Tr(e);for(let o=1;o<t.length;o++)e=e*n+t[o],r=r*Tr(n)+Tr(e);return r=yr*(2*r-Tr(e)),[e,r]}const Pr=Math.abs,Ar=function(t){const n=t*mr;return n/(1-n)},Br=Cr,zr=vn,Fr=Ar(1),Yr=Ar(2);function Vr(t,n,e=void 0,r=1){const o=Math.abs(n),i=t[0],[c,s]=Br(i,n),u=Yr*function(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+Pr(t[r]);return e}(i,o),f=void 0!==e?zr(e,o):0;if((s+u+f)*r<Math.abs(c))return c;const l=function(t,n){const e=[],r=[];let o,i=t[0];for(let c=1;c<t.length;c++){const[s,u]=Or(i,n);[o,i]=Mr(u,t[c]),e.push(s),r.push(o)}return{r̂:i,pπ:e,pσ:r}}(i,n),{pπ:a,pσ:p}=l;let{r̂:h}=l;const[d,v]=Br(a,n),[g,m]=Br(p,n),[x,b]=Br(t[1],n);let _=v+m+b+f;return h=d+g+x+h,_+=Fr*h,_*r<Math.abs(h)?h:0}const kr=B,Lr=L;function $r(t,n){let e=[0];for(let r=0;r<t.length;r++)e=kr(t[r],Lr(e,n));return e}const qr=Vr,Xr=$r,Hr=ht,Dr=Vr,Qr=$r,Gr=ht,Rr=Number.EPSILON,Ur=Math.abs,Zr=Math.max,jr=function(t){const{p:n,pE:e}=t,r=[],o=[],i=n.length-1;for(let t=0;t<i;t++){const c=i-t,s=Nr(c,n[t]);r.push(s);const u=c&c-1?Er:0,f=Sr(s);o.push(c*e[t]+Math.abs(f)*u)}return{p:r,pE:o}},Wr=Vr,Jr=$r,Kr=function(t){const n=t[0].length,e=[];for(let r=0;r<n;r++){const o=[];for(let e=0;e<t.length;e++)o.push(t[e][n-(r+1)]);e.push(o)}return e},to=function(t,n,e,r){const o=qr(t,e,n,4);return 0!==o?o:Hr(Xr(r(),e))},no=function(t,n,e,r,o,i,c,s){let u=e,f=r,l=u,a=o,p=f-u,h=p;for(;;){let d;Ur(a)<Ur(i)&&(u=f,f=l,l=u,o=i,i=a,a=o);const v=Zr(Ur(u),Ur(f));d=v<=1?Rr:Rr*2**Math.ceil(Math.log2(v));const g=.5*(l-f);if(Ur(g)<=d)return f<l?[f,l]:[l,f];if(Ur(p)<d||Ur(o)<=Ur(i))p=g,h=p;else{let t,n,e=i/o;if(u===l)t=2*g*e,n=1-e;else{n=o/a;const r=i/a;t=e*(2*g*n*(n-r)-(f-u)*(r-1)),n=(n-1)*(r-1)*(e-1)}0<t?n=-n:t=-t,e=p,p=h,2*t<3*g*n-Ur(d*n)&&t<Ur(.5*e*n)?h=t/n:(p=g,h=p)}if(u=f,o=i,d<Ur(h)?f+=h:0<g?f+=d:f-=d,0===(i=s?Gr(Qr(c(),f)):Dr(t,f,n))){if(s)return[f,f];const o=Math.max(e,f-d),u=Math.min(r,f+d);if(Dr(t,o,n)*Dr(t,u,n)!==0)return[o,u];if(s=!0,0===(i=Gr(Qr(c(),f))))return[f,f]}(0<i&&0<a||i<=0&&a<=0)&&(l=u,a=o,p=f-u,h=p)}},eo=En,ro=Sn,oo=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(wr(t[r],e-r));return n},io=ht,co=Cr,so=Q,uo=Math.max,fo=Math.min,lo=Math.abs,ao=1+Number.EPSILON;function po(t,n=0,e=1,r,o,i){o||(o=()=>t),r=r||new Array(t.length).fill(0);let c,s,u=0;for(;t.length>0&&lo(t[0][1])<=r[0]&&(s=s||o(),0===so(s[0]));)(t=t.slice()).shift(),(r=r.slice()).shift(),s.shift();if(0===t.length)return i?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY){const r=t.map(t=>t[1]);n===Number.NEGATIVE_INFINITY&&(n=eo(r)),e===Number.POSITIVE_INFINITY&&(e=ro(r))}const f=Kr(t);let l,a;const p=t.length-1;let h,d;l=0,a=!1;do{if(h=a?io(Jr(_(),n)):Wr(f,n,r),0===h){if(l++,l>=3&&!a){a=!0;continue}n-=2*Number.EPSILON*uo(1,lo(n))}}while(0===h);l=0,a=!1;do{if(d=a?io(Jr(_(),e)):Wr(f,e,r),0===d){if(l++,l>=3&&!a){a=!0;continue}e+=2*Number.EPSILON*uo(1,lo(e))}}while(0===d);const v=[{p:t,pE:r}],g=[Kr(t)];for(let t=1;t<=p;t++){const n=jr(v[t-1]);v.push(n),g.push(Kr(n.p))}let m,x,b=[];for(u=p-1;u>=0;u--)m=v[u].pE,x=g[u],b=I();function _(){if(void 0!==c)return c[u];let t=s||o();for(c=[t];t.length>1;)t=oo(t),c.push(t);return c[u]}return b;function I(){const t=[],r=to(x,m,n,_);if(!b.length){const t=to(x,m,e,_);if(r*t>=0)return[];const[o,i]=no(x,m,n,e,r,t,_);return[{tS:o,tE:i,multiplicity:1}]}let o=b[0].tS,i=to(x,m,o,_);if(r*i>0);else if(r*i<0){const[e,c]=no(x,m,n,o,r,i,_);t.push({tS:e,tE:c,multiplicity:1})}let c,s=n,f=r,l=o,a=i;for(let n=0;n<b.length;n++){const r=b[n+1];c=b[n],o=l,s=b[n].tE,l=r?r.tS:e;const u=f;if(i=a,f=to(x,m,s,_),a=to(x,m,l,_),i*f>0)if(f*a>0)s!==o&&c.multiplicity%2==1&&h();else if(f*a<0){s!==o&&c.multiplicity%2==1&&h();const[n,e]=no(x,m,s,l,f,a,_);t.push({tS:n,tE:e,multiplicity:1})}else s!==o&&c.multiplicity%2==1&&h();else if(i*f<0){if(t.push({tS:c.tS,tE:c.tE,multiplicity:3}),f*a<0){const[n,e]=no(x,m,s,l,f,a,_);t.push({tS:n,tE:e,multiplicity:1})}}else if(0===f)0===i?t.push({tS:c.tS,tE:c.tE,multiplicity:c.multiplicity+1}):i*a>0?t.push({tS:c.tS,tE:c.tE,multiplicity:2}):t.push({tS:c.tS,tE:c.tE,multiplicity:3});else{if(f*a<0){const[n,e]=no(x,m,s,l,f,a,_);t.push({tS:n,tE:e,multiplicity:1})}u*f>0?t.push({tS:c.tS,tE:c.tE,multiplicity:2}):t.push({tS:c.tS,tE:c.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const e=t[n],r=t[n+1];if(e.tE>=r.tS)return ho(t)}return t;function h(){const n=(s-o)*ao;let e=1,r=0;for(let t=u+2;t<=p;t++){const i=g[t][0],c=co(i,o);r+=(lo(c[0])+c[1])*e,e*=n*ao}const l=f>0?fo(i,f):uo(i,f),a=2*Number.EPSILON*uo(1,lo(s)),h=r*(2*a);(l+(f>0?2*-h*a:2*h*a))*f<0&&t.push({tS:c.tS,tE:c.tE,multiplicity:2})}}}function ho(t){const n=[],e=t[0];let r={tS:e.tS,tE:e.tE,multiplicity:e.multiplicity};for(let e=0;e<t.length-1;e++){const o=t[e],i=t[e+1];o.tE<i.tS?(n.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return n.push(r),n}function vo(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){return po(t.map(t=>[0,t]),n,e,void 0,void 0,r)}function go(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=e+(o-e)*n,a=o+(c-o)*n,p=l+(a-l)*n,h=r+(i-r)*n,d=i+(s-i)*n,v=h+(d-h)*n;return[p+(a+(c+(u-c)*n-a)*n-p)*n,v+(d+(s+(f-s)*n-d)*n-v)*n]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=e+(o-e)*n,f=r+(i-r)*n;return[u+(o+(c-o)*n-u)*n,f+(i+(s-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve must be of order <= 3.")}const mo=Math.abs;function xo(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=mo(n[1]);if(4===t.length){const[[n,r],[o,i],[c,s],[u,f]]=t,l=mo(n),a=mo(r),p=mo(o),h=mo(i),d=mo(c),v=mo(s),g=l+(p+l)*e,m=p+(d+p)*e,x=g+(m+g)*e,b=a+(h+a)*e,_=h+(v+h)*e,I=b+(_+b)*e;return[x+(m+(d+(mo(u)+d)*e+m)*e+x)*e,I+(_+(v+(mo(f)+v)*e+_)*e+I)*e]}if(3===t.length){const[[n,r],[o,i],[c,s]]=t,u=mo(n),f=mo(r),l=mo(o),a=mo(i),p=u+(l+u)*e,h=f+(a+f)*e;return[p+(l+(mo(c)+l)*e+p)*e,h+(a+(mo(s)+a)*e+h)*e]}if(2===t.length){const[[n,r],[o,i]]=t,c=mo(n),s=mo(r);return[c+(mo(o)+c)*e,s+(mo(i)+s)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}const bo=Math.abs,_o=[[0,0],[0,0]];const Io=Number.EPSILON/2,No=Z(1);function So(t,n){return n[0]!==n[1]?4===t.length?function(t,n){const{ps:e,_ps:r}=C(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=e[3][0],u=9*Io*r[0][0],f=9*Io*r[1][0],l=9*Io*r[2][0],a=9*Io*r[3][0],p=e[0][1],h=e[1][1],d=e[2][1],v=e[3][1],g=9*Io*r[0][1],m=9*Io*r[1][1],x=9*Io*r[2][1],b=9*Io*r[3][1],_=Math.min(o-u,i-f,c-l,s-a),I=Math.max(o+u,i+f,c+l,s+a);return[[_,Math.min(p-g,h-m,d-x,v-b)],[I,Math.max(p+g,h+m,d+x,v+b)]]}(t,n):3===t.length?function(t,n){const{ps:e,_ps:r}=O(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=5*Io*r[0][0],u=5*Io*r[1][0],f=5*Io*r[2][0],l=e[0][1],a=e[1][1],p=e[2][1],h=5*Io*r[0][1],d=5*Io*r[1][1],v=5*Io*r[2][1],g=Math.min(o-s,i-u,c-f),m=Math.max(o+s,i+u,c+f);return[[g,Math.min(l-h,a-d,p-v)],[m,Math.max(l+h,a+d,p+v)]]}(t,n):function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:_o}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[o,i],[n*(c-o)+o,n*(s-i)+i]],f=bo(n),l=bo(o),a=bo(c),p=bo(i);return{ps:u,_ps:[[0,0],[f*(a+l)+l,f*(bo(s)+p)+p]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[n*(c-o)+o,n*(s-i)+i],[c,s]],f=bo(n),l=bo(o),a=bo(c),p=bo(i);return{ps:u,_ps:[[f*(a+l)+l,f*(bo(s)+p)+p],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1],f=[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]],l=bo(n),a=bo(e),p=bo(i),h=bo(s),d=bo(c),v=bo(u);return{ps:f,_ps:[[l*(h+p)+p,l*(v+d)+d],[a*(h+p)+p,a*(v+d)+d]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=3*Io*r[0][0],s=3*Io*r[1][0],u=e[0][1],f=e[1][1],l=3*Io*r[0][1],a=3*Io*r[1][1],p=Math.min(o-c,i-s),h=Math.max(o+c,i+s);return[[p,Math.min(u-l,f-a)],[h,Math.max(u+l,f+a)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=go(t,n);let i;if(4===t.length)i=xo(t,[0,n]).map(t=>8*No*t);else if(3===t.length)i=xo(t,[0,n]).map(t=>5*No*t);else if(2===t.length)i=xo(t,[0,n]).map(t=>2*No*t);else if(1===t.length)return[o,o];return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}function Eo(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=Xn(t),c=vo(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=So(t,i);s[0][1]<r.box[0][1]&&(r={ts:i,box:s}),s[1][1]>o.box[0][1]&&(o={ts:i,box:s})}return{minY:r,maxY:o}}function wo(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=Xn(t),c=vo(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=So(t,i);s[0][0]<r.box[0][0]&&(r={ts:i,box:s}),s[1][0]>o.box[0][0]&&(o={ts:i,box:s})}return{minX:r,maxX:o}}(t),e=Eo(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}function Mo(t){let n=0;for(let e=0;e<t.length-1;e++)n+=kn(t[e],t[e+1]);return n}function Oo(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,c;const s=Mo(t);if(256*gr(t[0],t[t.length-1])<s*s){const[r,o]=go(t,.5),s=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/s,c=(r-n)/s}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,c=(r-n)/t}const u=function(t,n,e){const r=oe(t[0].map(t=>-t));return wo(t.map(t=>ce(-n,e,r(t))))}(t,i,c),[[f,l],[a,p]]=u,h=[u[0],[a,l],u[1],[f,p]],d=ce(i,c);return h.map(n=>oe(t[0],d(n)))}function To(t,n,e){const r=n[0]-t[0],o=n[1]-t[1];return r*(e[0]-n[0])+o*(e[1]-n[1])}const yo=function(t,n){if(0===t.length)return;const e=t.slice(),r=function(t){let n,e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<t.length;r++){const o=t[r][1];(o<e[1]||o===e[1]&&t[r][0]<e[0])&&(n=r,e=t[r])}return n}(e),[o]=e.splice(r,1);e.sort((t,n)=>{let e=-gt(o,t,n);return 0!==e?e:(e=t[1]-n[1],0!==e?e:t[0]-n[0])}),e.unshift(o);const i=function(t){const n=[t[0]],e=t.length;for(let r=1;r<t.length;r++){const o=t[(r+e-1)%e],i=t[r];o[0]===i[0]&&o[1]===i[1]||n.push(i)}return n}(e),c=[];for(const t of i){for(;c.length>=2&&gt(c[c.length-2],c[c.length-1],t)<0;)c.pop();c.push(t)}if(n||c.length<3)return c;const s=[];{const t=c.length;for(let n=0;n<t;n++){const e=(n+1)%t,r=c[(n+t-1)%t],o=c[n],i=c[e];(0!==gt(r,o,i)||To(r,o,i)<0)&&s.push(o)}}return s};function Co(t){return(t.tS+t.tE)/2}function Po(t){const n=t[0],e=t[1];return[(n[0]+e[0])/2,(n[1]+e[1])/2]}const Ao=ht,Bo=dt,zo=H,Fo=B,Yo=Number.EPSILON;function Vo(t){return[2*t[0],2*t[1]]}function ko(t){return[4*t[0],4*t[1]]}const Lo=P,$o=x,qo=Ir,Xo=sr,Ho=Vo,Do=ko,Qo=b;function Go(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=i[0],h=i[1],[d,v]=n,g=Lo(c,d),m=Lo(u,d),x=Lo(l,d),b=Lo(p,d),_=Lo(s,v),I=Lo(f,v),N=Lo(a,v),S=Lo(h,v),E=Xo(g,g),w=qo(6,Xo(g,m)),M=qo(6,Xo(g,x)),O=Ho(Xo(g,b)),T=qo(9,Xo(m,m)),y=qo(18,Xo(m,x)),C=qo(6,Xo(m,b)),P=qo(9,Xo(x,x)),A=qo(6,Xo(x,b)),B=Xo(b,b),z=Xo(_,_),F=qo(6,Xo(_,I)),Y=qo(6,Xo(_,N)),V=Ho(Xo(_,S)),k=qo(9,Xo(I,I)),L=qo(18,Xo(I,N)),$=qo(6,Xo(I,S)),q=qo(9,Xo(N,N)),X=qo(6,Xo(N,S)),H=Xo(S,S),D=$o(C,P),Q=$o(O,y),G=$o(M,T),R=$o($,q),U=$o(V,L),Z=$o(Y,k);return[qo(6,$o($o($o($o(Qo(B,A),Qo(E,w)),D),Qo(G,Q)),$o($o($o(Qo(H,X),Qo(z,F)),R),Qo(Z,U)))),qo(5,$o(Qo($o($o(A,qo(5,w)),qo(3,Q)),Ho($o($o(D,Ho(G)),qo(3,E)))),Qo($o($o(X,qo(5,F)),qo(3,U)),Ho($o($o(R,Ho(Z)),qo(3,z)))))),Do($o(Qo(Qo(D,qo(3,Qo(Q,Ho(G)))),qo(5,Qo(Ho(w),qo(3,E)))),Qo(Qo(R,qo(3,Qo(U,Ho(Z)))),qo(5,Qo(Ho(F),qo(3,z)))))),qo(3,$o(Qo(Q,Ho(Qo(Ho(G),qo(5,Qo(w,Ho(E)))))),Qo(U,Ho(Qo(Ho(Z),qo(5,Qo(F,Ho(z)))))))),Ho($o(Qo(G,qo(5,Qo(w,qo(3,E)))),Qo(Z,qo(5,Qo(F,qo(3,z)))))),$o(Qo(w,qo(6,E)),Qo(F,qo(6,z)))]}const Ro=P,Uo=x,Zo=Ir,jo=sr,Wo=Vo,Jo=b,Ko=ko;function ti(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=Ro(e,u),a=Ro(o,u),p=Ro(c,u),h=Ro(r,f),d=Ro(i,f),v=Ro(s,f),g=jo(l,l),m=jo(l,a),x=jo(l,p),b=jo(a,a),_=jo(a,p),I=jo(p,p),N=jo(h,h),S=jo(h,d),E=jo(h,v),w=jo(d,d),M=jo(d,v),O=jo(v,v),T=Uo(E,Wo(w)),y=Uo(x,Wo(b));return[Uo(Jo(Uo(Uo(O,N),Wo(T)),Ko(Uo(M,S))),Jo(Uo(Uo(I,g),Wo(y)),Ko(Uo(_,m)))),Zo(3,Uo(Uo(Jo(M,T),Jo(Zo(3,S),N)),Uo(Jo(_,y),Jo(Zo(3,m),g)))),Uo(Jo(T,Zo(3,Jo(Wo(S),N))),Jo(y,Zo(3,Jo(Wo(m),g)))),Uo(Jo(S,N),Jo(m,g))]}const ni=m,ei=x,ri=function(t){return[-2*t[0],-2*t[1]]},oi=b;function ii(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=e-c,f=o-c,l=r-s,a=i-s,p=ni(u,u),h=ni(u,f),d=ni(f,f),v=ni(l,l),g=ni(l,a),m=ni(a,a),x=ei(h,g),b=ei(v,p);return[ei(ei(d,m),ei(b,ri(x))),oi(x,b)]}function ci(t){const n=[];for(let e=0;e<t.length;e++)n.push(2*t[e]);return n}function si(t){const n=[];for(let e=0;e<t.length;e++)n.push(-2*t[e]);return n}const ui=dt,fi=H,li=$,ai=ci,pi=si,hi=B,di=V,vi=dt,gi=H,mi=$,xi=ci,bi=B,_i=V;function Ii(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const Ni=dt,Si=H,Ei=si,wi=B,Mi=V,Oi=Math.abs;function Ti(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=Oi(e[0]),s=Oi(e[1]),u=Oi(r[0]),f=Oi(r[1]),l=Oi(o[0]),a=Oi(o[1]),p=Oi(i[0]),h=Oi(i[1]),d=Oi(n[0]),v=Oi(n[1]),g=c+d,m=u+d,x=l+d,b=p+d,_=s+v,I=f+v,N=a+v,S=h+v,E=g*g,w=6*g*m,M=6*x*b,O=_*_,T=6*_*I,y=6*N*S,C=6*m*b+9*x*x,P=2*g*b+18*m*x,A=6*g*x+9*m*m,B=6*I*S+9*N*N,z=2*_*S+18*I*N,F=6*_*N+9*I*I;return[6*(b*b+M+(E+w)+C+(A+P)+(S*S+y+(O+T)+B+(F+z))),5*(M+5*w+3*P+2*(C+2*A+3*E)+(y+5*T+3*z+2*(B+2*F+3*O))),4*(C+3*(P+2*A)+5*(2*w+3*E)+(B+3*(z+2*F)+5*(2*T+3*O))),3*(P+2*(2*A+5*(w+2*E))+(z+2*(2*F+5*(T+2*O)))),2*(A+5*(w+3*E)+(F+5*(T+3*O))),w+6*E+(T+6*O)]}function yi(t,n){const e=t[0],r=t[1],o=t[2],i=Oi(e[0]),c=Oi(e[1]),s=Oi(r[0]),u=Oi(r[1]),f=Oi(o[0]),l=Oi(o[1]),a=Oi(n[0]),p=Oi(n[1]),h=i+a,d=s+a,v=f+a,g=c+p,m=u+p,x=l+p,b=h*h,_=h*d,I=d*v,N=g*g,S=g*m,E=m*x,w=g*x+m*m*2,M=h*v+d*d*2;return[x*x+N+2*w+4*(E+S)+(v*v+b+2*M+4*(I+_)),3*(E+w+(3*S+N)+(I+M+(3*_+b))),w+3*(2*S+N)+(M+3*(2*_+b)),S+N+(_+b)]}function Ci(t,n){const e=t[0],r=t[1],o=Oi(e[0]),i=Oi(e[1]),c=Oi(r[0]),s=Oi(r[1]),u=Oi(n[0]),f=Oi(n[1]),l=o+u,a=c+u,p=i+f,h=s+f,d=l*a+p*h,v=p*p+l*l;return[a*a+h*h+2*d+v,d+v]}const Pi=j(6);function Ai(t,n){const e=t.length-1;if(3===e)return{polyDd:Go(t,n),polyE:Ti(t,n).map(t=>10*Pi*t),getPolyExact:()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=i[0],h=i[1],[d,v]=n,g=ui(c,d),m=ui(u,d),x=ui(l,d),b=ui(p,d),_=ui(s,v),I=ui(f,v),N=ui(a,v),S=ui(h,v),E=fi(g,g),w=li(6,fi(g,m)),M=li(6,fi(g,x)),O=ai(fi(g,b)),T=li(9,fi(m,m)),y=li(18,fi(m,x)),C=li(6,fi(m,b)),P=li(9,fi(x,x)),A=li(6,fi(x,b)),B=fi(b,b),z=fi(_,_),F=li(6,fi(_,I)),Y=li(6,fi(_,N)),V=ai(fi(_,S)),k=li(9,fi(I,I)),L=li(18,fi(I,N)),$=li(6,fi(I,S)),q=li(9,fi(N,N)),X=li(6,fi(N,S)),H=fi(S,S),D=hi(C,P),Q=hi(O,y),G=hi(M,T),R=hi($,q),U=hi(V,L),Z=hi(Y,k),j=di(hi(hi(B,E),hi(D,G)),hi(hi(Q,A),w)),W=di(hi(hi(H,z),hi(R,Z)),hi(hi(U,X),F)),J=li(6,hi(j,W)),K=hi(pi(hi(hi(D,ai(G)),li(3,E))),hi(hi(A,li(3,Q)),li(5,w))),tt=hi(pi(hi(hi(R,ai(Z)),li(3,z))),hi(hi(X,li(3,U)),li(5,F))),nt=li(5,hi(K,tt)),et=hi(hi(D,li(3,di(ai(G),Q))),li(5,di(li(3,E),ai(w)))),rt=hi(hi(R,li(3,di(ai(Z),U))),li(5,di(li(3,z),ai(F)))),ot=li(4,hi(et,rt)),it=di(Q,ai(di(ai(G),li(5,di(w,ai(E)))))),ct=di(U,ai(di(ai(Z),li(5,di(F,ai(z)))))),st=li(3,hi(it,ct)),ut=di(G,li(5,di(w,li(3,E)))),ft=di(Z,li(5,di(F,li(3,z)))),lt=ai(hi(ut,ft)),at=di(w,li(6,E)),pt=di(F,li(6,z));return[J,nt,ot,st,lt,hi(at,pt)]}(t,n)};if(2===e)return{polyDd:ti(t,n),polyE:yi(t,n).map(t=>8*Pi*t),getPolyExact:()=>function(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=vi(e,u),a=vi(o,u),p=vi(c,u),h=vi(r,f),d=vi(i,f),v=vi(s,f),g=gi(l,l),m=gi(l,a),x=gi(l,p),b=gi(a,a),_=gi(a,p),I=gi(p,p),N=gi(h,h),S=gi(h,d),E=gi(h,v),w=gi(d,d),M=gi(d,v),O=gi(v,v),T=bi(E,xi(w)),y=bi(x,xi(b)),C=bi(_i(bi(I,xi(y)),Ii(bi(_,m))),g),P=bi(_i(bi(O,xi(T)),Ii(bi(M,S))),N),A=bi(C,P),B=bi(_i(_,y),_i(mi(3,m),g)),z=bi(_i(M,T),_i(mi(3,S),N)),F=mi(3,bi(B,z)),Y=_i(T,mi(3,_i(xi(S),N))),V=_i(y,mi(3,_i(xi(m),g))),k=bi(Y,V),L=_i(S,N),$=_i(m,g);return[A,F,k,bi(L,$)]}(t,n)};if(1===e)return{polyDd:ii(t,n),polyE:Ci(t,n).map(t=>6*Pi*t),getPolyExact:()=>function(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=Ni(e,c),f=Ni(o,c),l=Ni(r,s),a=Ni(i,s),p=Si(u,u),h=Si(u,f),d=Si(f,f),v=Si(l,l),g=Si(l,a),m=Si(a,a),x=wi(h,g),b=wi(v,p);return[wi(wi(d,m),wi(Ei(x),b)),Mi(x,b)]}(t,n)};if(0===e)return{polyDd:[[0,1]],polyE:[0],getPolyExact:()=>[[1]]};throw new Error("The given bezier curve must be of order <= 3")}const{sqrt:Bi}=Math;function zi(t,n,e=0,r=1){const{polyDd:o,polyE:i,getPolyExact:c}=Ai(t,n),s=po(o,e,r,i,c);s.push({tS:e,tE:e,multiplicity:1}),s.push({tS:r,tE:r,multiplicity:1});const u=s.map(e=>{const r=So(t,[e.tS,e.tE]),o=function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,s],[c,i],[c,s]]){const e=Bo(t,u),r=Bo(n,f),o=Fo(zo(e,e),zo(r,r)),i=Ao(o),c=i*(1-Yo),s=i*(1+Yo);c<=l&&(l=c),s>=a&&(a=s)}return[l,a]}(r,n);return{p:Po(r),t:Co(e),d:(Bi(o[0])+Bi(o[1]))/2,dSquaredI:o,box:r,ri:e}});let f=Number.POSITIVE_INFINITY;for(let t=0;t<u.length;t++){const n=u[t].dSquaredI[1];n<f&&(f=n)}const l=[];for(let t=0;t<u.length;t++){const n=u[t];n.dSquaredI[0]<=f&&l.push(n)}return l}function Fi(t){const n=t.xs;if(4===n.length){let t=0,e=0;for(let r=0;r<n.length;r++)0===n[r].x.kind&&t++,4===n[r].x.kind&&e++;if(2===t&&2===e)return!0}return n.length<=2&&7!==n[0].x.kind}function Yi(t,n,e,r){const o=function(t,n,e){return(r,o,i)=>{n.has(r)||r.orientation||(r.orientation=o*t.orientation,r.parent=i,r.windingNum=i.windingNum+r.orientation,e.push(r))}}(n,r,e);let i,c,s=0,u=1,f=t;for(;f=1===n.orientation?f.nextAround:f.prevAround,f!==t;)s=u,u-=f.dir,-1!==f.dir&&(c?1===s&&0===u?o(f,1,n.parent):0===s&&-1===u&&o(f,-1,n.parent):0===u?c=f:1===u&&o(f,1,n));return Fi(t.container)||(i=[t.p,c.p]),{out_:c,additionalBezier:i}}function Vi(t){const n=t.next,e=n._x_.curve,r=n._x_.x.ri.tS;let o=t._x_.curve,i=t._x_.x.ri.tS;Fi(t.container)||(i=Co(zi(o.ps,t.p)[0].ri));const c=[];let s;for(;;){if(o===e&&(i<r||i===r&&0!==c.length))return s=Gn(o.ps,i,r),{beziers:c,in_:n,inBez:s};{const t=Gn(o.ps,i,1);c.push(t)}i=0,o=o.next}}function ki(t,n,e){const r=[],o=[];let i,c=e;do{n.add(c);const{beziers:t,in_:s,inBez:u}=Vi(c);if(o.push(...t),({out_:c,additionalBezier:i}=Yi(s,e,r,n)),void 0!==i){const t=Gn(u,0,Co(zi(u,i[0])[0].ri));o.push(t),o.push(i)}else o.push(u)}while(c!==e);return{beziers:o,additionalOutsToCheck:r}}function Li(t,n,e,r){const o=[n];for(;o.length;){const t=o.pop();if(e.add(t._x_.curve.loop),r.has(t))continue;t.children=new Set;const{beziers:n,additionalOutsToCheck:i}=ki(0,r,t);t.beziers=n,t.parent.children=t.parent.children||new Set,t.parent.children.add(t),o.push(...i)}}const $i=Mn;function qi(t,n){const e=t.length-1,r=n.length-1;if(e<0||r<0)return[];const o=e+r,i=new Array(o+1).fill(0);for(let c=0;c<e+1;c++)for(let s=0;s<r+1;s++)i[o-(c+s)]+=t[e-c]*n[r-s];return $i(i)}const Xi=qi;function Hi(t){let n=[1];for(let e=0;e<t.length;e++)n=Xi(n,[1,-t[e]]);return n}const Di=123456789,Qi=4294967296;function Gi(t){return function(n,e,r,o,i=Di,c=0){const s=[];for(let u=0;u<n;u++){const n=t(e,r,o,i,c),u=n.p;i=n.seed,s.push(u)}return s}}function Ri(t){return(134775813*t+1)%Qi}function Ui(t,n,e,r,o=0){let i=[];for(let c=0;c<t;c++)r=Zi(r=Ri(r),i,r/Qi*(e-n)+n,o);return i=i.slice(0,t),{vs:i,seed:r}}function Zi(t,n,e,r){return t=Ri(t),n.push(e),t/Qi<r&&(t=Zi(t,n,e,r)),t}function ji(t,n=-1,e=1,r=Di){const o=Ui(t,n,e,r);return r=o.seed,{p:o.vs,seed:r}}function Wi(t){if(4===t.length)return Ji(t);if(3===t.length)return Ki(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n,n],[o-e,e]]}(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[n],[e]]}(t);throw new Error("The given bezier curve must be of order <= 3.")}function Ji(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[s-n+3*(r-i),3*(i+n-2*r),3*(r-n),n],[u-e+3*(o-c),3*(c+e-2*o),3*(o-e),e]]}function Ki(t){const[[n,e],[r,o],[i,c]]=t;return[[i+n-2*r,2*(r-n),n],[c+e-2*o,2*(o-e),e]]}Gi(function(t,n=0,e=1,r=Di,o=0){const i=Ui(t,n,e,r,o);return r=i.seed,{p:Hi(i.vs),seed:r}}),Gi(ji);const tc=Wn(wo);function nc(t){const n=Xn(t),e=Bn(n[0],0,1),r=Bn(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,c,s,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[c]=go(t,r);c<u&&(u=c,o=r),c>f&&(f=c,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=go(t,e);o<l&&(l=o,c=e),o>a&&(a=o,s=e)}return{ts:[[o,c],[i,s]],box:[[u,l],[f,a]]}}const ec=Wn(nc),rc=1e-6;function oc(t){const n=t.map(t=>ec(t));return{minX:Math.min(...n.map(t=>t.box[0][0])),maxX:Math.max(...n.map(t=>t.box[1][0])),minY:Math.min(...n.map(t=>t.box[0][1])),maxY:Math.max(...n.map(t=>t.box[1][1]))}}function ic(t,n){let e;const r=[t];for(;r.length;)o(r.pop());return e;function o(o){if(o===t||function(t,n){let e=0,r=1231;do{e++;const i=ji(1,0,1,r),c=i.p[0];r=i.seed;const s=ji(1,0,t.length,r),u=Math.floor(s.p[0]);r=s.seed;const f=o(t,n,go(t[u],c));if(void 0!==f)return f}while(e<100);return;function o(t,n,e){if(function(t,n){const e=[t,n].map(oc);return e[0].minX<e[1].minX||e[0].maxX>e[1].maxX||e[0].minY<e[1].minY||e[0].maxY>e[1].maxY}(t,n))return!1;const r=function(t,n){const[e,r]=n;let o=0;for(let i=0;i<t.length;i++){const c=t[i],[[s,u],[f,l]]=tc(c);let a=u>r||l<r||!1;if(a=a||s>e||!1,a)continue;const p=[];let h,d,v;const g=!0;h=t=>Wi(t)[1],d=[0,-r],v=0;const m=c.map(oe(d)),x=Bn(h(m),0-rc,1+rc);for(let t=0;t<x.length;t++){const e=x[t];if(Math.abs(e)<rc||Math.abs(e-1)<rc)return;const r=go(m,e);(g&&n[v]>=r[v]||!g&&n[v]<=r[v])&&p.push(e)}if(1===p.length||3===p.length)for(const t of p){const n=ie(se(c,t));if(Math.abs(n[1])<rc)return}o+=p.length}return o}(n,e);return void 0!==r?r%2!=0:void 0}}(n.beziers,o.beziers)){e=o;for(const t of o.children)r.push(t)}}}function cc(t,n){return sc(t)-sc(n)}function sc(t){let n=Number.POSITIVE_INFINITY;for(const e of t){const t=ec(e).box[0][1];t<n&&(n=t)}return n}function uc(t){const n=[t],e=Array.from(t.children);for(;e.length;){const t=e.pop();0===t.windingNum&&n.push(t);for(const n of t.children)e.push(n)}return n}function fc(t,n,e){let[[r,o],[i,c]]=n,[[s,u],[f,l]]=e;o>c&&([o,c]=[c,o]),u>l&&([u,l]=[l,u]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]);const a=t||r===i&&s===f,p=t||o===c&&u===l;return(a?r<=f:r<f)&&(a?i>=s:i>s)&&(p?u<=c:u<c)&&(p?l>=o:l>o)}function lc(t,n){return fc(!0,t.box,n.box)}function ac(t,n){for(let e=0;e<n.length;e++){const r=n[e];pc(t,[r.a,r.b])}}function pc(t,n){const[e,r]=n;let o=t.get(e);o||(o=[],t.set(e,o));let i=t.get(r);i||(i=[],t.set(r,i)),o.push(r),i.push(e)}function hc(t,n,e,r){e.add(n),r.push(n);const o=t.get(n);for(let n=0;n<o.length;n++){const i=o[n];e.has(i)||hc(t,i,e,r)}}function dc(t){const n=[],e=new Set;for(const r of t){const o=r[0];e.has(o)||(n.push([]),hc(t,o,e,n[n.length-1]))}return n}function vc(t,n){const e=new Set;for(const t of n)for(const n of t)e.add(n);const r=[];for(let n=0;n<t.length;n++){const o=t[n];e.has(o)||r.push(o)}return r}function gc(t){const n=[];for(const e of t){let t=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const c=[];for(const n of e){const[[e,s],[u,f]]=n.box;e<t&&(t=e),s<r&&(r=s),u>o&&(o=u),f>i&&(i=f),c.push(...n.xs)}const s={box:[[t,r],[o,i]],xs:c,inOuts:void 0};n.push(s)}return n}function mc(t){return{tS:[0,t.tS],tE:[0,t.tE],multiplicity:t.multiplicity}}const xc=vt;function bc(t){const n=(t=xc(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}const _c=H,Ic=B,Nc=$,Sc=po,Ec=bc,wc=J,Mc=Number.EPSILON;function Oc(t,n){const e=t.tS,r=t.tE-e;if(0===r)return[{tS:[0,e],tE:[0,e],multiplicity:t.multiplicity}];const o=function(t,n,e){const r=t.length-1;if(r<0)return[];const o=[];for(let t=0;t<r+1;t++)o.push(new Array(r+1).fill([0]));o[0][0]=[1];for(let t=1;t<=r;t++){o[0][t]=Nc(e,o[0][t-1]);for(let r=1;r<=t;r++)o[r][t]=Ic(Nc(e,o[r][t-1]),Nc(n,o[r-1][t-1]))}const i=new Array(r+1).fill([0]);for(let n=0;n<=r;n++){i[r-n]=[0];for(let e=n;e<=r;e++){const c=_c(o[n][e],t[r-e]);i[r-n]=Ic(i[r-n],c)}}return i}(n,r,e),i=o.map(Ec),c=i.map(t=>Mc*Mc*t[1]),s=Sc(i,0,1,c,()=>o),u=[];for(const t of s)u.push({tS:wc(e,t.tS*r),tE:wc(e,t.tE*r),multiplicity:t.multiplicity});return u}const Tc=P,yc=Ir,Cc=x,Pc=ur,Ac=Math.abs;function Bc(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=Tc(s,n),l=Tc(r,i),a=3*(r-i),p=yc(3,l),h=Ac(a),d=Cc(f,p),v=h+Ac(s-n+a),g=Tc(i,2*r),m=Pc(g,n),x=Ac(i-2*r+n),b=yc(3,m),_=6*x,I=Tc(r,n),N=yc(3,I),S=Ac(3*(r-n)),E=Tc(u,e),w=Tc(o,c),M=3*(o-c),O=yc(3,w),T=Ac(M),y=Cc(E,O),C=T+Ac(u-e+M),P=Tc(c,2*o),A=Pc(P,e),B=Ac(c-2*o+e),z=yc(3,A),F=6*B,Y=Tc(o,e);return{coeffs:[[d,b,N,[0,n]],[y,z,yc(3,Y),[0,e]]],errorBound:[[v,_,S,0],[C,F,Ac(3*(o-e)),0]]}}function zc(t){const[[n,e],[r,o],[i,c]]=t,s=i-2*r,u=Tc(i,2*r),f=Pc(u,n),l=Ac(s+n),a=Tc(2*r,2*n),p=c-2*o,h=Tc(c,2*o),d=Pc(h,e),v=Ac(p+e);return{coeffs:[[f,a,[0,n]],[d,Tc(2*o,2*e),[0,e]]],errorBound:[[l,0,0],[v,0,0]]}}function Fc(t){const[[n,e],[r,o]]=t;return[[Tc(r,n),[0,n]],[Tc(o,e),[0,e]]]}const Yc=b,Vc=Ir,kc=z,Lc=Math.abs;function $c(t){const[[n,[,e]],[r,[,o]]]=Fc(t),i=kc(r),c=n,s=Vc(o,n),u=Lc(s[1]),f=Vc(e,r),l=Lc(f[1]),a=Yc(f,s);return{coeffs:{vₓ:i,vᵧ:c,v:a},errorBound:{v_:u+l+Lc(a[1])}}}const qc=x,Xc=Ir,Hc=sr,Dc=Math.abs,Qc=j(3);function Gc(t){return[-t[0],-t[1]]}const Rc=Gc,Uc=Vo,Zc=Ir,jc=sr,Wc=b,Jc=Math.abs;function Kc(t){const{coeffs:[[n,e,[,r]],[o,i,[,c]]],errorBound:[[s],[u]]}=zc(t),f=n[1],l=e[1],a=o[1],p=i[1],h=Jc(r),d=Jc(l),v=Jc(f),g=Jc(c),m=Jc(p),x=Jc(a),b=jc(n,i),_=s*m+2*Jc(f*p),I=jc(e,o),N=d*u+2*Jc(l*a),S=Zc(c,n),E=g*s+Jc(c*f),w=Zc(r,o),M=h*u+Jc(r*a),O=Zc(c,e),T=Jc(c*l),y=Zc(r,i),C=Jc(r*p),P=jc(n,n),A=2*(s*v+Jc(f*f)),B=jc(n,o),z=s*x+v*u+2*Jc(f*a),F=jc(o,o),Y=2*(u*x+Jc(a*a)),V=f*p-l*a,k=f*c-r*a,L=l*c-r*p,$=Wc(b,I),q=Jc(V),X=_+N+Jc(V),H=Wc(S,w),D=Jc(k),Q=E+M+Jc(k),G=Wc(O,y),R=Jc(L),U=T+C+Jc(L),Z=Rc(F),j=Y,W=Uc(B),J=z,K=Rc(P),tt=A,nt=p*V,et=jc(i,$),rt=m*X+2*Jc(nt),ot=2*k*a,it=Uc(jc(o,H)),ct=2*(u*D+x*Q+2*Jc(ot)),st=nt-ot,ut=Wc(et,it),ft=rt+ct+Jc(st),lt=2*f*k,at=Uc(jc(n,H)),pt=2*(s*D+v*Q+2*Jc(lt)),ht=l*V,dt=jc(e,$),vt=d*X+2*Jc(ht),gt=lt-ht,mt=Wc(at,dt),xt=pt+vt+Jc(gt),bt=V*L,_t=jc($,G),It=X*R+q*U+2*Jc(bt),Nt=k*k,St=jc(H,H),Et=2*(Q*D+Jc(Nt)),wt=bt-Nt;return{coeffs:{vₓₓ:Z,vₓᵧ:W,vᵧᵧ:K,vₓ:ut,vᵧ:mt,v:Wc(_t,St)},errorBound:{vₓₓ_:j,vₓᵧ_:J,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:xt,v_:It+Et+Jc(wt)}}}const ts=m,ns=Vo,es=Ir,rs=sr,os=x,is=Math.abs,cs=j(3),ss=Math.abs,us=Gc,fs=Vo,ls=Ir,as=sr,ps=b,hs=x;function ds(t){const{coeffs:[[n,e,r,[,o]],[i,c,s,[,u]]],errorBound:[[f,l,a],[p,h,d]]}=Bc(t),v=r[1],g=e[1],m=n[1],x=s[1],b=c[1],_=i[1],I=ss(o),N=ss(v),S=ss(g),E=ss(m),w=ss(u),M=ss(x),O=ss(b),T=ss(_),y=as(n,s),C=m*x,P=f*M+E*d+2*ss(C),A=as(r,i),B=v*_,z=a*T+N*p+2*ss(B),F=as(n,c),Y=m*b,V=f*O+E*h+2*ss(Y),k=as(e,c),L=g*b,$=l*O+S*h+2*ss(L),q=as(e,i),X=g*_,H=l*T+S*p+2*ss(X),D=as(n,n),Q=m*m,G=ss(Q),R=f*E+E*f+2*ss(Q),U=as(c,c),Z=b*b,j=h*O+O*h+2*ss(Z),W=as(i,i),J=_*_,K=ss(J),tt=p*T+T*p+2*ss(J),nt=as(r,n),et=v*m,rt=a*E+N*f+2*ss(et),ot=as(e,e),it=g*g,ct=l*S+S*l+2*ss(it),st=as(s,i),ut=x*_,ft=d*T+M*p+2*ss(ut),lt=as(c,i),at=ss(b*_),pt=h*T+O*p+2*at,ht=as(e,n),dt=ss(g*m),vt=l*E+S*f+2*dt,gt=as(n,i),mt=ss(m*_),xt=f*T+E*p+2*mt,bt=ls(u,n),_t=m*u,It=f*w+ss(_t),Nt=ls(o,i),St=o*_,Et=I*p+ss(St),wt=ls(u,e),Mt=g*u,Ot=l*w+ss(Mt),Tt=ls(o,c),yt=o*b,Ct=I*h+ss(yt),Pt=as(e,s),At=g*x,Bt=l*M+S*d+2*ss(At),zt=as(r,c),Ft=v*b,Yt=a*O+N*h+2*ss(Ft),Vt=ls(u,r),kt=v*u,Lt=a*w+ss(kt),$t=ls(o,s),qt=o*x,Xt=I*d+ss(qt),Ht=ps(bt,Nt),Dt=It+Et+ss(_t-St),Qt=ps(y,A),Gt=P+z+ss(C-B),Rt=ps(F,q),Ut=V+H+ss(Y-X),Zt=ps(wt,Tt),jt=Ot+Ct+ss(Mt-yt),Wt=ps(Pt,zt),Jt=Bt+Yt+ss(At-Ft),Kt=ps(Vt,$t),tn=Lt+Xt+ss(kt-qt),nn=ss(ut-Z),en=ps(st,U),rn=ft+j+nn,on=ss(et-it),cn=ps(nt,ot),sn=rt+ct+ss(et-it),un=ss(X+Y),fn=hs(q,F),ln=H+V+ss(X+Y),an=B+C,pn=ss(an),hn=hs(A,y),dn=z+P+pn,vn=fs(Qt),gn=2*Gt,mn=_t-St,xn=C-B,bn=Y-X,_n=Mt-yt,In=At-Ft,Nn=kt-qt,Sn=ss(mn),En=ss(xn),wn=ss(bn),Mn=ss(_n),On=ss(In),Tn=ss(Nn),yn=2*En,Cn=as(Ht,Ht),Pn=as(Ht,Qt),An=as(Ht,Rt),Bn=as(Ht,Wt),zn=as(Qt,Qt),Fn=as(vn,Zt),Yn=as(Rt,Zt),Vn=as(Rt,Wt),kn=as(Rt,Kt),Ln=Dt*Sn+Sn*Dt+2*ss(Cn[1]),$n=Dt*En+Sn*Gt+2*ss(Pn[1]),qn=Dt*wn+Sn*Ut+2*ss(An[1]),Xn=Dt*On+Sn*Jt+2*ss(Bn[1]),Hn=Gt*En+En*Gt+2*ss(zn[1]),Dn=gn*Mn+yn*jt+2*ss(Fn[1]),Qn=Ut*Mn+wn*jt+2*ss(Yn[1]),Gn=Ut*On+wn*Jt+2*ss(Vn[1]),Rn=Ut*Tn+wn*tn+2*ss(Yn[1]),Un=as(us(i),W),Zn=p*K+T*tt+2*ss(Un[1]),jn=3*E,Wn=ls(3,n),Jn=3*f+jn,Kn=as(Wn,W),te=Jn*K+jn*tt+2*ss(Kn[1]),ne=3*T,ee=ls(-3,i),re=3*p+ne,oe=as(ee,D),ie=re*G+ne*R+2*ss(oe[1]),ce=as(n,D),se=f*G+E*R+2*ss(ce[1]),ue=-3*mn,fe=3*Sn,le=ls(-3,Ht),ae=3*Dt+fe,pe=ps(le,Wt),he=ss(ue-In),de=ae+Jt+he,ve=as(pe,W),ge=de*K+he*tt+2*ss(ve[1]),me=as(Rt,en),xe=Ut*nn+wn*rn+2*ss(me[1]),be=hs(ve,me),_e=ge+xe+ss(be[1]),Ie=as(vn,lt),Ne=gn*at+yn*pt+2*ss(Ie[1]),Se=hs(be,Ie),Ee=_e+Ne+ss(Se[1]),we=as(pe,D),Me=de*G+he*R+2*ss(we[1]),Oe=as(Rt,cn),Te=Ut*on+wn*sn+2*ss(Oe[1]),ye=hs(we,Oe),Ce=Me+Te+ss(ye[1]),Pe=as(vn,ht),Ae=gn*dt+yn*vt+2*ss(Pe[1]),Be=hs(ye,Pe),ze=Ce+Ae+ss(Be[1]),Fe=ss(L-an/2),Ye=ps(k,function(t){return[t[0]/2,t[1]/2]}(hn)),Ve=$+dn/2+ss(Ye[1]),ke=as(pe,gt),Le=de*mt+he*xt+2*ss(ke[1]),$e=as(Qt,fn),qe=Gt*un+En*ln+2*ss($e[1]),Xe=hs(ke,$e),He=Le+qe+ss(Xe[1]),De=as(Rt,Ye),Qe=Ut*Fe+wn*Ve+2*ss(De[1]),Ge=fs(ps(De,Xe)),Re=2*(Qe+He)+ss(Ge[1]),Ue=ls(-3,Cn),Ze=3*Ln+ss(Ue[1]),je=ps(Ue,fs(Bn)),We=Ze+2*Xn+ss(je[1]),Je=hs(Fn,kn),Ke=Dn+Rn+ss(Je[1]),tr=hs(je,Je),nr=ss(tr[1]),er=We+Ke+nr,rr=fs(ps(Pn,Yn)),or=ss(rr[1]),ir=2*($n+Qn)+or,cr=ps(An,zn),sr=qn+Hn+ss(cr[1]),ur=hs(cr,Vn),fr=ss(ur[1]),lr=sr+Gn+fr,ar=as(i,tr),pr=p*nr+T*er+2*ss(ar[1]),hr=as(c,rr),dr=h*or+O*ir+2*ss(hr[1]),vr=as(s,ur),gr=d*fr+M*lr+2*ss(vr[1]),mr=hs(hr,vr),xr=dr+gr+ss(mr[1]),br=hs(ar,mr),_r=pr+xr+ss(br[1]),Ir=as(n,tr),Nr=f*nr+E*er+2*ss(Ir[1]),Sr=as(e,rr),Er=l*or+S*ir+2*ss(Sr[1]),wr=as(r,ur),Mr=a*fr+N*lr+2*ss(wr[1]),Or=hs(Sr,wr),Tr=Er+Mr+ss(Or[1]),yr=us(hs(Ir,Or)),Cr=Nr+Tr+ss(yr[1]),Pr=ps(Fn,Cn),Ar=ps(Pr,Bn),Br=ss(Ar[1]),zr=as(ur,Kt),Fr=as(Yn,Zt),Yr=ps(zr,Fr),Vr=lr*ss(Kt[1])+2*ss(zr[1])+Qn*ss(Zt[1])+2*ss(Fr[1])+ss(Yr[1]),kr=as(Ht,Ar),Lr=Dt*Br+Sn*Dn+Ln+ss(Pr[1])+Xn+Br+2*ss(kr[1]),$r=hs(kr,Yr);return{coeffs:{vₓₓₓ:Un,vₓₓᵧ:Kn,vₓᵧᵧ:oe,vᵧᵧᵧ:ce,vₓₓ:Se,vₓᵧ:Ge,vᵧᵧ:Be,vₓ:br,vᵧ:yr,v:$r},errorBound:{vₓₓₓ_:Zn,vₓₓᵧ_:te,vₓᵧᵧ_:ie,vᵧᵧᵧ_:se,vₓₓ_:Ee,vₓᵧ_:Re,vᵧᵧ_:ze,vₓ_:_r,vᵧ_:Cr,v_:Lr+Vr+ss($r[1])}}}const vs=m,gs=Vo,ms=Ir,xs=sr,bs=x,_s=Math.abs,Is=j(3),Ns=x,Ss=Ir,Es=sr,ws=Math.abs,Ms=j(3),Os=m,Ts=Vo,ys=Ir,Cs=sr,Ps=x,As=Math.abs,Bs=j(3),zs=m,Fs=Vo,Ys=Ir,Vs=sr,ks=x,Ls=Math.abs,$s=j(3),qs=x,Xs=Ir,Hs=sr,Ds=Math.abs,Qs=j(3),Gs=m,Rs=Vo,Us=Ir,Zs=sr,js=x,Ws=Math.abs,Js=j(3),Ks=m,tu=Vo,nu=Ir,eu=sr,ru=x,ou=Math.abs,iu=j(3),cu=$,su=V,uu=z,fu=Q;function lu(t){const[[n,[e]],[r,[o]]]=t;if(0!==fu(n)||0!==fu(r))return{vₓ:uu(r),vᵧ:n,v:su(cu(e,r),cu(o,n))}}const au=$,pu=H,hu=B;function du(t,n){const e=Ft(t),[[r,[o]],[i,[c]]]=Ft(n),{vₓ:s,vᵧ:u,v:f}=lu(e),l=pu(r,s),a=pu(i,u),p=hu(l,a),h=au(o,s),d=au(c,u),v=hu(h,d);return[p,hu(v,f)]}const vu=$,gu=ci,mu=V,xu=H,bu=z;function _u(t){const[[n,e,[r]],[o,i,[c]]]=t;if(0===Q(n)&&0===Q(o))return lu([[e,[r]],[i,[c]]]);const s=xu(n,i),u=xu(e,o),f=vu(c,n),l=vu(r,o),a=vu(c,e),p=vu(r,i),h=xu(n,n),d=xu(n,o),v=xu(o,o),g=mu(s,u),m=mu(f,l),x=mu(a,p),b=bu(v),_=gu(d),I=bu(h),N=xu(i,g),S=gu(xu(o,m)),E=mu(N,S),w=gu(xu(n,m)),M=xu(e,g),O=mu(w,M),T=xu(g,x),y=xu(m,m);return{vₓₓ:b,vₓᵧ:_,vᵧᵧ:I,vₓ:E,vᵧ:O,v:mu(T,y)}}const Iu=it,Nu=$,Su=H,Eu=B,wu=ci,Mu=Q;function Ou(t,n){const e=zt(t);if(0===Mu(e[0][0])&&0===Mu(e[1][0]))return du([t[0],t[2]],n);const[[r,[o]],[i,[c]]]=Ft(n),{vₓₓ:s,vₓᵧ:u,vᵧᵧ:f,vₓ:l,vᵧ:a,v:p}=_u(e),h=Iu(o,o),d=Nu(o,r),v=Iu(o,c),g=Nu(o,i),m=Su(r,r),x=Nu(c,r),b=Su(r,i),_=Iu(c,c),I=Nu(c,i),N=Su(i,i),S=Su(m,s),E=Su(N,f),w=Su(b,u),M=Eu(S,E),O=Eu(M,w),T=Su(d,s),y=Su(I,f),C=Eu(g,x),P=Su(C,u),A=wu(Eu(T,y)),B=Eu(A,P),z=Su(r,l),F=Su(i,a),Y=Eu(z,F),V=Eu(B,Y),k=Su(h,s),L=Su(v,u),$=Su(_,f),q=Eu(k,L),X=Eu(q,$),H=Nu(o,l),D=Nu(c,a),Q=Eu(H,D),G=Eu(X,Q);return[O,V,Eu(G,p)]}const Tu=H,yu=dt,Cu=V,Pu=Q,Au=ht,Bu=L,zu=J;function Fu(t,n=!1){const[e,r,o,i]=t;if(!n){const[t,n]=e,[c,s]=r,[u,f]=o,[l,a]=i;return[e,[Au(Cu(Bu(zu(c/4,u/4),3),zu(t/4,l/4))),Au(Cu(Bu(zu(s/4,f/4),3),zu(n/4,a/4)))],i]}const c=function(t,n){const[[e,r],[o,i]]=t,[[c,s],[u,f]]=n,l=yu(o,e),a=yu(i,r),p=yu(u,c),h=yu(f,s),d=Cu(Tu(p,a),Tu(h,l));if(0===Pu(d))return;const v=yu(c,e),g=yu(s,r),m=Cu(Tu(g,l),Tu(v,a)),x=Au(m)/Au(d);return[c+x*Au(p),s+x*Au(h)]}([e,r],[i,o]);if(void 0!==c)return[e,c,i]}const Yu=$,Vu=H,ku=B,Lu=V,$u=z,qu=ci,Xu=Q;function Hu(t){const[[n,e,r,[o]],[i,c,s,[u]]]=t;if(0===Xu(n)&&0===Xu(i))return _u([[e,r,[o]],[c,s,[u]]]);const f=Vu(n,s),l=Vu(r,i),a=Vu(n,c),p=Vu(e,c),h=Vu(e,i),d=Vu(n,n),v=Vu(c,c),g=Vu(i,i),m=Vu(r,n),x=Vu(e,e),b=Vu(s,i),_=Vu(c,i),I=Vu(e,n),N=Vu(n,i),S=Yu(u,n),E=Yu(o,i),w=Yu(u,e),M=Yu(o,c),O=Vu(e,s),T=Vu(r,c),y=Yu(u,r),C=Yu(o,s),P=Lu(S,E),A=Lu(f,l),B=Lu(a,h),z=Lu(w,M),F=Lu(O,T),Y=Lu(y,C),V=Lu(b,v),k=Lu(m,x),L=ku(h,a),$=ku(l,f),q=qu(A),X=Vu(P,P),H=Vu(P,A),D=Vu(P,B),Q=Vu(P,F),G=Vu(A,A),R=Vu(q,z),U=Vu(B,z),Z=Vu(B,F),j=Vu(B,Y),W=Vu($u(i),g),J=Vu(Yu(3,n),g),K=Vu(Yu(-3,i),d),tt=Vu(n,d),nt=Lu(Yu(-3,P),F),et=Vu(nt,g),rt=Vu(B,V),ot=ku(et,rt),it=Vu(q,_),ct=ku(ot,it),st=Vu(nt,d),ut=Vu(B,k),ft=ku(st,ut),lt=Vu(q,I),at=ku(ft,lt),pt=Lu(p,function(t){const n=[];for(let e=0;e<t.length;e++)n.push(.5*t[e]);return n}($)),ht=Vu(nt,N),dt=Vu(A,L),vt=ku(ht,dt),gt=Vu(B,pt),mt=qu(Lu(gt,vt)),xt=Yu(-3,X),bt=Lu(xt,qu(Q)),_t=ku(R,j),It=ku(bt,_t),Nt=qu(Lu(H,U)),St=Lu(D,G),Et=ku(St,Z),wt=Vu(i,It),Mt=Vu(c,Nt),Ot=Vu(s,Et),Tt=ku(Mt,Ot),yt=ku(wt,Tt),Ct=Vu(n,It),Pt=Vu(e,Nt),At=Vu(r,Et),Bt=ku(Pt,At),zt=$u(ku(Ct,Bt)),Ft=Lu(R,X),Yt=Lu(Ft,Q),Vt=Vu(Et,Y),kt=Vu(U,z),Lt=Lu(Vt,kt),$t=Vu(P,Yt);return{vₓₓₓ:W,vₓₓᵧ:J,vₓᵧᵧ:K,vᵧᵧᵧ:tt,vₓₓ:ct,vₓᵧ:mt,vᵧᵧ:at,vₓ:yt,vᵧ:zt,v:ku($t,Lt)}}const Du=it,Qu=$,Gu=H,Ru=B,Uu=ci,Zu=Q;function ju(t,n){const e=Bt(t);if(0===Zu(e[0][0])&&0===Zu(e[1][0]))return Ou(Fu(t),n);const[[r,[o]],[i,[c]]]=Ft(n),{vₓₓₓ:s,vₓₓᵧ:u,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:a,vₓᵧ:p,vᵧᵧ:h,vₓ:d,vᵧ:v,v:g}=Hu(e),m=Du(o,o),x=Qu(o,r),b=Du(o,c),_=Qu(o,i),I=Gu(r,r),N=Qu(c,r),S=Gu(r,i),E=Du(c,c),w=Qu(c,i),M=Gu(i,i),O=Qu(o,s),T=Gu(Du(3,o),s),y=Qu(o,u),C=Qu(c,u),P=Qu(o,f),A=Qu(c,f),B=Qu(c,l),z=Gu(Du(3,c),l),F=Gu(r,s),Y=Gu(r,f),V=Gu(i,u),k=Gu(i,l),L=Ru(F,V),$=Ru(Y,k),q=Gu(I,L),X=Gu(M,$),H=Ru(q,X),D=Ru(T,C),Q=Uu(Ru(y,A)),G=Ru(P,z),R=Ru(D,a),U=Ru(Q,p),Z=Ru(G,h),j=Gu(I,R),W=Gu(S,U),J=Gu(M,Z),K=Ru(j,W),tt=Ru(K,J),nt=Uu(Ru(C,a)),et=Uu(Ru(P,h)),rt=Ru(T,nt),ot=Ru(z,et),it=Ru(y,p),ct=Ru(A,p),st=Gu(x,rt),ut=Gu(w,ot),ft=Gu(_,it),lt=Gu(N,ct),at=Gu(r,d),pt=Gu(i,v),ht=Ru(st,ut),dt=Ru(ft,lt),vt=Ru(ht,dt),gt=Ru(at,pt),mt=Ru(vt,gt),xt=Ru(O,C),bt=Ru(B,P),_t=Ru(xt,a),It=Ru(bt,h),Nt=Gu(m,_t),St=Gu(E,It),Et=Gu(b,p),wt=Ru(Nt,St),Mt=Ru(wt,Et),Ot=Qu(o,d),Tt=Qu(c,v),yt=Ru(Ot,Tt),Ct=Ru(Mt,yt);return[H,tt,mt,Ru(Ct,g)]}const Wu=$,Ju=H,Ku=B,tf=Q;function nf(t,n){const e=Ft(t),[[r,o,[i]],[c,s,[u]]]=zt(n);if(0===tf(r)&&0===tf(c))return du(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:a}=lu(e),p=Ju(r,f),h=Ju(c,l),d=Ku(p,h),v=Ju(o,f),g=Ju(s,l),m=Ku(v,g),x=Wu(i,f),b=Wu(u,l),_=Ku(x,b);return[d,m,Ku(_,a)]}const ef=it,rf=$,of=H,cf=B,sf=ci,uf=Q;function ff(t,n){const e=zt(t);if(0===uf(e[0][0])&&0===uf(e[1][0]))return nf([t[0],t[2]],n);const[[r,o,[i]],[c,s,[u]]]=zt(n);if(0===uf(r)&&0===uf(c))return Ou(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:a,vₓ:p,vᵧ:h,v:d}=_u(e),v=ef(i,i),g=rf(i,o),m=rf(i,r),x=ef(i,u),b=rf(i,s),_=rf(i,c),I=of(o,o),N=of(o,r),S=rf(u,o),E=of(o,s),w=of(o,c),M=of(r,s),O=of(r,r),T=rf(u,r),y=of(r,c),C=ef(u,u),P=rf(u,s),A=rf(u,c),B=of(s,s),z=of(s,c),F=of(c,c),Y=of(O,f),V=of(y,l),k=of(F,a),L=cf(Y,V),$=cf(L,k),q=of(N,f),X=of(z,a),H=cf(w,M),D=of(H,l),Q=sf(cf(q,X)),G=cf(Q,D),R=cf(sf(m),I),U=cf(sf(A),B),Z=cf(_,E),j=cf(Z,T),W=of(R,f),J=of(U,a),K=of(j,l),tt=of(r,p),nt=of(c,h),et=cf(W,J),rt=cf(et,K),ot=cf(tt,nt),it=cf(rt,ot),ct=of(g,f),st=of(P,a),ut=cf(b,S),ft=of(ut,l),lt=sf(cf(ct,st)),at=of(o,p),pt=of(s,h),ht=cf(lt,ft),dt=cf(at,pt),vt=cf(ht,dt),gt=of(v,f),mt=of(x,l),xt=of(C,a),bt=rf(i,p),_t=rf(u,h),It=cf(gt,mt),Nt=cf(It,xt),St=cf(bt,_t),Et=cf(Nt,St);return[$,G,it,vt,cf(Et,d)]}const lf=it,af=$,pf=H,hf=B,df=ci,vf=Q;function gf(t,n){const e=Bt(t);if(0===vf(e[0][0])&&0===vf(e[1][0]))return ff(Fu(t),n);const[[r,o,[i]],[c,s,[u]]]=zt(n);if(0===vf(r)&&0===vf(c))return ju(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:a,vᵧᵧᵧ:p,vₓₓ:h,vₓᵧ:d,vᵧᵧ:v,vₓ:g,vᵧ:m,v:x}=Hu(e),b=lf(i,i),_=af(i,o),I=af(i,r),N=lf(i,u),S=af(i,s),E=af(i,c),w=pf(o,o),M=pf(o,r),O=af(u,o),T=pf(o,s),y=pf(o,c),C=pf(r,s),P=pf(r,r),A=af(u,r),B=pf(r,c),z=lf(u,u),F=af(u,s),Y=af(u,c),V=pf(s,s),k=pf(s,c),L=pf(c,c),$=pf(r,f),q=pf(r,a),X=pf(c,l),H=pf(c,p),D=hf($,X),Q=hf(q,H),G=pf(P,D),R=pf(L,Q),U=hf(G,R),Z=hf(I,w),j=hf(Y,V),W=hf(df(I),w),J=hf(df(Y),V),K=hf(df(T),A),tt=hf(df(T),E),nt=hf(df(A),T),et=hf(af(6,I),w),rt=hf(af(6,Y),V),ot=hf(y,C),it=hf(E,A),ct=hf(df(O),S),st=hf(df(S),O),ut=hf(E,T),ft=hf(ut,A),lt=af(3,P),at=af(3,L),pt=pf(lt,f),ht=pf(P,l),dt=df(pf(B,l)),vt=df(pf(B,a)),gt=pf(L,a),mt=pf(at,p),xt=hf(pt,dt),bt=hf(ht,vt),_t=hf(xt,gt),It=hf(bt,mt),Nt=pf(o,_t),St=pf(s,It),Et=hf(Nt,St),wt=pf(c,W),Mt=pf(c,tt),Ot=pf(r,K),Tt=pf(r,J),yt=pf(af(3,r),Z),Ct=pf(af(3,c),j),Pt=hf(wt,Ot),At=hf(Mt,Tt),Ft=pf(yt,f),Yt=pf(Ct,p),Vt=pf(Pt,l),kt=pf(At,a),Lt=hf(Ft,Yt),$t=hf(Vt,kt),qt=pf(P,h),Xt=pf(L,v),Ht=pf(B,d),Dt=hf(qt,Xt),Qt=hf(Lt,$t),Gt=hf(Dt,Ht),Rt=hf(Qt,Gt),Ut=pf(o,et),Zt=pf(s,rt),jt=af(2*i,ot),Wt=pf(df(s),it),Jt=pf(o,nt),Kt=pf(o,J),tn=hf(jt,Jt),nn=hf(Wt,Kt),en=pf(k,v),rn=pf(M,h),on=pf(ot,d),cn=hf(en,rn),sn=pf(Ut,f),un=pf(tn,l),fn=pf(Zt,p),ln=pf(nn,a),an=hf(sn,fn),pn=hf(un,ln),hn=hf(an,pn),dn=hf(df(cn),on),vn=hf(hn,dn),gn=pf(lf(3,i),Z),mn=pf(lf(3,u),j),xn=af(i,tt),bn=af(i,J),_n=af(u,W),In=af(u,K),Nn=hf(xn,_n),Sn=hf(bn,In),En=pf(gn,f),wn=pf(mn,p),Mn=pf(Nn,l),On=pf(Sn,a),Tn=pf(W,h),yn=pf(J,v),Cn=pf(ft,d),Pn=pf(r,g),An=pf(c,m),Bn=hf(En,wn),zn=hf(Mn,On),Fn=hf(Tn,yn),Yn=hf(Bn,zn),Vn=hf(Fn,Cn),kn=hf(Pn,An),Ln=hf(Yn,Vn),$n=hf(Ln,kn),qn=pf(lf(3,i),_),Xn=pf(lf(3,u),F),Hn=af(i,ct),Dn=af(u,st),Qn=pf(_,h),Gn=pf(F,v),Rn=pf(S,d),Un=pf(O,d),Zn=df(hf(Qn,Gn)),jn=hf(Rn,Un),Wn=pf(o,g),Jn=pf(s,m),Kn=pf(qn,f),te=pf(Xn,p),ne=pf(Hn,l),ee=pf(Dn,a),re=hf(Kn,te),oe=hf(ne,ee),ie=hf(re,oe),ce=hf(Zn,jn),se=hf(Wn,Jn),ue=hf(ie,ce),fe=hf(ue,se),le=af(i,f),ae=af(i,a),pe=af(u,l),he=af(u,p),de=hf(le,pe),ve=hf(ae,he),ge=hf(de,h),me=hf(ve,v),xe=pf(b,ge),be=pf(z,me),_e=pf(N,d),Ie=af(i,g),Ne=af(u,m),Se=hf(xe,be),Ee=hf(Se,_e),we=hf(Ie,Ne),Me=hf(Ee,we);return[U,Et,Rt,vn,$n,fe,hf(Me,x)]}const mf=$,xf=H,bf=B,_f=Q;function If(t,n){const e=Ft(t),[[r,o,i,[c]],[s,u,f,[l]]]=Bt(n);if(0===_f(r)&&0===_f(s))return nf(t,Fu(n));const{vₓ:a,vᵧ:p,v:h}=lu(e),d=xf(r,a),v=xf(s,p),g=bf(d,v),m=xf(o,a),x=xf(u,p),b=bf(m,x),_=xf(i,a),I=xf(f,p),N=bf(_,I),S=mf(c,a),E=mf(l,p),w=bf(S,E);return[g,b,N,bf(w,h)]}const Nf=it,Sf=$,Ef=H,wf=B,Mf=ci,Of=Q;function Tf(t,n){const e=zt(t);if(0===Of(e[0][0])&&0===Of(e[1][0]))return If([t[0],t[2]],n);const[[r,o,i,[c]],[s,u,f,[l]]]=Bt(n);if(0===Of(r)&&0===Of(s))return ff(t,Fu(n));const{vₓₓ:a,vₓᵧ:p,vᵧᵧ:h,vₓ:d,vᵧ:v,v:g}=_u(e),m=Nf(c,c),x=Sf(c,i),b=Sf(c,o),_=Sf(c,r),I=Nf(c,l),N=Sf(c,f),S=Sf(c,u),E=Sf(c,s),w=Ef(i,i),M=Ef(i,o),O=Ef(i,r),T=Sf(l,i),y=Ef(i,f),C=Ef(i,u),P=Ef(i,s),A=Ef(o,f),B=Ef(o,o),z=Ef(o,r),F=Sf(l,o),Y=Ef(o,u),V=Ef(o,s),k=Ef(r,r),L=Sf(l,r),$=Ef(r,f),q=Ef(r,u),X=Ef(r,s),H=Nf(l,l),D=Sf(l,f),Q=Sf(l,u),G=Sf(l,s),R=Ef(f,f),U=Ef(f,u),Z=Ef(s,s),j=Ef(u,u),W=Ef(u,s),J=Ef(f,s),K=Ef(k,a),tt=Ef(X,p),nt=Ef(Z,h),et=wf(K,tt),rt=wf(et,nt),ot=Ef(z,a),it=Ef(W,h),ct=wf(ot,it),st=wf(V,q),ut=Ef(st,p),ft=wf(Mf(ct),ut),lt=wf(Mf(O),B),at=wf(Mf(J),j),pt=wf(P,Y),ht=wf(pt,$),dt=Ef(lt,a),vt=Ef(at,h),gt=wf(dt,vt),mt=Ef(ht,p),xt=wf(gt,mt),bt=wf(_,M),_t=wf(G,U),It=wf(E,C),Nt=wf(A,L),St=wf(It,Nt),Et=Ef(bt,a),wt=Ef(_t,h),Mt=Mf(wf(Et,wt)),Ot=Ef(St,p),Tt=Ef(r,d),yt=Ef(s,v),Ct=wf(Tt,yt),Pt=wf(Mt,Ot),At=wf(Pt,Ct),Ft=wf(Mf(b),w),Yt=wf(Mf(Q),R),Vt=wf(S,y),kt=wf(Vt,F),Lt=Ef(Ft,a),$t=Ef(Yt,h),qt=Ef(kt,p),Xt=wf(Lt,$t),Ht=wf(Xt,qt),Dt=Ef(o,d),Qt=Ef(u,v),Gt=wf(Dt,Qt),Rt=wf(Ht,Gt),Ut=Ef(x,a),Zt=Ef(D,h),jt=wf(N,T),Wt=Ef(jt,p),Jt=Mf(wf(Ut,Zt)),Kt=wf(Jt,Wt),tn=Ef(i,d),nn=Ef(f,v),en=wf(tn,nn),rn=wf(Kt,en),on=Ef(m,a),cn=Ef(I,p),sn=Ef(H,h),un=Sf(c,d),fn=Sf(l,v),ln=wf(on,cn),an=wf(ln,sn),pn=wf(un,fn),hn=wf(an,pn);return[rt,ft,xt,At,Rt,rn,wf(hn,g)]}const yf=it,Cf=$,Pf=H,Af=B,Bf=ci,zf=Q,Ff=[[function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=$c(t),[[c,[,s]],[u,[,f]]]=Fc(n),l=c[1],a=u[1],p=e[1],h=r[1],d=o[1],v=l*p,g=2*Dc(v),m=Hc(c,e),x=a*h,b=2*Dc(x),_=Hc(u,r),I=v+x,N=qc(m,_),S=g+b+Dc(I),E=s*p,w=Xc(s,e),M=Dc(E),O=f*h,T=Xc(f,r),y=Dc(O),C=E+O,P=qc(w,T),A=M+y+Dc(C),B=qc(P,o),z=A+i+Dc(C+d);return{coeffs:[N,B],errBound:[Qc*S,Qc*z]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=$c(t),{coeffs:[[c,s,[,u]],[f,l,[,a]]],errorBound:[[p],[h]]}=zc(n),d=e[1],v=r[1],g=o[1],m=ws(d),x=ws(v),b=(ws(g),s[1]),_=c[1],I=l[1],N=f[1],S=_*d,E=Es(c,e),w=p*m+2*ws(S),M=N*v,O=Es(f,r),T=h*x+2*ws(M),y=S+M,C=Ns(E,O),P=w+T+ws(y),A=b*d,B=Es(s,e),z=2*ws(A),F=I*v,Y=Es(l,r),V=2*ws(F),k=A+F,L=Ns(B,Y),$=z+V+ws(k),q=Ss(u,e),X=u*d,H=ws(X),D=Ss(a,r),Q=a*v,G=ws(Q),R=X+Q,U=Ns(q,D),Z=H+G+ws(R),j=R+g,W=Ns(U,o),J=Z+i+ws(j);return{coeffs:[C,L,W],errBound:[Ms*P,Ms*$,Ms*J]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=$c(t),{coeffs:[[c,s,u,[,f]],[l,a,p,[,h]]],errorBound:[[d,v,g],[m,x,b]]}=Bc(n),_=Ds(e[1]),I=Ds(r[1]),N=Hs(c,e),S=d*_+2*Ds(N[1]),E=Hs(l,r),w=m*I+2*Ds(E[1]),M=qs(N,E),O=S+w+Ds(M[1]),T=Hs(s,e),y=v*_+2*Ds(T[1]),C=Hs(a,r),P=x*I+2*Ds(C[1]),A=qs(T,C),B=y+P+Ds(A[1]),z=Hs(u,e),F=g*_+2*Ds(z[1]),Y=Hs(p,r),V=b*I+2*Ds(Y[1]),k=qs(z,Y),L=F+V+Ds(k[1]),$=Xs(f,e),q=Ds($[1]),X=Xs(h,r),H=Ds(X[1]),D=qs($,X),Q=q+H+Ds(D[1]),G=qs(D,o),R=Q+i+Ds(G[1]);return{coeffs:[M,A,k,G],errBound:[Qs*O,Qs*B,Qs*L,Qs*R]}}],[function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:p,v_:h}}=Kc(t),[[d,[,v]],[g,[,m]]]=Fc(n),x=e[1],b=r[1],_=o[1],I=i[1],N=c[1],S=s[1],E=is(x),w=is(b),M=is(_),O=d[1],T=g[1],y=is(v),C=is(O),P=is(m),A=is(T),B=v*v,z=v*O,F=v*m,Y=v*T,V=O*O,k=O*m,L=O*T,$=m*m,q=m*T,X=T*T,H=ts(v,v),D=es(v,d),Q=is(z),G=ts(v,m),R=es(v,g),U=is(Y),Z=is(V),j=rs(d,d),W=2*Z,J=es(m,d),K=is(k),tt=is(L),nt=rs(d,g),et=2*tt,rt=ts(m,m),ot=es(m,g),it=is(q),ct=is(X),st=rs(g,g),ut=2*ct,ft=V*x,lt=rs(j,e),at=W*E*Z*u+2*is(ft),pt=X*_,ht=rs(st,o),dt=ut*M*ct*l+2*is(pt),vt=L*b,gt=rs(nt,r),mt=et*w*tt*f+2*is(vt),xt=ft+pt,bt=os(lt,ht),_t=at+dt+is(xt),It=xt+vt,Nt=os(bt,gt),St=_t+mt+is(It),Et=z*x,wt=rs(D,e),Mt=Q*(E+u)+2*is(Et),Ot=q*_,Tt=rs(ot,o),yt=it*(M+l)+2*is(Ot),Ct=Y+k,Pt=os(R,J),At=U+K+is(Ct),Bt=Ct*b,zt=rs(Pt,r),Ft=At*w+is(Ct)*f+2*is(Bt),Yt=2*(Et+Ot),Vt=ns(os(wt,Tt)),kt=2*(Mt+yt)+is(Yt),Lt=Yt+Bt,$t=os(Vt,zt),qt=kt+Ft+is(Lt),Xt=O*I,Ht=rs(d,i),Dt=C*a+2*is(Xt),Qt=T*N,Gt=rs(g,c),Rt=A*p+2*is(Qt),Ut=Xt+Qt,Zt=os(Ht,Gt),jt=Dt+Rt+is(Ut),Wt=Lt+Ut,Jt=os($t,Zt),Kt=qt+jt+is(Wt),tn=B*x,nn=rs(H,e),en=2*is(tn),rn=F*b,on=rs(G,r),cn=2*is(rn),sn=$*_,un=rs(rt,o),fn=2*is(sn),ln=tn+rn,an=os(nn,on),pn=en+cn+is(ln),hn=ln+sn,dn=os(an,un),vn=pn+fn+is(hn),gn=v*I,mn=es(v,i),xn=y*a+is(gn),bn=m*N,_n=es(m,c),In=P*p+is(bn),Nn=gn+bn,Sn=os(mn,_n),En=xn+In+is(Nn),wn=hn+Nn,Mn=os(dn,Sn),On=vn+En+is(wn),Tn=wn+S,yn=os(Mn,s),Cn=On+h+is(Tn);return{coeffs:[Nt,Jt,yn],errBound:[cs*St,cs*Kt,cs*Cn]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:p,v_:h}}=Kc(t),{coeffs:[[d,v,[,g]],[m,x,[,b]]],errorBound:[[_],[I]]}=zc(n),N=e[1],S=r[1],E=o[1],w=i[1],M=c[1],O=s[1],T=As(N),y=As(S),C=As(E),P=As(w),A=As(M),B=v[1],z=d[1],F=x[1],Y=m[1],V=As(g),k=As(B),L=As(z),$=As(b),q=As(F),X=As(Y),H=g*g,D=g*B,Q=g*z,G=g*b,R=g*F,U=g*Y,Z=B*B,j=B*z,W=B*b,J=B*F,K=B*Y,tt=z*F,nt=z*z,et=z*b,rt=z*Y,ot=b*b,it=b*F,ct=b*Y,st=F*F,ut=F*Y,ft=Y*Y,lt=As(H),at=As(G),pt=As(ot),ht=Os(g,g),dt=ys(g,v),vt=As(D),gt=ys(g,d),mt=As(Q),xt=Os(g,b),bt=ys(g,x),_t=As(R),It=ys(g,m),Nt=As(U),St=Cs(v,v),Et=2*As(Z),wt=Cs(v,d),Mt=As(j),Ot=k*_+2*Mt,Tt=ys(b,v),yt=As(W),Ct=Cs(v,x),Pt=2*As(J),At=Cs(v,m),Bt=k*I+2*As(K),zt=Cs(d,x),Ft=_*q+2*As(tt),Yt=Cs(d,d),Vt=As(nt),kt=2*(_*L+Vt),Lt=ys(b,d),$t=As(et),qt=Cs(d,m),Xt=As(rt),Ht=_*X+L*I+2*Xt,Dt=Os(b,b),Qt=ys(b,x),Gt=As(it),Rt=ys(b,m),Ut=As(ct),Zt=Cs(x,x),jt=2*As(st),Wt=Cs(x,m),Jt=As(ut),Kt=q*I+2*Jt,tn=Cs(m,m),nn=As(ft),en=2*(I*X+nn),rn=nt*N,on=Cs(Yt,e),cn=kt*T+Vt*u+2*As(rn),sn=rt*S,un=Cs(qt,r),fn=Ht*y+Xt*f+2*As(sn),ln=ft*E,an=Cs(tn,o),pn=en*C+nn*l+2*As(ln),hn=rn+sn,dn=Ps(on,un),vn=cn+fn+As(hn),gn=hn+ln,mn=Ps(dn,an),xn=vn+pn+As(gn),bn=j*N,_n=Cs(wt,e),In=Ot*T+Mt*u+2*As(bn),Nn=ut*E,Sn=Cs(Wt,o),En=Kt*C+Jt*l+2*As(Nn),wn=K+tt,Mn=Ps(At,zt),On=As(wn),Tn=Bt+Ft+On,yn=wn*S,Cn=Cs(Mn,r),Pn=Tn*y+On*f+2*As(yn),An=2*(bn+Nn),Bn=Ts(Ps(_n,Sn)),zn=2*(In+En)+As(An),Fn=An+yn,Yn=Ps(Bn,Cn),Vn=zn+Pn+As(Fn),kn=2*Q+Z,Ln=As(kn),$n=Ps(Ts(gt),St),qn=2*mt+Et+As(kn),Xn=2*ct+st,Hn=As(Xn),Dn=Ps(Ts(Rt),Zt),Qn=2*Ut+jt+As(Xn),Gn=U+J,Rn=(As(Gn),Ps(It,Ct)),Un=Nt+Pt+As(Gn),Zn=Gn+et,jn=Ps(Rn,Lt),Wn=As(Zn),Jn=Un+$t+Wn,Kn=kn*N,te=Cs($n,e),ne=qn*T+Ln*u+2*As(Kn),ee=Xn*E,re=Cs(Dn,o),oe=Qn*C+Hn*l+2*As(ee),ie=Zn*S,ce=Cs(jn,r),se=Jn*y+Wn*f+2*As(ie),ue=z*w,fe=Cs(d,i),le=_*P+L*a+As(ue),ae=Y*M,pe=Cs(m,c),he=I*A+X*p+As(ae),de=Kn+ee,ve=Ps(te,re),ge=ne+oe+As(de),me=de+ie,xe=Ps(ve,ce),be=ge+se+As(me),_e=ue+ae,Ie=Ps(fe,pe),Ne=le+he+As(_e),Se=me+_e,Ee=Ps(xe,Ie),we=be+Ne+As(Se),Me=D*N,Oe=Cs(dt,e),Te=vt*(T+u)+2*As(Me),ye=it*E,Ce=Cs(Qt,o),Pe=Gt*(C+l)+2*As(ye),Ae=R+W,Be=Ps(bt,Tt),ze=As(Ae),Fe=_t+yt+ze,Ye=Ae*S,Ve=Cs(Be,r),ke=Fe*y+ze*f+2*As(Ye),Le=2*(Me+ye),$e=Ts(Ps(Oe,Ce)),qe=2*(Te+Pe)+As(Le),Xe=B*w,He=Cs(v,i),De=k*a+2*As(Xe),Qe=F*M,Ge=Cs(x,c),Re=q*p+2*As(Qe),Ue=Le+Ye,Ze=Ps($e,Ve),je=qe+ke+As(Ue),We=Xe+Qe,Je=Ps(He,Ge),Ke=De+Re+As(We),tr=Ue+We,nr=Ps(Ze,Je),er=je+Ke+As(tr),rr=H*N,or=Cs(ht,e),ir=lt*u+2*As(rr),cr=G*S,sr=Cs(xt,r),ur=at*f+2*As(cr),fr=ot*E,lr=Cs(Dt,o),ar=pt*l+2*As(fr),pr=g*w,hr=ys(g,i),dr=V*a+As(pr),vr=b*M,gr=ys(b,c),mr=$*p+As(vr),xr=rr+cr,br=Ps(or,sr),_r=ir+ur+As(xr),Ir=xr+fr,Nr=Ps(br,lr),Sr=_r+ar+As(Ir),Er=pr+vr,wr=Ps(hr,gr),Mr=dr+mr+As(Er),Or=Ir+Er,Tr=Ps(Nr,wr),yr=Sr+Mr+As(Or),Cr=Or+O,Pr=Ps(Tr,s),Ar=yr+h+As(Cr);return{coeffs:[mn,Yn,Ee,nr,Pr],errBound:[Bs*xn,Bs*Vn,Bs*we,Bs*er,Bs*Ar]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:a,vᵧ_:p,v_:h}}=Kc(t),{coeffs:[[d,v,g,[,m]],[x,b,_,[,I]]],errorBound:[[N,S,E],[w,M,O]]}=Bc(n),T=e[1],y=r[1],C=o[1],P=i[1],A=c[1],B=s[1],z=Ws(T),F=Ws(y),Y=Ws(C),V=Ws(P),k=Ws(A),L=g[1],$=v[1],q=d[1],X=_[1],H=b[1],D=x[1],Q=Ws(m),G=Ws(L),R=Ws($),U=Ws(q),Z=Ws(I),j=Ws(X),W=Ws(H),J=Ws(D),K=m*m,tt=m*L,nt=m*$,et=m*q,rt=m*I,ot=m*X,it=m*H,ct=m*D,st=L*L,ut=L*$,ft=L*q,lt=L*I,at=L*X,pt=L*H,ht=L*D,dt=$*X,vt=$*$,gt=$*q,mt=$*I,xt=$*H,bt=$*D,_t=q*q,It=q*I,Nt=q*X,St=q*H,Et=q*D,wt=I*I,Mt=I*X,Ot=I*H,Tt=I*D,yt=X*X,Ct=X*H,Pt=D*D,At=H*H,Bt=H*D,zt=X*D,Ft=Gs(m,m),Yt=Ws(K),Vt=Us(m,g),kt=Ws(tt),Lt=Q*E+kt,$t=Us(m,v),qt=Q*S+Ws(nt),Xt=Us(m,d),Ht=Q*N+Ws(et),Dt=Gs(m,I),Qt=Ws(rt),Gt=Us(m,_),Rt=Q*O+Ws(ot),Ut=Us(m,b),Zt=Q*M+Ws(it),jt=Us(m,x),Wt=Q*w+Ws(ct),Jt=Zs(g,g),Kt=E*G+G*E+2*Ws(st),tn=Zs(g,v),nn=E*R+G*S+2*Ws(ut),en=Zs(g,d),rn=E*U+G*N+2*Ws(ft),on=Us(I,g),cn=Z*E+Ws(lt),sn=Zs(g,_),un=E*j+G*O+2*Ws(at),fn=Zs(g,b),ln=E*W+G*M+2*Ws(pt),an=Zs(g,x),pn=E*J+G*w+2*Ws(ht),hn=Zs(v,_),dn=S*j+R*O+2*Ws(dt),vn=Zs(v,v),gn=S*R+R*S+2*Ws(vt),mn=Zs(v,d),xn=Ws(gt),bn=S*U+R*N+2*xn,_n=Us(I,v),In=Z*S+Ws(mt),Nn=Zs(v,b),Sn=S*W+R*M+2*Ws(xt),En=Zs(v,x),wn=S*J+R*w+2*Ws(bt),Mn=Zs(d,d),On=Ws(_t),Tn=N*U+U*N+2*On,yn=Us(I,d),Cn=Z*N+Ws(It),Pn=Zs(d,_),An=N*j+U*O+2*Ws(Nt),Bn=Zs(d,b),zn=N*W+U*M+2*Ws(St),Fn=Zs(d,x),Yn=Ws(Et),Vn=N*J+U*w+2*Yn,kn=Gs(I,I),Ln=Ws(wt),$n=Us(I,_),qn=Ws(Mt),Xn=Z*O+qn,Hn=Us(I,b),Dn=Z*M+Ws(Ot),Qn=Us(I,x),Gn=Z*w+Ws(Tt),Rn=Zs(_,_),Un=O*j+j*O+2*Ws(yt),Zn=Zs(_,b),jn=O*W+j*M+2*Ws(Ct),Wn=Zs(x,x),Jn=Ws(Pt),Kn=w*J+J*w+2*Jn,te=Zs(b,b),ne=M*W+W*M+2*Ws(At),ee=Zs(b,x),re=Ws(Bt),oe=M*J+W*w+2*re,ie=Zs(_,x),ce=O*J+j*w+2*Ws(zt),se=_t*T,ue=Zs(Mn,e),fe=Tn*z+On*u+2*Ws(se),le=Et*y,ae=Zs(Fn,r),pe=Vn*F+Yn*f+2*Ws(le),he=Pt*C,de=Zs(Wn,o),ve=Kn*Y+Jn*l+2*Ws(he),ge=se+le,me=js(ue,ae),xe=fe+pe+Ws(ge),be=ge+he,_e=js(me,de),Ie=xe+ve+Ws(be),Ne=gt*T,Se=Zs(mn,e),Ee=bn*z+xn*u+2*Ws(Ne),we=Bt*C,Me=Zs(ee,o),Oe=oe*Y+re*l+2*Ws(we),Te=Ne+we,ye=js(Se,Me),Ce=Ee+Oe+Ws(Te),Pe=bt+St,Ae=js(En,Bn),Be=Ws(Pe),ze=wn+zn+Be,Fe=Pe*y,Ye=Zs(Ae,r),Ve=ze*F+Be*f+2*Ws(Fe),ke=2*Te+Fe,Le=js(Rs(ye),Ye),$e=2*Ce+Ve+Ws(ke),qe=2*ft+vt,Xe=js(Rs(en),vn),He=Ws(qe),De=2*rn+gn+Ws(qe),Qe=2*zt+At,Ge=js(Rs(ie),te),Re=Ws(Qe),Ue=2*ce+ne+Ws(Qe),Ze=ht+xt,je=js(an,Nn),We=pn+Sn+Ws(Ze),Je=Ze+Nt,Ke=js(je,Pn),tr=Ws(Je),nr=We+An+tr,er=qe*T,rr=Zs(Xe,e),or=De*z+He*u+2*Ws(er),ir=Qe*C,cr=Zs(Ge,o),sr=Ue*Y+Re*l+2*Ws(ir),ur=er+ir,fr=js(rr,cr),lr=or+sr+Ws(ur),ar=Je*y,pr=Zs(Ke,r),hr=nr*F+tr*f+2*Ws(ar),dr=ur+ar,vr=js(fr,pr),gr=lr+hr+Ws(dr),mr=et+ut,xr=js(Xt,tn),br=Ws(mr),_r=Ht+nn+br,Ir=Tt+Ct,Nr=js(Qn,Zn),Sr=Ws(Ir),Er=Gn+jn+Sr,wr=ct+pt,Mr=js(jt,fn),Or=Wt+ln+Ws(wr),Tr=dt+It,yr=js(hn,yn),Cr=dn+Cn+Ws(Tr),Pr=wr+Tr,Ar=js(Mr,yr),Br=Ws(Pr),zr=Or+Cr+Br,Fr=mr*T,Yr=Zs(xr,e),Vr=_r*z+br*u+2*Ws(Fr),kr=Ir*C,Lr=Zs(Nr,o),$r=Er*Y+Sr*l+2*Ws(kr),qr=2*(Fr+kr),Xr=Rs(js(Yr,Lr)),Hr=2*(Vr+$r)+Ws(qr),Dr=Pr*y,Qr=Zs(Ar,r),Gr=zr*F+Br*f+2*Ws(Dr),Rr=q*P,Ur=Zs(d,i),Zr=N*V+U*a+2*Ws(Rr),jr=D*A,Wr=Zs(x,c),Jr=w*k+J*p+2*Ws(jr),Kr=Rr+jr,to=js(Ur,Wr),no=Zr+Jr+Ws(Kr),eo=qr+Dr,ro=js(Xr,Qr),oo=Hr+Gr+Ws(eo),io=eo+Kr,co=js(ro,to),so=oo+no+Ws(io),uo=2*nt+st,fo=js(Rs($t),Jt),lo=Ws(uo),ao=2*qt+Kt+lo,po=2*Ot+yt,ho=js(Rs(Hn),Rn),vo=Ws(po),go=2*Dn+Un+vo,mo=it+at,xo=js(Ut,sn),bo=Zt+un+Ws(mo),_o=mo+mt,Io=js(xo,_n),No=Ws(_o),So=bo+In+No,Eo=uo*T,wo=Zs(fo,e),Mo=ao*z+lo*u+2*Ws(Eo),Oo=po*C,To=Zs(ho,o),yo=go*Y+vo*l+2*Ws(Oo),Co=_o*y,Po=Zs(Io,r),Ao=So*F+No*f+2*Ws(Co),Bo=Eo+Oo,zo=js(wo,To),Fo=Mo+yo+Ws(Bo),Yo=Bo+Co,Vo=js(zo,Po),ko=Fo+Ao+Ws(Yo),Lo=$*P,$o=Zs(v,i),qo=S*V+R*a+2*Ws(Lo),Xo=H*A,Ho=Zs(b,c),Do=M*k+W*p+2*Ws(Xo),Qo=Lo+Xo,Go=js($o,Ho),Ro=qo+Do+Ws(Qo),Uo=Yo+Qo,Zo=js(Vo,Go),jo=ko+Ro+Ws(Uo),Wo=tt*T,Jo=Zs(Vt,e),Ko=Lt*z+kt*u+2*Ws(Wo),ti=Mt*C,ni=Zs($n,o),ei=Xn*Y+qn*l+2*Ws(ti),ri=ot+lt,oi=js(Gt,on),ii=Ws(ri),ci=Rt+cn+ii,si=ri*y,ui=Zs(oi,r),fi=ci*F+ii*f+2*Ws(si),li=2*(Wo+ti),ai=Rs(js(Jo,ni)),pi=2*(Ko+ei)+Ws(li),hi=li+si,di=js(ai,ui),vi=pi+fi+Ws(hi),gi=L*P,mi=Zs(g,i),xi=E*V+G*a+2*Ws(gi),bi=X*A,_i=Zs(_,c),Ii=O*k+j*p+2*Ws(bi),Ni=gi+bi,Si=js(mi,_i),Ei=xi+Ii+Ws(Ni),wi=hi+Ni,Mi=js(di,Si),Oi=vi+Ei+Ws(wi),Ti=K*T,yi=Zs(Ft,e),Ci=Yt*u+2*Ws(Ti),Pi=rt*y,Ai=Zs(Dt,r),Bi=Qt*f+2*Ws(Pi),zi=wt*C,Fi=Zs(kn,o),Yi=Ln*l+2*Ws(zi),Vi=m*P,ki=Us(m,i),Li=Q*a+Ws(Vi),$i=I*A,qi=Us(I,c),Xi=Z*p+Ws($i),Hi=Ti+Pi,Di=js(yi,Ai),Qi=Ci+Bi+Ws(Hi),Gi=Hi+zi,Ri=js(Di,Fi),Ui=Qi+Yi+Ws(Gi),Zi=Vi+$i,ji=js(ki,qi),Wi=Li+Xi+Ws(Zi),Ji=Gi+Zi,Ki=js(Ri,ji),tc=Ui+Wi+Ws(Ji),nc=Ji+B,ec=js(Ki,s),rc=tc+h+Ws(nc);return{coeffs:[_e,Le,vr,co,Zo,Mi,ec],errBound:[Js*Ie,Js*$e,Js*gr,Js*so,Js*jo,Js*Oi,Js*rc]}}],[function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:h,vₓᵧᵧ_:d,vᵧᵧᵧ_:v,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:x,vₓ_:b,vᵧ_:_,v_:I}}=ds(t),[[N,[,S]],[E,[,w]]]=Fc(n),M=e[1],O=r[1],T=o[1],y=i[1],C=c[1],P=s[1],A=u[1],B=f[1],z=l[1],F=a[1],Y=N[1],V=E[1],k=_s(S),L=_s(Y),$=_s(w),q=_s(V),X=S*S,H=S*Y,D=S*w,Q=S*V,G=Y*Y,R=Y*w,U=Y*V,Z=w*w,j=w*V,W=V*V,J=vs(S,S),K=ms(S,N),tt=_s(H),nt=vs(S,w),et=ms(S,E),rt=_s(Q),ot=xs(N,N),it=2*_s(G),ct=ms(w,N),st=_s(R),ut=xs(N,E),ft=2*_s(U),lt=vs(w,w),at=ms(w,E),pt=_s(j),ht=xs(E,E),dt=2*_s(W),vt=_s(X),gt=_s(H),mt=_s(D),xt=_s(Q),bt=_s(G),_t=_s(R),It=_s(U),Nt=_s(Z),St=_s(j),Et=_s(W),wt=S*M,Mt=ms(S,e),Ot=k*p+_s(wt),Tt=3*S,yt=vs(3,S),Ct=_s(Tt),Pt=Tt*M,At=xs(yt,e),Bt=Ct*p+2*_s(Pt),zt=S*O,Ft=ms(S,r),Yt=k*h+_s(zt),Vt=w*O,kt=ms(w,r),Lt=$*h+_s(Vt),$t=S*T,qt=ms(S,o),Xt=k*d+_s($t),Ht=w*T,Dt=ms(w,o),Qt=$*d+_s(Ht),Gt=w*y,Rt=ms(w,i),Ut=$*v+_s(Gt),Zt=3*w,jt=vs(3,w),Wt=_s(Zt),Jt=Zt*y,Kt=xs(jt,i),tn=Wt*v+2*_s(Jt),nn=Y*M,en=xs(N,e),rn=L*p+2*_s(nn),on=Y*T,cn=xs(N,o),sn=L*d+2*_s(on),un=V*O,fn=xs(E,r),ln=q*h+2*_s(un),an=V*y,pn=xs(E,i),hn=q*v+2*_s(an),dn=nn+un,vn=bs(en,fn),gn=_s(dn),mn=rn+ln+gn,xn=on+an,bn=bs(cn,pn),_n=_s(xn),In=sn+hn+_n,Nn=G*dn,Sn=xs(ot,vn),En=it*gn+bt*mn+2*_s(Nn),wn=W*xn,Mn=xs(ht,bn),On=dt*_n+Et*In+2*_s(wn),Tn=Nn+wn,yn=bs(Sn,Mn),Cn=En+On+_s(Tn),Pn=Pt+Vt,An=bs(At,kt),Bn=Bt+Lt+_s(Pn),zn=2*(zt+Ht),Fn=gs(bs(Ft,Dt)),Yn=2*(Yt+Qt)+_s(zn),Vn=$t+Jt,kn=bs(qt,Kt),Ln=Xt+tn+_s(Vn),$n=Pn+C,qn=bs(An,c),Xn=_s($n),Hn=Bn+g+Xn,Dn=zn+P,Qn=bs(Fn,s),Gn=_s(Dn),Rn=Yn+m+Gn,Un=Vn+A,Zn=bs(kn,u),jn=_s(Un),Wn=Ln+x+jn,Jn=G*$n,Kn=xs(ot,qn),te=it*Xn+bt*Hn+2*_s(Jn),ne=U*Dn,ee=xs(ut,Qn),re=ft*Gn+It*Rn+2*_s(ne),oe=W*Un,ie=xs(ht,Zn),ce=dt*jn+Et*Wn+2*_s(oe),se=Jn+ne,ue=bs(Kn,ee),fe=te+re+_s(se),le=se+oe,ae=bs(ue,ie),pe=fe+ce+_s(le),he=2*(Vt+C),de=gs(bs(kt,c)),ve=2*(Lt+g)+_s(he),ge=2*($t+A),me=gs(bs(qt,u)),xe=2*(Xt+x)+_s(ge),be=Pt+he,_e=bs(At,de),Ie=_s(be),Ne=Bt+ve+Ie,Se=Jt+ge,Ee=bs(Kt,me),we=_s(Se),Me=tn+xe+we,Oe=zt+P,Te=bs(Ft,s),ye=_s(Oe),Ce=Yt+m+ye,Pe=Ht+P,Ae=bs(Dt,s),Be=_s(Pe),ze=Qt+m+Be,Fe=H*be,Ye=xs(K,_e),Ve=tt*Ie+gt*Ne+2*_s(Fe),ke=j*Se,Le=xs(at,Ee),$e=pt*we+St*Me+2*_s(ke),qe=Q*Oe,Xe=xs(et,Te),He=rt*ye+xt*Ce+2*_s(qe),De=R*Pe,Qe=xs(ct,Ae),Ge=st*Be+_t*ze+2*_s(De),Re=Y*B,Ue=xs(N,f),Ze=L*b+2*_s(Re),je=V*z,We=xs(E,l),Je=q*_+2*_s(je),Ke=Fe+ke,tr=bs(Ye,Le),nr=Ve+$e+_s(Ke),er=qe+De,rr=bs(Xe,Qe),or=He+Ge+_s(er),ir=Ke+er,cr=bs(tr,rr),sr=nr+or+_s(ir),ur=Re+je,fr=bs(Ue,We),lr=Ze+Je+_s(ur),ar=ir+ur,pr=bs(cr,fr),hr=sr+lr+_s(ar),dr=wt+Vt,vr=bs(Mt,kt),gr=Ot+Lt+_s(dr),mr=Gt+$t,xr=bs(Rt,qt),br=Ut+Xt+_s(mr),_r=dr+C,Ir=bs(vr,c),Nr=gr+g+_s(_r),Sr=mr+A,Er=bs(xr,u),wr=br+x+_s(Sr),Mr=X*_r,Or=xs(J,Ir),Tr=vt*Nr+2*_s(Mr),yr=Z*Sr,Cr=xs(lt,Er),Pr=Nt*wr+2*_s(yr),Ar=D*P,Br=xs(nt,s),zr=mt*m+2*_s(Ar),Fr=Mr+yr,Yr=bs(Or,Cr),Vr=Tr+Pr+_s(Fr),kr=Fr+Ar,Lr=bs(Yr,Br),$r=Vr+zr+_s(kr),qr=S*B,Xr=ms(S,f),Hr=k*b+_s(qr),Dr=w*z,Qr=ms(w,l),Gr=$*_+_s(Dr),Rr=qr+Dr,Ur=bs(Xr,Qr),Zr=Hr+Gr+_s(Rr),jr=kr+Rr,Wr=bs(Lr,Ur),Jr=$r+Zr+_s(jr),Kr=jr+F,to=bs(Wr,a),no=Jr+I+_s(Kr);return{coeffs:[yn,ae,pr,to],errBound:[Is*Cn,Is*pe,Is*hr,Is*no]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:h,vₓᵧᵧ_:d,vᵧᵧᵧ_:v,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:x,vₓ_:b,vᵧ_:_,v_:I}}=ds(t),{coeffs:[[N,S,[,E]],[w,M,[,O]]],errorBound:[[T],[y]]}=zc(n),C=e[1],P=r[1],A=o[1],B=i[1],z=c[1],F=s[1],Y=u[1],V=f[1],k=l[1],L=a[1],$=Ls(C),q=Ls(P),X=Ls(A),H=Ls(B),D=Ls(z),Q=Ls(Y),G=Ls(F),R=Ls(V),U=Ls(k),Z=S[1],j=N[1],W=M[1],J=w[1],K=Ls(E),tt=Ls(Z),nt=Ls(j),et=Ls(O),rt=Ls(W),ot=Ls(J),it=E*E,ct=E*Z,st=E*j,ut=E*O,ft=E*W,lt=E*J,at=Z*Z,pt=Z*j,ht=Z*O,dt=Z*W,vt=Z*J,gt=j*W,mt=j*j,xt=j*O,bt=j*J,_t=O*O,It=O*W,Nt=O*J,St=W*W,Et=W*J,wt=J*J,Mt=zs(E,E),Ot=Ys(E,S),Tt=Ls(ct),yt=Ys(E,N),Ct=K*T+Ls(st),Pt=zs(E,O),At=Ys(E,M),Bt=Ls(ft),zt=Ys(E,w),Ft=K*y+Ls(lt),Yt=Vs(S,S),Vt=2*Ls(at),kt=Vs(S,N),Lt=tt*T+2*Ls(pt),$t=Ys(O,S),qt=Ls(ht),Xt=Vs(S,M),Ht=2*Ls(dt),Dt=Vs(S,w),Qt=tt*y+2*Ls(vt),Gt=Vs(N,M),Rt=T*rt+2*Ls(gt),Ut=Vs(N,N),Zt=2*(T*nt+Ls(mt)),jt=Ys(O,N),Wt=et*T+Ls(xt),Jt=Vs(N,w),Kt=T*ot+nt*y+2*Ls(bt),tn=zs(O,O),nn=Ys(O,M),en=Ls(It),rn=Ys(O,w),on=et*y+Ls(Nt),cn=Vs(M,M),sn=2*Ls(St),un=Vs(M,w),fn=rt*y+2*Ls(Et),ln=Vs(w,w),an=2*(y*ot+Ls(wt)),pn=Ls(it),hn=Ls(ct),dn=Ls(ut),vn=Ls(ft),gn=Ls(pt),mn=Ls(mt),xn=Ls(bt),bn=Ls(ht),_n=Ls(_t),In=Ls(It),Nn=Ls(Et),Sn=Ls(wt),En=Vs(N,e),wn=j*C,Mn=T*$+nt*p+2*Ls(wn),On=Vs(N,o),Tn=j*A,yn=T*X+nt*d+2*Ls(Tn),Cn=Vs(w,r),Pn=J*P,An=y*q+ot*h+2*Ls(Pn),Bn=Vs(w,i),zn=J*B,Fn=y*H+ot*v+2*Ls(zn),Yn=wn+Pn,Vn=ks(En,Cn),kn=Ls(Yn),Ln=Mn+An+kn,$n=Tn+zn,qn=ks(On,Bn),Xn=Ls($n),Hn=yn+Fn+Xn,Dn=mt*Yn,Qn=Vs(Ut,Vn),Gn=Zt*kn+mn*Ln+2*Ls(Dn),Rn=wt*$n,Un=Vs(ln,qn),Zn=an*Xn+Sn*Hn+2*Ls(Rn),jn=Dn+Rn,Wn=ks(Qn,Un),Jn=Gn+Zn+Ls(jn),Kn=st+at,te=ks(yt,Yt),ne=Ls(Kn),ee=Ct+Vt+ne,re=Nt+St,oe=ks(rn,cn),ie=Ls(re),ce=on+sn+ie,se=2*st+at,ue=Ls(se),fe=ks(Fs(yt),Yt),le=2*Ct+Vt+ue,ae=2*Nt+St,pe=ks(Fs(rn),cn),he=Ls(ae),de=2*on+sn+he,ve=2*dt+xt,ge=ks(Fs(Xt),jt),me=Ls(ve),xe=2*Ht+Wt+me,be=2*dt+lt,_e=ks(Fs(Xt),zt),Ie=Ls(be),Ne=2*Ht+Ft+Ie,Se=2*xt+dt,Ee=ks(Fs(jt),Xt),we=2*Wt+Ht+Ls(Se),Me=6*st+at,Oe=6*st,Te=Ys(6,yt),ye=6*Ct+Ls(Oe),Ce=ks(Te,Yt),Pe=ye+Vt+Ls(Oe+at),Ae=6*Nt+St,Be=6*Nt,ze=Ys(6,rn),Fe=6*on+Ls(Be),Ye=ks(ze,cn),Ve=Fe+sn+Ls(Be+St),ke=vt+gt,Le=ks(Dt,Gt),$e=Ls(ke),qe=Qt+Rt+$e,Xe=lt+xt,He=ks(zt,jt),De=Ft+Wt+Ls(Xe),Qe=2*ht+ft,Ge=ks(Fs($t),At),Re=2*qt+Bt+Ls(Qe),Ue=2*ft+ht,Ze=ks(Fs(At),$t),je=2*Bt+qt+Ls(Ue),We=lt+dt,Je=ks(zt,Xt),Ke=Ft+Ht+Ls(We),tr=We+xt,nr=ks(Je,jt),er=Ls(tr),rr=Ke+Wt+er,or=3*mt,ir=Ys(3,Ut),cr=3*Zt+Ls(or),sr=Ls(or),ur=3*wt,fr=Ys(3,ln),lr=3*an+Ls(ur),ar=Ls(ur),pr=or*C,hr=Vs(ir,e),dr=cr*$+sr*p+2*Ls(pr),vr=mt*P,gr=Vs(Ut,r),mr=Zt*q+mn*h+2*Ls(vr),xr=2*bt*P,br=Fs(Vs(Jt,r)),_r=2*(Kt*q+xn*h+Ls(xr)),Ir=2*bt*A,Nr=Fs(Vs(Jt,o)),Sr=2*(Kt*X+xn*d+Ls(Ir)),Er=wt*A,wr=Vs(ln,o),Mr=an*X+Sn*d+2*Ls(Er),Or=ur*B,Tr=Vs(fr,i),yr=lr*H+ar*v+2*Ls(Or),Cr=pr+xr,Pr=ks(hr,br),Ar=dr+_r+Ls(Cr),Br=vr+Ir,zr=ks(gr,Nr),Fr=mr+Sr+Ls(Br),Yr=Cr+Er,Vr=ks(Pr,wr),kr=Ar+Mr+Ls(Yr),Lr=Br+Or,$r=ks(zr,Tr),qr=Fr+yr+Ls(Lr),Xr=Z*Yr,Hr=Vs(S,Vr),Dr=tt*kr+Ls(Xr),Qr=W*Lr,Gr=Vs(M,$r),Rr=rt*qr+Ls(Qr),Ur=Xr+Qr,Zr=ks(Hr,Gr),jr=Dr+Rr+Ls(Ur),Wr=J*se,Jr=Vs(w,fe),Kr=y*ue+ot*le+2*Ls(Wr),to=J*be,no=Vs(w,_e),eo=y*Ie+ot*Ne+2*Ls(to),ro=j*ve,oo=Vs(N,ge),io=T*me+nt*xe+2*Ls(ro),co=j*ae,so=Vs(N,pe),uo=T*he+nt*de+2*Ls(co),fo=3*j,lo=Ys(3,N),ao=Ls(fo),po=3*T+ao,ho=fo*Kn,vo=Vs(lo,te),go=Ls(ho),mo=po*ne+ao*ee+go,xo=3*J,bo=Ys(3,w),_o=Ls(xo),Io=3*y+_o,No=xo*re,So=Vs(bo,oe),Eo=Ls(No),wo=Io*ie+_o*ce+Eo,Mo=Wr+ro,Oo=ks(Jr,oo),To=Ls(Mo),yo=Kr+io+To,Co=to+co,Po=ks(no,so),Ao=Ls(Co),Bo=eo+uo+Ao,zo=ho*C,Fo=Vs(vo,e),Yo=mo*$+go*p+2*Ls(zo),Vo=No*B,ko=Vs(So,i),Lo=wo*H+Eo*v+2*Ls(Vo),$o=Mo*P,qo=Vs(Oo,r),Xo=yo*q+To*h+2*Ls($o),Ho=Co*A,Do=Vs(Po,o),Qo=Bo*X+Ao*d+2*Ls(Ho),Go=zo+Vo,Ro=ks(Fo,ko),Uo=Yo+Lo+Ls(Go),Zo=$o+Ho,jo=ks(qo,Do),Wo=Xo+Qo+Ls(Zo),Jo=mt*z,Ko=Vs(Ut,c),ti=Zt*D+mn*g+2*Ls(Jo),ni=wt*Y,ei=Vs(ln,u),ri=an*Q+Sn*x+2*Ls(ni),oi=bt*F,ii=Vs(Jt,s),ci=Kt*G+xn*m+2*Ls(oi),si=Jo+ni,ui=ks(Ko,ei),fi=ti+ri+Ls(si),li=Go+Zo,ai=ks(Ro,jo),pi=Uo+Wo+Ls(li),hi=si+oi,di=ks(ui,ii),vi=fi+ci+Ls(hi),gi=li+hi,mi=ks(ai,di),xi=pi+vi+Ls(gi),bi=Z*Me,_i=Vs(S,Ce),Ii=tt*Pe+2*Ls(bi),Ni=2*Ii,Si=W*Ae,Ei=Vs(M,Ye),wi=rt*Ve+2*Ls(Si),Mi=2*wi,Oi=2*E*ke,Ti=Ys(2*E,Le),yi=2*K*qe+Ls(Oi),Ci=2*W*Xe,Pi=Vs(Fs(M),He),Ai=2*rt*De+2*Ls(Ci),Bi=Z*Se,zi=Vs(S,Ee),Fi=tt*we+2*Ls(Bi),Yi=Z*ae,Vi=Vs(S,pe),ki=tt*de+2*Ls(Yi),Li=Oi+Bi,$i=ks(Ti,zi),qi=yi+Fi+Ls(Li),Xi=yi+Fi+qi,Hi=Ci+Yi,Di=ks(Pi,Vi),Qi=Ai+ki+Ls(Hi),Gi=Ai+ki+Qi,Ri=Et*Y,Ui=Vs(un,u),Zi=fn*Q+Nn*x+2*Ls(Ri),ji=pt*z,Wi=Vs(kt,c),Ji=Lt*D+gn*g+2*Ls(ji),Ki=ke*F,tc=Vs(Le,s),nc=qe*G+$e*m+2*Ls(Ki),ec=Ri+ji,rc=ks(Ui,Wi),oc=Zi+Ji+Ls(ec),ic=bi*C,cc=Vs(_i,e),sc=Ni*$+Ii*p+2*Ls(ic),uc=Li*P,fc=Vs($i,r),lc=Xi*q+qi*h+2*Ls(uc),ac=Si*B,pc=Vs(Ei,i),hc=Mi*H+wi*v+2*Ls(ac),dc=Hi*A,vc=Vs(Di,o),gc=Gi*X+Qi*d+2*Ls(dc),mc=ic+ac,xc=ks(cc,pc),bc=sc+hc+Ls(mc),_c=uc+dc,Ic=ks(fc,vc),Nc=lc+gc+Ls(_c),Sc=mc+_c,Ec=ks(xc,Ic),wc=bc+Nc+Ls(Sc),Mc=2*ec+Ki,Oc=ks(Fs(rc),tc),Tc=2*oc+nc+Ls(Mc),yc=Sc+Mc,Cc=ks(Ec,Oc),Pc=wc+Tc+Ls(yc),Ac=3*E,Bc=Ls(Ac),Fc=zs(3,E),Yc=Ac*Kn,Vc=Vs(Fc,te),kc=Ls(Yc),Lc=Bc*ee+2*Ls(Yc),$c=3*O,qc=Ls($c),Xc=zs(3,O),Hc=$c*re,Dc=Vs(Xc,oe),Qc=Ls(Hc),Gc=qc*ce+2*Ls(Hc),Rc=E*be,Uc=Ys(E,_e),Zc=K*Ne+Ls(Rc),jc=E*ae,Wc=Ys(E,pe),Jc=K*de+Ls(jc),Kc=O*se,ts=Ys(O,fe),ns=et*le+Ls(Kc),es=O*ve,rs=Ys(O,ge),os=et*xe+Ls(es),is=Rc+Kc,cs=ks(Uc,ts),ss=Ls(is),us=Zc+ns+ss,fs=jc+es,ls=ks(Wc,rs),as=Ls(fs),ps=Jc+os+as,hs=Yc*C,vs=Vs(Vc,e),gs=Lc*$+kc*p+2*Ls(hs),ms=Hc*B,xs=Vs(Dc,i),bs=Gc*H+Qc*v+2*Ls(ms),_s=is*P,Is=Vs(cs,r),Ns=us*q+ss*h+2*Ls(_s),Ss=fs*A,Es=Vs(ls,o),ws=ps*X+as*d+2*Ls(Ss),Ms=se*z,Os=Vs(fe,c),Ts=le*D+ue*g+2*Ls(Ms),ys=ae*Y,Cs=Vs(pe,u),Ps=de*Q+he*x+2*Ls(ys),As=tr*F,Bs=Vs(nr,s),qs=rr*G+er*m+2*Ls(As),Xs=j*V,Hs=Vs(N,f),Ds=T*R+nt*b+2*Ls(Xs),Qs=J*k,Gs=Vs(w,l),Rs=y*U+ot*_+2*Ls(Qs),Us=hs+ms,Zs=ks(vs,xs),js=gs+bs+Ls(Us),Ws=_s+Ss,Js=ks(Is,Es),Ks=Ns+ws+Ls(Ws),tu=Ms+ys,nu=ks(Os,Cs),eu=Ts+Ps+Ls(tu),ru=Us+Ws,ou=ks(Zs,Js),iu=js+Ks+Ls(ru),cu=tu+As,su=ks(nu,Bs),uu=eu+qs+Ls(cu),fu=Xs+Qs,lu=ks(Hs,Gs),au=Ds+Rs+Ls(fu),pu=ru+cu,hu=ks(ou,su),du=iu+uu+Ls(pu),vu=pu+fu,gu=ks(hu,lu),mu=du+au+Ls(vu),xu=Ac*ct,bu=Vs(Fc,Ot),_u=Ls(xu),Iu=Bc*Tt+2*_u,Nu=$c*It,Su=Vs(Xc,nn),Eu=Ls(Nu),wu=qc*en+2*Eu,Mu=E*Qe,Ou=Ys(E,Ge),Tu=Ls(Mu),yu=K*Re+Ls(Mu),Cu=O*Ue,Pu=Ys(O,Ze),Au=Ls(Cu),Bu=et*je+Ls(Cu),zu=ct*z,Fu=Vs(Ot,c),Yu=Tt*D+hn*g+2*Ls(zu),Vu=It*Y,ku=Vs(nn,u),Lu=en*Q+In*x+2*Ls(Vu),$u=ft*F,qu=Vs(At,s),Xu=Bt*G+vn*m+2*Ls($u),Hu=ht*F,Du=Vs($t,s),Qu=qt*G+bn*m+2*Ls(Hu),Gu=2*(zu+Vu),Ru=Fs(ks(Fu,ku)),Uu=2*(Yu+Lu)+Ls(Gu),Zu=$u+Hu,ju=ks(qu,Du),Wu=Xu+Qu+Ls(Zu),Ju=Z*V,Ku=Vs(S,f),tf=tt*b+2*Ls(Ju),nf=W*k,ef=Vs(M,l),rf=rt*_+2*Ls(nf),of=xu*C,cf=Vs(bu,e),sf=Iu*$+_u*p+2*Ls(of),uf=Nu*B,ff=Vs(Su,i),lf=wu*H+Eu*v+2*Ls(uf),af=Mu*P,pf=Vs(Ou,r),hf=yu*q+Tu*h+2*Ls(af),df=Cu*A,vf=Vs(Pu,o),gf=Bu*X+Au*d+2*Ls(df),mf=of+uf,xf=ks(cf,ff),bf=sf+lf+Ls(mf),_f=af+df,If=ks(pf,vf),Nf=hf+gf+Ls(_f),Sf=mf+_f,Ef=ks(xf,If),wf=bf+Nf+Ls(Sf),Mf=Gu+Zu,Of=ks(Ru,ju),Tf=Uu+Wu+Ls(Mf),yf=Ju+nf,Cf=ks(Ku,ef),Pf=tf+rf+Ls(yf),Af=Sf+Mf,Bf=ks(Ef,Of),zf=wf+Tf+Ls(Af),Ff=Af+yf,Yf=ks(Bf,Cf),Vf=zf+Pf+Ls(Ff),kf=E*C,Lf=Ys(E,e),$f=K*p+Ls(kf),qf=E*A,Xf=Ys(E,o),Hf=K*d+Ls(qf),Df=O*P,Qf=Ys(O,r),Gf=et*h+Ls(Df),Rf=O*B,Uf=Ys(O,i),Zf=et*v+Ls(Rf),jf=kf+Df,Wf=ks(Lf,Qf),Jf=$f+Gf+Ls(jf),Kf=qf+Rf,tl=ks(Xf,Uf),nl=Hf+Zf+Ls(Kf),el=jf+z,rl=ks(Wf,c),ol=Jf+g+Ls(el),il=Kf+Y,cl=ks(tl,u),sl=nl+x+Ls(il),ul=it*el,fl=Vs(Mt,rl),ll=pn*ol+2*Ls(ul),al=_t*il,pl=Vs(tn,cl),hl=_n*sl+2*Ls(al),dl=ut*F,vl=Vs(Pt,s),gl=dn*m+2*Ls(dl),ml=E*V,xl=Ys(E,f),bl=K*b+Ls(ml),_l=O*k,Il=Ys(O,l),Nl=et*_+Ls(_l),Sl=ul+al,El=ks(fl,pl),wl=ll+hl+Ls(Sl),Ml=Sl+dl,Ol=ks(El,vl),Tl=wl+gl+Ls(Ml),yl=ml+_l,Cl=ks(xl,Il),Pl=bl+Nl+Ls(yl),Al=Ml+yl,Bl=ks(Ol,Cl),zl=Tl+Pl+Ls(Al),Fl=Al+L,Yl=ks(Bl,a),Vl=zl+I+Ls(Fl);return{coeffs:[Wn,Zr,mi,Cc,gu,Yf,Yl],errBound:[$s*Jn,$s*jr,$s*xi,$s*Pc,$s*mu,$s*Vf,$s*Vl]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:a},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:h,vₓᵧᵧ_:d,vᵧᵧᵧ_:v,vₓₓ_:g,vₓᵧ_:m,vᵧᵧ_:x,vₓ_:b,vᵧ_:_,v_:I}}=ds(t),{coeffs:[[N,S,E,[,w]],[M,O,T,[,y]]],errorBound:[[C,P,A],[B,z,F]]}=Bc(n),Y=e[1],V=r[1],k=o[1],L=i[1],$=c[1],q=s[1],X=u[1],H=f[1],D=l[1],Q=a[1],G=ou(Y),R=ou(V),U=ou(k),Z=ou(L),j=ou($),W=ou(q),J=ou(X),K=ou(H),tt=ou(D),nt=(ou(Q),E[1]),et=S[1],rt=N[1],ot=T[1],it=O[1],ct=M[1],st=ou(w),ut=ou(nt),ft=ou(et),lt=ou(rt),at=ou(y),pt=ou(ot),ht=ou(it),dt=ou(ct),vt=w*w,gt=w*nt,mt=w*et,xt=w*rt,bt=w*y,_t=w*ot,It=w*it,Nt=w*ct,St=nt*nt,Et=nt*et,wt=nt*rt,Mt=nt*y,Ot=nt*ot,Tt=nt*it,yt=nt*ct,Ct=et*ot,Pt=et*et,At=et*rt,Bt=et*y,zt=et*it,Ft=et*ct,Yt=rt*rt,Vt=rt*y,kt=rt*ot,Lt=rt*it,$t=rt*ct,qt=y*y,Xt=y*ot,Ht=y*it,Dt=y*ct,Qt=ot*ot,Gt=ot*it,Rt=ct*ct,Ut=it*it,Zt=it*ct,jt=ot*ct,Wt=Ks(w,w),Jt=nu(w,E),Kt=st*A+ou(gt),tn=nu(w,S),nn=st*P+ou(mt),en=nu(w,N),rn=st*C+ou(xt),on=Ks(w,y),cn=nu(w,T),sn=st*F+ou(_t),un=nu(w,O),fn=st*z+ou(It),ln=nu(w,M),an=st*B+ou(Nt),pn=eu(E,E),hn=ou(St),dn=2*(A*ut+hn),vn=eu(E,S),gn=A*ft+ut*P+2*ou(Et),mn=eu(E,N),xn=A*lt+ut*C+2*ou(wt),bn=nu(y,E),_n=at*A+ou(Mt),In=eu(E,T),Nn=A*pt+ut*F+2*ou(Ot),Sn=eu(E,O),En=A*ht+ut*z+2*ou(Tt),wn=eu(E,M),Mn=A*dt+ut*B+2*ou(yt),On=eu(S,T),Tn=P*pt+ft*F+2*ou(Ct),yn=eu(S,S),Cn=ou(Pt),Pn=2*(P*ft+Cn),An=eu(S,N),Bn=P*lt+ft*C+2*ou(At),zn=nu(y,S),Fn=at*P+ou(Bt),Yn=eu(S,O),Vn=P*ht+ft*z+2*ou(zt),kn=eu(S,M),Ln=P*dt+ft*B+2*ou(Ft),$n=eu(N,N),qn=2*(C*lt+ou(Yt)),Xn=nu(y,N),Hn=at*C+ou(Vt),Dn=eu(N,T),Qn=C*pt+lt*F+2*ou(kt),Gn=eu(N,O),Rn=ou(Lt),Un=C*ht+lt*z+2*Rn,Zn=eu(N,M),jn=C*dt+lt*B+2*ou($t),Wn=Ks(y,y),Jn=nu(y,T),Kn=at*F+ou(Xt),te=nu(y,O),ne=at*z+ou(Ht),ee=nu(y,M),re=at*B+ou(Dt),oe=eu(T,T),ie=ou(Qt),ce=2*(F*pt+ie),se=eu(T,O),ue=F*ht+pt*z+2*ou(Gt),fe=eu(M,M),le=2*(B*dt+ou(Rt)),ae=eu(O,O),pe=ou(Ut),he=2*(z*ht+pe),de=eu(O,M),ve=z*dt+ht*B+2*ou(Zt),ge=eu(T,M),me=ou(jt),xe=F*dt+pt*B+2*me,be=ou(vt),_e=ou(gt),Ie=ou(At),Ne=ou(Yt),Se=ou($t),Ee=ou(bt),we=ou(qt),Me=ou(Xt),Oe=ou(Zt),Te=ou(Rt),ye=rt*Yt,Ce=eu(N,$n),Pe=lt*Ne,Ae=C*Ne+lt*qn+2*Pe,Be=rt*Rt,ze=eu(N,fe),Fe=lt*Te,Ye=C*Te+lt*le+2*Fe,Ve=ct*Yt,ke=eu(M,$n),Le=dt*Ne,$e=B*Ne+dt*qn+2*Le,qe=ct*Rt,Xe=eu(M,fe),He=dt*Te,De=B*Te+dt*le+2*He,Qe=ye*Y,Ge=eu(Ce,e),Re=Ae*G+Pe*p+2*ou(Qe),Ue=Be*k,Ze=eu(ze,o),je=Ye*U+Fe*d+2*ou(Ue),We=Ve*V,Je=eu(ke,r),Ke=$e*R+Le*h+2*ou(We),tr=qe*L,nr=eu(Xe,i),er=De*Z+He*v+2*ou(tr),rr=Qe+Ue,or=ru(Ge,Ze),ir=Re+je+ou(rr),cr=We+tr,sr=ru(Je,nr),ur=Ke+er+ou(cr),fr=rr+cr,lr=ru(or,sr),ar=ir+ur+ou(fr),pr=2*Ft+Lt,hr=ou(pr),dr=ru(tu(kn),Gn),vr=2*Ln+Un+hr,gr=2*Lt+Ft,mr=ou(gr),xr=ru(tu(Gn),kn),br=2*Un+Ln+ou(gr),_r=rt*pr,Ir=ou(_r),Nr=eu(N,dr),Sr=C*hr+lt*vr+2*Ir,Er=ct*gr,wr=ou(Er),Mr=eu(M,xr),Or=B*mr+dt*br+2*wr,Tr=et*Yt,yr=ou(Tr),Cr=eu(S,$n),Pr=P*Ne+ft*qn+2*yr,Ar=it*Rt,Br=ou(Ar),zr=eu(O,fe),Fr=z*Te+ht*le+2*Br,Yr=Y*Tr,Vr=eu(e,Cr),kr=Pr*G+G*Pr+2*ou(Yr),Lr=L*Ar,$r=eu(i,zr),qr=Fr*Z+Z*Fr+2*ou(Lr),Xr=V*_r,Hr=eu(r,Nr),Dr=Sr*R+R*Sr+2*ou(Xr),Qr=k*Er,Gr=eu(o,Mr),Rr=Or*U+U*Or+2*ou(Qr),Ur=Xr+Qr,Zr=ru(Hr,Gr),jr=Dr+Rr+ou(Ur),Wr=3*(Yr+Lr),Jr=nu(3,ru(Vr,$r)),Kr=3*(kr+qr)+2*ou(Wr),to=Ur+Wr,no=ru(Zr,Jr),eo=jr+Kr+ou(to),ro=nt*$t,oo=eu(E,Zn),io=A*Se+ut*jn+2*ou(ro),co=ot*Yt,so=eu(T,$n),uo=F*Ne+pt*qn+2*ou(co),fo=et*Zt,lo=eu(S,de),ao=P*Oe+ft*ve+2*ou(fo),po=nt*Rt,ho=eu(E,fe),vo=A*Te+ut*le+2*ou(po),go=et*Lt,mo=eu(S,Gn),xo=P*Rn+ft*Un+2*ou(go),bo=ct*Pt,_o=eu(M,yn),Io=B*Cn+dt*Pn+2*ou(bo),No=rt*jt,So=eu(N,ge),Eo=C*me+lt*xe+2*ou(No),wo=it*Lt,Mo=eu(O,Gn),Oo=z*Rn+ht*Un+2*ou(wo),To=ro+go,yo=ru(oo,mo),Co=io+xo+ou(To),Po=co+bo,Ao=ru(so,_o),Bo=uo+Io+ou(Po),zo=fo+No,Fo=ru(lo,So),Yo=ao+Eo+ou(zo),Vo=po+wo,ko=ru(ho,Mo),Lo=vo+Oo+ou(Vo),$o=wt+Pt,qo=ru(mn,yn),Xo=ou($o),Ho=xn+Pn+Xo,Do=jt+Ut,Qo=ou(Do),Go=ru(ge,ae),Ro=xe+he+Qo,Uo=2*To+Po,Zo=ru(tu(yo),Ao),jo=ou(Uo),Wo=2*Co+Bo+jo,Jo=2*zo+Vo,Ko=ru(tu(Fo),ko),ti=ou(Jo),ni=2*Yo+Lo+ti,ei=V*Uo,ri=eu(r,Zo),oi=h*jo+R*Wo+2*ou(ei),ii=k*Jo,ci=eu(o,Ko),si=d*ti+U*ni+2*ou(ii),ui=rt*$o,fi=eu(N,qo),li=ou(ui),ai=C*Xo+lt*Ho+2*li,pi=ct*Do,hi=eu(M,Go),di=ou(pi),vi=B*Qo+dt*Ro+2*di,gi=Y*ui,mi=eu(e,fi),xi=p*li+G*ai+2*ou(gi),bi=L*pi,_i=eu(i,hi),Ii=v*di+Z*vi+2*ou(bi),Ni=ei+ii,Si=ru(ri,ci),Ei=oi+si+ou(Ni),wi=3*(gi+bi),Mi=nu(3,ru(mi,_i)),Oi=3*(xi+Ii)+2*ou(wi),Ti=Ni+wi,yi=ru(Si,Mi),Ci=Ei+Oi+ou(Ti),Pi=Ft+Lt,Ai=ru(kn,Gn),Bi=ou(Pi),zi=Ln+Un+Bi,Fi=it*Pt,Yi=eu(O,yn),Vi=z*Cn+ht*Pn+2*ou(Fi),ki=2*nt*Pi,Li=tu(eu(E,Ai)),$i=2*(A*Bi+ut*zi+2*ou(ki)),qi=Fi+ki,Xi=ru(Yi,Li),Hi=Vi+$i+ou(qi),Di=2*(Nt+Ct),Qi=tu(ru(ln,On)),Gi=2*(an+Tn)+ou(Di),Ri=Di+Vt,Ui=ou(Ri),Zi=ru(Qi,Xn),ji=Gi+Hn+Ui,Wi=rt*Ri,Ji=eu(N,Zi),Ki=C*Ui+lt*ji+2*ou(Wi),tc=qi+Wi,nc=ru(Xi,Ji),ec=ou(tc),rc=Hi+Ki+ec,oc=et*Ut,ic=eu(S,ae),cc=P*pe+ft*he+2*ou(oc),sc=2*ot*Pi,uc=tu(eu(T,Ai)),fc=2*(F*Bi+pt*zi+ou(sc)),lc=oc+sc,ac=ru(ic,uc),pc=cc+fc+ou(lc),hc=2*(Tt+Vt),dc=tu(ru(Sn,Xn)),vc=2*(En+Hn)+ou(hc),gc=hc+Nt,mc=ru(dc,ln),xc=ou(gc),bc=vc+an+xc,_c=ct*gc,Ic=eu(M,mc),Nc=B*xc+dt*bc+2*ou(_c),Sc=lc+_c,Ec=ru(ac,Ic),wc=ou(Sc),Mc=pc+Nc+wc,Oc=et*Pt,Tc=eu(S,yn),yc=P*Cn+ft*Pn+2*ou(Oc),Cc=2*Et+xt,Pc=ru(tu(vn),en),Ac=ou(Cc),zc=2*gn+rn+Ac,Fc=3*rt,Yc=nu(3,N),Vc=ou(Fc),kc=3*C+Vc,Lc=Fc*Cc,$c=eu(Yc,Pc),qc=kc*Ac+Vc*zc+2*ou(Lc),Xc=Oc+Lc,Hc=ru(Tc,$c),Dc=ou(Xc),Qc=yc+qc+Dc,Gc=it*Ut,Rc=eu(O,ae),Uc=z*pe+ht*he+2*ou(Gc),Zc=2*Gt+Dt,jc=ru(tu(se),ee),Wc=ou(Zc),Jc=2*ue+re+Wc,Kc=3*ct,ts=nu(3,M),ns=ou(Kc),es=3*B+ns,rs=Kc*Zc,os=eu(ts,jc),is=es*Wc+ns*Jc+2*ou(rs),cs=Gc+rs,ss=ru(Rc,os),us=ou(cs),fs=Uc+is+us,ls=V*tc,as=eu(r,nc),ps=h*ec+R*rc+2*ou(ls),hs=k*Sc,vs=eu(o,Ec),gs=d*wc+U*Mc+2*ou(hs),ms=ls+hs,xs=ru(as,vs),bs=ps+gs+ou(ms),_s=Y*Xc,Is=eu(e,Hc),Ns=p*Dc+G*Qc+2*ou(_s),Ss=L*cs,Es=eu(i,ss),ws=v*us+Z*fs+2*ou(Ss),Ms=_s+Ss,Os=ru(Is,Es),Ts=Ns+ws+ou(Ms),ys=$*Yt,Cs=eu($n,c),Ps=qn*j+Ne*g+2*ou(ys),As=X*Rt,Bs=eu(fe,u),zs=le*J+Te*x+2*ou(As),Fs=ys+As,Ys=ru(Cs,Bs),Vs=Ps+zs+ou(Fs),ks=q*$t,Ls=eu(Zn,s),$s=jn*W+Se*m+2*ou(ks),qs=ms+Ms,Xs=ru(xs,Os),Hs=bs+Ts+ou(qs),Ds=Fs+ks,Qs=ru(Ys,Ls),Gs=Vs+$s+ou(Ds),Rs=qs+Ds,Us=ru(Xs,Qs),Zs=Hs+Gs+ou(Rs),js=zt+kt,Ws=ru(Yn,Dn),Js=ou(js),cu=Vn+Qn+Js,su=yt+zt,uu=ru(wn,Yn),fu=ou(su),lu=Mn+Vn+fu,au=w*Pi,pu=nu(w,Ai),hu=st*zi+ou(au),du=y*Pi,vu=nu(y,Ai),gu=at*zi+ou(du),mu=nt*js,xu=eu(E,Ws),bu=A*Js+ut*cu+2*ou(mu),_u=ot*su,Iu=eu(T,uu),Nu=F*fu+pt*lu+2*ou(_u),Su=2*Vt+Ct,Eu=ru(tu(Xn),On),wu=ou(Su),Mu=2*Hn+Tn+wu,Ou=2*Nt+Tt,Tu=ru(tu(ln),Sn),yu=ou(Ou),Cu=2*an+En+yu,Pu=ct*St,Au=eu(M,pn),Bu=B*hn+dt*dn+2*ou(Pu),zu=rt*Qt,Fu=eu(N,oe),Yu=C*ie+lt*ce+2*ou(zu),Vu=et*Su,ku=eu(S,Eu),Lu=P*wu+ft*Mu+2*ou(Vu),$u=it*Ou,qu=eu(O,Tu),Xu=z*yu+ht*Cu+2*ou($u),Hu=2*(au+mu),Du=tu(ru(pu,xu)),Qu=2*(hu+bu)+ou(Hu),Gu=2*(du+_u),Ru=tu(ru(vu,Iu)),Uu=2*(gu+Nu)+ou(Gu),Zu=2*w*At,ju=tu(nu(w,An)),Wu=2*st*Bn+ou(Zu),Ju=2*y*Zt,Ku=tu(nu(y,de)),tf=2*at*ve+ou(Ju),nf=nt*$o,ef=eu(E,qo),rf=A*Xo+ut*Ho+2*ou(nf),of=ot*Do,cf=eu(T,Go),sf=F*Qo+pt*Ro+2*ou(of),uf=$*At,ff=eu(An,c),lf=Bn*j+Ie*g+2*ou(uf),af=X*Zt,pf=eu(de,u),hf=ve*J+Oe*x+2*ou(af),df=Hu+Pu,vf=ru(Du,Au),gf=ou(df),mf=Qu+Bu+gf,xf=Gu+zu,bf=ru(Ru,Fu),_f=ou(xf),If=Uu+Yu+_f,Nf=df+Vu,Sf=ru(vf,ku),Ef=ou(Nf),wf=mf+Lu+Ef,Mf=xf+$u,Of=ru(bf,qu),Tf=ou(Mf),yf=If+Xu+Tf,Cf=Zu+nf,Pf=ru(ju,ef),Af=ou(Cf),Bf=Wu+rf+Af,zf=Ju+of,Ff=ru(Ku,cf),Yf=ou(zf),Vf=tf+sf+Yf,kf=2*(uf+af),Lf=tu(ru(ff,pf)),$f=2*(lf+hf)+ou(kf),qf=V*Nf,Xf=eu(r,Sf),Hf=h*Ef+R*wf+2*ou(qf),Df=k*Mf,Qf=eu(o,Of),Gf=d*Tf+U*yf+2*ou(Df),Rf=Y*Cf,Uf=eu(e,Pf),Zf=p*Af+G*Bf+2*ou(Rf),jf=L*zf,Wf=eu(i,Ff),Jf=v*Yf+Z*Vf+2*ou(jf),Kf=qf+Df,tl=ru(Xf,Qf),nl=Hf+Gf+ou(Kf),el=3*(Rf+jf),rl=nu(3,ru(Uf,Wf)),ol=3*(Zf+Jf)+2*ou(el),il=q*Pi,cl=eu(s,Ai),sl=m*Bi+W*zi+2*ou(il),ul=Kf+el,fl=ru(tl,rl),ll=nl+ol+ou(ul),al=il+kf,pl=ru(cl,Lf),hl=sl+$f+ou(al),dl=ul+al,vl=ru(fl,pl),gl=ll+hl+ou(dl),ml=yt+js,xl=ru(wn,Ws),bl=ou(ml),_l=Mn+cu+bl,Il=2*wt+Pt,Nl=ru(tu(mn),yn),Sl=ou(Il),El=2*xn+Pn+Sl,wl=2*jt+Ut,Ml=ru(tu(ge),ae),Ol=ou(wl),Tl=2*xe+he+Ol,yl=2*w*ml,Cl=nu(2*w,xl),Pl=2*st*_l+ou(yl),Al=2*y*ml,Bl=nu(2*y,xl),zl=2*at*_l+ou(Al),Fl=Tt+2*Ct,Yl=ru(Sn,tu(On)),Vl=ou(Fl),kl=En+2*Tn+Vl,Ll=Ct+2*Tt,$l=ru(On,tu(Sn)),ql=ou(Ll),Xl=Tn+2*En+ql,Hl=y*Il,Dl=nu(y,Nl),Ql=at*El+ou(Hl),Gl=w*wl,Rl=nu(w,Ml),Ul=st*Tl+ou(Gl),Zl=nt*Fl,jl=eu(E,Yl),Wl=A*Vl+ut*kl+2*ou(Zl),Jl=ot*Ll,Kl=eu(T,$l),ta=F*ql+pt*Xl+2*ou(Jl),na=w*Il,ea=nu(w,Nl),ra=st*El+ou(na),oa=y*wl,ia=nu(y,Ml),ca=at*Tl+ou(oa),sa=et*St,ua=eu(S,pn),fa=P*hn+ft*dn+2*ou(sa),la=it*Qt,aa=eu(O,oe),pa=z*ie+ht*ce+2*ou(la),ha=yl+Hl,da=ru(Cl,Dl),va=Pl+Ql+ou(ha),ga=Al+Gl,ma=ru(Bl,Rl),xa=zl+Ul+ou(ga),ba=ha+Zl,_a=ru(da,jl),Ia=ou(ba),Na=va+Wl+Ia,Sa=ga+Jl,Ea=ru(ma,Kl),wa=ou(Sa),Ma=xa+ta+wa,Oa=na+sa,Ta=ru(ea,ua),ya=ou(Oa),Ca=ra+fa+ya,Pa=oa+la,Aa=ru(ia,aa),Ba=ou(Pa),za=ca+pa+Ba,Fa=V*ba,Ya=eu(r,_a),Va=h*Ia+R*Na+2*ou(Fa),ka=k*Sa,La=eu(o,Ea),$a=d*wa+U*Ma+2*ou(ka),qa=Y*Oa,Xa=eu(e,Ta),Ha=p*ya+G*Ca+2*ou(qa),Da=L*Pa,Qa=eu(i,Aa),Ga=v*Ba+Z*za+2*ou(Da),Ra=qa+Da,Ua=ou(Ra),Za=ru(Xa,Qa),ja=Ha+Ga+Ua,Wa=Fa+ka,Ja=ru(Ya,La),Ka=Va+$a+ou(Wa),tp=Wa+3*Ra,np=ru(Ja,nu(3,Za)),ep=Ka+3*(ja+Ua)+ou(tp),rp=q*ml,op=eu(s,xl),ip=m*bl+W*_l+2*ou(rp),cp=$*Il,sp=eu(c,Nl),up=g*Sl+j*El+2*ou(cp),fp=rp+cp,lp=ru(op,sp),ap=ip+up+ou(fp),pp=X*wl,hp=eu(u,Ml),dp=x*Ol+J*Tl+2*ou(pp),vp=fp+pp,gp=ru(lp,hp),mp=ap+dp+ou(vp),xp=tp+vp,bp=ru(np,gp),_p=ep+mp+ou(xp),Ip=Tt+Ct,Np=ru(Sn,On),Sp=En+Tn+ou(Ip),Ep=Vt+Nt,wp=ru(Xn,ln),Mp=Hn+an+ou(Ep),Op=Et+xt,Tp=ru(vn,en),yp=gn+rn+ou(Op),Cp=ou(Op),Pp=Gt+Dt,Ap=ru(se,ee),Bp=ue+re+ou(Pp),zp=ou(Pp),Fp=2*Ip+Vt,Yp=ru(tu(Np),Xn),Vp=2*Sp+Hn+ou(Fp),kp=2*Ip+Nt,Lp=ru(tu(Np),ln),$p=2*Sp+an+ou(kp),qp=2*Bt+Ot,Xp=ru(tu(zn),In),Hp=ou(qp),Dp=2*Fn+Nn+Hp,Qp=2*It+Ot,Gp=ru(tu(un),In),Rp=ou(Qp),Up=2*fn+Nn+Rp,Zp=Op+Et,jp=ru(Tp,vn),Wp=yp+gn+ou(Zp),Jp=Pp+Gt,Kp=ru(Ap,se),th=Bp+ue+ou(Jp),nh=3*w,eh=Ks(3,w),rh=nh*Zp,oh=eu(eh,jp),ih=ou(nh)*Wp+2*ou(rh),ch=3*y,sh=Ks(3,y),uh=ch*Jp,fh=eu(sh,Kp),lh=ou(ch)*th+2*ou(uh),ah=nt*St,ph=eu(E,pn),hh=A*hn+ut*dn+2*ou(ah),dh=ot*Qt,vh=eu(T,oe),gh=F*ie+pt*ce+2*ou(dh),mh=$*Op,xh=eu(c,Tp),bh=g*Cp+j*yp+ou(mh),_h=X*Pp,Ih=eu(u,Ap),Nh=x*zp+J*Bp+ou(_h),Sh=Fp+Ep,Eh=ru(Yp,wp),wh=Vp+Mp+ou(Sh),Mh=kp+Ep,Oh=ru(Lp,wp),Th=$p+Mp+ou(Mh),yh=w*Sh,Ch=nu(w,Eh),Ph=st*wh+ou(yh),Ah=y*Mh,Bh=nu(y,Oh),zh=at*Th+ou(Ah),Fh=nt*qp,Yh=eu(E,Xp),Vh=A*Hp+ut*Dp+2*ou(Fh),kh=ot*Qp,Lh=eu(T,Gp),$h=F*Rp+pt*Up+2*ou(kh),qh=rt*H,Xh=eu(N,f),Hh=C*K+lt*b+2*ou(qh),Dh=ct*D,Qh=eu(M,l),Gh=B*tt+dt*_+2*ou(Dh),Rh=yh+Fh,Uh=ru(Ch,Yh),Zh=ou(Rh),jh=Ph+Vh+Zh,Wh=Ah+kh,Jh=ru(Bh,Lh),Kh=ou(Wh),td=zh+$h+Kh,nd=rh+ah,ed=ru(oh,ph),rd=ou(nd),od=ih+hh+rd,id=uh+dh,cd=ru(fh,vh),sd=ou(id),ud=lh+gh+sd,fd=Ep+Ip,ld=ru(wp,Np),ad=ou(fd),pd=Mp+Sp+ad,hd=2*(mh+_h),dd=tu(ru(xh,Ih)),vd=2*(bh+Nh)+ou(hd),gd=V*Rh,md=eu(r,Uh),xd=h*Zh+R*jh+2*ou(gd),bd=k*Wh,_d=eu(o,Jh),Id=d*Kh+U*td+2*ou(bd),Nd=Y*nd,Sd=eu(e,ed),Ed=p*rd+G*od+2*ou(Nd),wd=L*id,Md=eu(i,cd),Od=v*sd+Z*ud+2*ou(wd),Td=q*fd,yd=eu(s,ld),Cd=m*ad+W*pd+2*ou(Td),Pd=gd+bd,Ad=ru(md,_d),Bd=xd+Id+ou(Pd),zd=Nd+wd,Fd=ru(Sd,Md),Yd=Ed+Od+ou(zd),Vd=Td+hd,kd=ru(yd,dd),Ld=Cd+vd+ou(Vd),$d=qh+Dh,qd=ru(Xh,Qh),Xd=Hh+Gh+ou($d),Hd=Pd+zd,Dd=ru(Ad,Fd),Qd=Bd+Yd+ou(Hd),Gd=Vd+$d,Rd=ru(kd,qd),Ud=Ld+Xd+ou(Gd),Zd=Hd+Gd,jd=ru(Dd,Rd),Wd=Qd+Ud+ou(Zd),Jd=Ot+Bt,Kd=ru(In,zn),tv=Nn+Fn+ou(Jd),nv=Ot+It,ev=ru(In,un),rv=Nn+fn+ou(nv),ov=2*Jd+It,iv=ru(tu(Kd),un),cv=2*tv+fn+ou(ov),sv=2*nv+Bt,uv=ru(tu(ev),zn),fv=2*rv+Fn+ou(sv),lv=w*ov,av=nu(w,iv),pv=st*cv+ou(lv),hv=y*St,dv=nu(y,pn),vv=at*dn+ou(hv),gv=y*sv,mv=nu(y,uv),xv=at*fv+ou(gv),bv=w*Qt,_v=nu(w,oe),Iv=st*ce+ou(bv),Nv=w*St,Sv=nu(w,pn),Ev=st*dn+ou(Nv),wv=et*vt,Mv=eu(S,Wt),Ov=P*be+2*ou(wv),Tv=y*Qt,yv=nu(y,oe),Cv=at*ce+ou(Tv),Pv=it*qt,Av=eu(O,Wn),Bv=z*we+2*ou(Pv),zv=lv+hv,Fv=ru(av,dv),Yv=pv+vv+ou(zv),Vv=pv+vv+Yv,kv=gv+bv,Lv=ru(mv,_v),$v=xv+Iv+ou(kv),qv=xv+Iv+$v,Xv=Nv+wv,Hv=ru(Sv,Mv),Dv=ou(Xv),Qv=Ev+Ov+Dv,Gv=Tv+Pv,Rv=ru(yv,Av),Uv=ou(Gv),Zv=Cv+Bv+Uv,jv=Y*Xv,Wv=eu(e,Hv),Jv=p*Dv+G*Qv+2*ou(jv),Kv=L*Gv,tg=eu(i,Rv),ng=v*Uv+Z*Zv+2*ou(Kv),eg=3*(jv+Kv),rg=nu(3,ru(Wv,tg)),og=3*(Jv+ng)+2*ou(eg),ig=Jd+It,cg=ru(Kd,un),sg=ou(ig),ug=tv+fn+sg,fg=2*mt+St,lg=ru(tu(tn),pn),ag=ou(fg),pg=2*nn+dn+ag,hg=2*Ht+Qt,dg=ru(tu(te),oe),vg=ou(hg),gg=2*ne+ce+vg,mg=V*zv,xg=eu(r,Fv),bg=h*Yv+R*Vv+2*ou(mg),_g=k*kv,Ig=eu(o,Lv),Ng=d*$v+U*qv+2*ou(_g),Sg=q*ig,Eg=eu(s,cg),wg=m*sg+W*ug+2*ou(Sg),Mg=$*fg,Og=eu(c,lg),Tg=g*ag+j*pg+2*ou(Mg),yg=X*hg,Cg=eu(u,dg),Pg=x*vg+J*gg+2*ou(yg),Ag=et*H,Bg=eu(S,f),zg=P*K+ft*b+ou(Ag),Fg=it*D,Yg=eu(O,l),Vg=z*tt+ht*_+ou(Fg),kg=Ag+Fg,Lg=ru(Bg,Yg),$g=zg+Vg+ou(kg),qg=mg+_g,Xg=ru(xg,Ig),Hg=bg+Ng+ou(qg),Dg=eg+Sg,Qg=ru(rg,Eg),Gg=og+wg+ou(Dg),Rg=Mg+yg,Ug=ru(Og,Cg),Zg=Tg+Pg+ou(Rg),jg=qg+Dg,Wg=ru(Xg,Qg),Jg=Hg+Gg+ou(jg),Kg=Rg+kg,tm=ru(Ug,Lg),nm=Zg+$g+ou(Kg),em=jg+Kg,rm=ru(Wg,tm),om=Jg+nm+ou(em),im=Mt+_t,cm=ru(bn,cn),sm=ou(im),um=_n+sn+sm,fm=w*V,lm=nu(w,r),am=ou(fm),pm=st*h+am,hm=y*k,dm=nu(y,o),vm=ou(hm),gm=at*d+vm,mm=im+Mt,xm=ru(cm,bn),bm=ou(mm),_m=um+_n+bm,Im=im+_t,Nm=ru(cm,cn),Sm=ou(Im),Em=um+sn+Sm,wm=nt*vt,Mm=eu(E,Wt),Om=ou(wm),Tm=A*be+2*Om,ym=wm*Y,Cm=eu(Mm,e),Pm=Tm*G+Om*p+2*ou(ym),Am=ot*qt,Bm=eu(T,Wn),zm=ou(Am),Fm=F*we+2*zm,Ym=Am*L,Vm=eu(Bm,i),km=Fm*Z+zm*v+2*ou(Ym),Lm=q*im,$m=eu(s,cm),qm=m*sm+W*um+2*ou(Lm),Xm=gt*$,Hm=eu(Jt,c),Dm=Kt*j+_e*g+2*ou(Xm),Qm=Xt*X,Gm=eu(Jn,u),Rm=Kn*J+Me*x+2*ou(Qm),Um=Xm+Qm,Zm=ru(Hm,Gm),jm=Dm+Rm+ou(Um),Wm=nt*H,Jm=eu(E,f),Km=A*K+ut*b+ou(Wm),tx=ot*D,nx=eu(T,l),ex=F*tt+pt*_+ou(tx),rx=Wm+tx,ox=ru(Jm,nx),ix=Km+ex+ou(rx),cx=fm*mm,sx=eu(lm,xm),ux=pm*bm+am*_m+2*ou(cx),fx=hm*Im,lx=eu(dm,Nm),ax=gm*Sm+vm*Em+2*ou(fx),px=cx+fx,hx=ru(sx,lx),dx=ux+ax+ou(px),vx=3*(ym+Ym),gx=nu(3,ru(Cm,Vm)),mx=3*(Pm+km)+2*ou(vx),xx=Lm+2*Um,bx=ru($m,tu(Zm)),_x=qm+2*jm+ou(xx),Ix=px+vx,Nx=ru(hx,gx),Sx=dx+mx+ou(Ix),Ex=xx+rx,wx=ru(bx,ox),Mx=_x+ix+ou(Ex),Ox=Ix+Ex,Tx=ru(Nx,wx),yx=Sx+Mx+ou(Ox),Cx=w*Y,Px=nu(w,e),Ax=st*p+ou(Cx),Bx=y*V,zx=nu(y,r),Fx=at*h+ou(Bx),Yx=Cx+Bx,Vx=ru(Px,zx),kx=Ax+Fx+ou(Yx),Lx=w*k,$x=nu(w,o),qx=st*d+ou(Lx),Xx=y*L,Hx=nu(y,i),Dx=at*v+ou(Xx),Qx=Lx+Xx,Gx=ru($x,Hx),Rx=qx+Dx+ou(Qx),Ux=Yx+$,Zx=ru(Vx,c),jx=kx+g+ou(Ux),Wx=Qx+X,Jx=ru(Gx,u),Kx=Rx+x+ou(Wx),tb=vt*Ux,nb=eu(Wt,Zx),eb=be*jx+2*ou(tb),rb=qt*Wx,ob=eu(Wn,Jx),ib=we*Kx+2*ou(rb),cb=tb+rb,sb=ru(nb,ob),ub=eb+ib+ou(cb),fb=bt*q,lb=eu(on,s),ab=Ee*m+ou(fb),pb=cb+fb,hb=ru(sb,lb),db=ub+ab+ou(pb),vb=w*H,gb=nu(w,f),mb=st*b+ou(vb),xb=y*D,bb=nu(y,l),_b=at*_+ou(xb),Ib=vb+xb,Nb=ru(gb,bb),Sb=mb+_b+ou(Ib),Eb=pb+Ib,wb=ru(hb,Nb),Mb=db+Sb+ou(Eb),Ob=Eb+Q,Tb=ru(wb,a),yb=Mb+I+ou(Ob);return{coeffs:[lr,no,yi,Us,vl,bp,jd,rm,Tx,Tb],errBound:[iu*ar,iu*eo,iu*Ci,iu*Zs,iu*gl,iu*_p,iu*Wd,iu*om,iu*yx,iu*yb]}}]],Yf=[[du,nf,If],[Ou,ff,Tf],[ju,gf,function(t,n){const e=Bt(t);if(0===zf(e[0][0])&&0===zf(e[1][0]))return Tf(Fu(t),n);const[[r,o,i,[c]],[s,u,f,[l]]]=Bt(n);if(0===zf(r)&&0===zf(s))return gf(t,Fu(n));const{vₓₓₓ:a,vₓₓᵧ:p,vₓᵧᵧ:h,vᵧᵧᵧ:d,vₓₓ:v,vₓᵧ:g,vᵧᵧ:m,vₓ:x,vᵧ:b,v:_}=Hu(e),I=yf(c,c),N=Cf(c,i),S=Cf(c,o),E=Cf(c,r),w=yf(c,l),M=Cf(c,f),O=Cf(c,u),T=Cf(c,s),y=Pf(i,i),C=Pf(i,o),P=Pf(i,r),A=Cf(l,i),B=Pf(i,f),z=Pf(i,u),F=Pf(i,s),Y=Pf(o,f),V=Pf(o,o),k=Pf(o,r),L=Cf(l,o),$=Pf(o,u),q=Pf(o,s),X=Pf(r,r),H=Cf(l,r),D=Pf(r,f),Q=Pf(r,u),G=Pf(r,s),R=yf(l,l),U=Cf(l,f),Z=Cf(l,u),j=Cf(l,s),W=Pf(f,f),J=Pf(f,u),K=Pf(s,s),tt=Pf(u,u),nt=Pf(u,s),et=Pf(f,s),rt=Pf(r,X),ot=Pf(r,K),it=Pf(s,X),ct=Pf(s,K),st=Pf(rt,a),ut=Pf(ot,h),ft=Pf(it,p),lt=Pf(ct,d),at=Af(st,ut),pt=Af(ft,lt),ht=Af(at,pt),dt=Af(Bf(q),Q),vt=Af(Bf(Q),q),gt=Pf(r,dt),mt=Pf(s,vt),xt=Pf(o,X),bt=Pf(u,K),_t=Pf(a,xt),It=Pf(d,bt),Nt=Pf(p,gt),St=Pf(h,mt),Et=Af(Nt,St),wt=Cf(3,Af(_t,It)),Mt=Af(Et,wt),Ot=Pf(i,G),Tt=Pf(f,X),yt=Pf(o,nt),Ct=Pf(i,K),Pt=Pf(o,Q),At=Pf(s,V),zt=Pf(r,et),Ft=Pf(u,Q),Yt=Af(Ot,Pt),Vt=Af(Tt,At),kt=Af(yt,zt),Lt=Af(Ct,Ft),$t=Af(P,V),qt=Af(et,tt),Xt=Af(Bf(Yt),Vt),Ht=Af(Bf(kt),Lt),Dt=Pf(p,Xt),Qt=Pf(h,Ht),Gt=Pf(r,$t),Rt=Pf(s,qt),Ut=Pf(a,Gt),Zt=Pf(d,Rt),jt=Af(Dt,Qt),Wt=Cf(3,Af(Ut,Zt)),Jt=Af(jt,Wt),Kt=Af(q,Q),tn=Pf(u,V),nn=Bf(Pf(i,Kt)),en=Af(tn,nn),rn=Bf(Af(T,Y)),on=Af(rn,H),cn=Pf(r,on),sn=Af(en,cn),un=Pf(o,tt),fn=Bf(Pf(f,Kt)),ln=Af(un,fn),an=Bf(Af(z,H)),pn=Af(an,T),hn=Pf(s,pn),dn=Af(ln,hn),vn=Pf(o,V),gn=Af(Bf(C),E),mn=Pf(Cf(3,r),gn),xn=Af(vn,mn),bn=Pf(u,tt),_n=Af(Bf(J),j),In=Pf(Cf(3,s),_n),Nn=Af(bn,In),Sn=Pf(p,sn),En=Pf(h,dn),wn=Af(Sn,En),Mn=Pf(a,xn),On=Pf(d,Nn),Tn=Af(Mn,On),yn=Pf(X,v),Cn=Pf(K,m),Pn=Af(yn,Cn),An=Pf(G,g),Bn=Af(wn,Tn),zn=Af(Pn,An),Fn=Af(Bn,zn),Yn=Af($,D),Vn=Af(F,$),kn=Cf(c,Kt),Ln=Cf(l,Kt),$n=Pf(i,Yn),qn=Pf(f,Vn),Xn=Af(Bf(H),Y),Hn=Af(Bf(T),z),Dn=Pf(s,y),Qn=Pf(r,W),Gn=Pf(o,Xn),Rn=Pf(u,Hn),Un=Bf(Af(kn,$n)),Zn=Bf(Af(Ln,qn)),jn=Bf(Cf(c,k)),Wn=Bf(Cf(l,nt)),Jn=Pf(i,$t),Kn=Pf(f,qt),te=Pf(k,v),ne=Pf(nt,m),ee=Af(Un,Dn),re=Af(Zn,Qn),oe=Af(ee,Gn),ie=Af(re,Rn),ce=Af(jn,Jn),se=Af(Wn,Kn),ue=Bf(Af(te,ne)),fe=Pf(p,oe),le=Pf(h,ie),ae=Pf(a,ce),pe=Pf(d,se),he=Af(fe,le),de=Cf(3,Af(ae,pe)),ve=Pf(g,Kt),ge=Af(he,de),me=Af(ve,ue),xe=Af(ge,me),be=Af(F,Yn),_e=Af(Bf(P),V),Ie=Af(Bf(et),tt),Ne=Cf(2*c,be),Se=Cf(2*l,be),Ee=Af(z,Bf(Y)),we=Af(Y,Bf(z)),Me=Cf(l,_e),Oe=Cf(c,Ie),Te=Pf(i,Ee),ye=Pf(f,we),Ce=Cf(c,_e),Pe=Cf(l,Ie),Ae=Pf(o,y),Be=Pf(u,W),ze=Af(Ne,Me),Fe=Af(Se,Oe),Ye=Af(ze,Te),Ve=Af(Fe,ye),ke=Af(Ce,Ae),Le=Af(Pe,Be),$e=Pf(p,Ye),qe=Pf(h,Ve),Xe=Pf(a,ke),He=Pf(d,Le),De=Af(Xe,He),Qe=Af($e,qe),Ge=Af(Qe,Cf(3,De)),Re=Pf(g,be),Ue=Pf(v,_e),Ze=Af(Re,Ue),je=Pf(m,Ie),We=Af(Ze,je),Je=Af(Ge,We),Ke=Af(z,Y),tr=Af(H,T),nr=Af(C,E),er=Af(J,j),rr=Af(Bf(Ke),H),or=Af(Bf(Ke),T),ir=Af(Bf(L),B),cr=Af(Bf(O),B),sr=Af(nr,C),ur=Af(er,J),fr=Pf(yf(3,c),sr),lr=Pf(yf(3,l),ur),ar=Pf(i,y),pr=Pf(f,W),hr=Pf(v,nr),dr=Pf(m,er),vr=Af(rr,tr),gr=Af(or,tr),mr=Cf(c,vr),xr=Cf(l,gr),br=Pf(i,ir),_r=Pf(f,cr),Ir=Pf(r,x),Nr=Pf(s,b),Sr=Af(mr,br),Er=Af(xr,_r),wr=Af(fr,ar),Mr=Af(lr,pr),Or=Af(tr,Ke),Tr=Bf(Af(hr,dr)),yr=Pf(p,Sr),Cr=Pf(h,Er),Pr=Pf(a,wr),Ar=Pf(d,Mr),Br=Pf(g,Or),zr=Af(yr,Cr),Fr=Af(Pr,Ar),Yr=Af(Br,Tr),Vr=Af(Ir,Nr),kr=Af(zr,Fr),Lr=Af(Yr,Vr),$r=Af(kr,Lr),qr=Af(B,L),Xr=Af(B,O),Hr=Af(Bf(qr),O),Dr=Af(Bf(Xr),L),Qr=Cf(c,Hr),Gr=Cf(l,y),Rr=Cf(l,Dr),Ur=Cf(c,W),Zr=Cf(c,y),jr=Pf(o,I),Wr=Cf(l,W),Jr=Pf(u,R),Kr=Af(Qr,Gr),to=Af(Rr,Ur),no=Af(Zr,jr),eo=Af(Wr,Jr),ro=Pf(a,no),oo=Pf(d,eo),io=Cf(3,Af(ro,oo)),co=Af(qr,O),so=Af(Bf(S),y),uo=Af(Bf(Z),W),fo=Pf(p,Kr),lo=Pf(h,to),ao=Pf(g,co),po=Pf(v,so),ho=Pf(m,uo),vo=Pf(o,x),go=Pf(u,b),mo=Af(vo,go),xo=Af(fo,lo),bo=Af(io,ao),_o=Af(po,ho),Io=Af(xo,bo),No=Af(_o,mo),So=Af(Io,No),Eo=Af(A,M),wo=Cf(c,p),Mo=Cf(l,h),Oo=Af(Eo,A),To=Af(Eo,M),yo=Pf(i,I),Co=Pf(yo,a),Po=Pf(f,R),Ao=Pf(Po,d),Bo=Pf(g,Eo),zo=Pf(N,v),Fo=Pf(U,m),Yo=Af(zo,Fo),Vo=Pf(i,x),ko=Pf(f,b),Lo=Af(Vo,ko),$o=Pf(wo,Oo),qo=Pf(Mo,To),Xo=Af($o,qo),Ho=Cf(3,Af(Co,Ao)),Do=Af(Bo,Bf(Yo)),Qo=Af(Xo,Ho),Go=Af(Do,Lo),Ro=Af(Qo,Go),Uo=Cf(c,a),Zo=Cf(l,p),jo=Af(Uo,Zo),Wo=Cf(c,h),Jo=Cf(l,d),Ko=Af(Wo,Jo),ti=Af(jo,v),ni=Af(Ko,m),ei=Pf(I,ti),ri=Pf(R,ni),oi=Af(ei,ri),ii=Pf(w,g),ci=Af(oi,ii),si=Cf(c,x),ui=Cf(l,b),fi=Af(si,ui),li=Af(ci,fi);return[ht,Mt,Jt,Fn,xe,Je,$r,So,Ro,Af(li,_)]}]];function Vf(t,n){const{coeffs:e,errBound:r}=Ff[t.length-2][n.length-2](t,n);return{coeffs:e,errBound:r,getPExact:()=>Yf[t.length-2][n.length-2](t,n)}}const kf=134217729;function Lf(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r/i,s=i*c,u=kf*i,f=u-(u-i),l=i-f,a=kf*c,p=a-(a-c),h=c-p,d=o*c,v=s+d,g=d-(v-s)+(l*h-(s-f*p-l*p-f*h)),m=v+g,x=(r-m+(e-(g-(m-v))))/i,b=c+x;return[x-(b-c),b]}const $f=Lf,qf=Number.EPSILON/2,Xf=qf*qf,Hf=b,Df=b,Qf=b,Gf=ur,Rf=sr,Uf=Ir,Zf=x,jf=Vo,Wf=Number.EPSILON/2,Jf=Wf*Wf,Kf=Math.abs,tl=Qf,nl=[0,1],el=Gf,rl=Zf,ol=Rf,il=Uf,cl=jf,sl=function(t,n,e,r){const o=t[0],i=t[1],c=n[0],s=n[1],u=$f(t,n),f=Math.abs(o+i),l=Math.abs(c+s),a=l-qf*l-r;return a<=0?{est:u,err:Number.POSITIVE_INFINITY}:{est:u,err:(l*e+f*r)/a**2+9*Xf*Math.abs(f/l)}},ul=function(t,n){return Hf(t,n)[1]>0?n:t},fl=function(t,n){return Df(t,n)[1]>0?t:n},ll=j(3);function al(t,n){return n[0][0]!==n[1][0]||n[0][1]!==n[1][1]?4===t.length?function([[t,n],[e,r],[o,i],[c,s]],[u,f]){const l=tl(f,u),a=3*Jf*Kf(l[1]),p=tl(nl,u),h=3*Jf*Kf(p[1]),d=sl(l,p,a,h);f=el(d.est,d.err);const v=tl(nl,u),g=ol(u,u),m=ol(u,v),x=ol(v,v),b=ol(g,u),_=ol(g,v),I=ol(x,u),N=ol(x,v),S=tl(nl,f),E=ol(f,f),w=ol(f,S),M=ol(S,S),O=ol(E,f),T=ol(E,S),y=ol(M,f),C=ol(M,S),P=Kf(u[1]),A=Kf(v[1]),B=Kf(g[1]),z=Kf(m[1]),F=Kf(x[1]),Y=Kf(b[1]),V=Kf(_[1]),k=Kf(I[1]),L=Kf(N[1]),$=Kf(f[1]),q=Kf(S[1]),X=Kf(E[1]),H=Kf(w[1]),D=Kf(M[1]),Q=Kf(O[1]),G=Kf(T[1]),R=Kf(y[1]),U=Kf(C[1]);let Z=Kf(t),j=Kf(n),W=Kf(e),J=Kf(r),K=Kf(o),tt=Kf(i),nt=Kf(c),et=Kf(s);const rt=rl(il(c,u),il(o,v)),ot=rl(rl(il(c,g),il(2*o,m)),il(e,x)),it=rl(rl(il(c,b),il(t,N)),il(3,rl(il(o,_),il(e,I)))),ct=rl(ol(ot,f),ol(it,S)),st=rl(rl(ol(rt,E),ol(it,M)),ol(cl(ot),w)),ut=rl(rl(il(c,O),ol(it,C)),il(3,rl(ol(rt,T),ol(ot,y)))),ft=Kf(it[1]),lt=nt*P+K*A,at=nt*B+2*K*z+W*F;Z=nt*Y+Z*L+3*(K*V+W*k),W=at*$+ft*q,K=lt*X+ft*D+2*at*H,nt=nt*Q+ft*U+3*(lt*G+at*R),Z*=11*Jf,W*=15*Jf,K*=20*Jf,nt*=22*Jf;const pt=rl(il(s,u),il(i,v)),ht=rl(rl(il(s,g),il(2*i,m)),il(r,x)),dt=rl(rl(il(s,b),il(n,N)),il(3,rl(il(i,_),il(r,I)))),vt=rl(ol(ht,f),ol(dt,S)),gt=rl(rl(ol(pt,E),ol(dt,M)),ol(cl(ht),w)),mt=rl(rl(il(s,O),ol(dt,C)),il(3,rl(ol(pt,T),ol(ht,y)))),xt=Kf(dt[1]),bt=et*P+tt*A,_t=et*B+2*tt*z+J*F;j=et*Y+j*L+3*(tt*V+J*k),J=_t*$+xt*q,tt=bt*X+xt*D+2*_t*H,et=et*Q+xt*U+3*(bt*G+_t*R),j*=11*Jf,J*=15*Jf,tt*=20*Jf,et*=22*Jf;const It=ul(ul(el(it,-Z),el(ct,-W)),ul(el(st,-K),el(ut,-nt))),Nt=fl(fl(el(it,+Z),el(ct,+W)),fl(el(st,+K),el(ut,+nt)));return[[It,ul(ul(el(dt,-j),el(vt,-J)),ul(el(gt,-tt),el(mt,-et)))],[Nt,fl(fl(el(dt,+j),el(vt,+J)),fl(el(gt,+tt),el(mt,+et)))]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[c,s]){const u=tl(s,c),f=3*Jf*Kf(u[1]),l=tl(nl,c),a=3*Jf*Kf(l[1]),p=sl(u,l,f,a);s=el(p.est,p.err);const h=tl(nl,c),d=ol(c,c),v=ol(c,h),g=ol(h,h),m=tl(nl,s),x=ol(s,s),b=ol(s,m),_=ol(m,m),I=Kf(c[1]),N=Kf(h[1]),S=Kf(d[1]),E=Kf(v[1]),w=Kf(g[1]),M=Kf(s[1]),O=Kf(m[1]),T=Kf(x[1]),y=Kf(b[1]),C=Kf(_[1]);let P=Kf(t),A=Kf(n),B=Kf(e),z=Kf(r),F=Kf(o),Y=Kf(i);const V=rl(rl(il(o,d),il(2*e,v)),il(t,g)),k=rl(il(o,c),il(e,h)),L=V,$=rl(ol(s,k),ol(m,V)),q=rl(rl(il(o,x),ol(cl(b),k)),ol(_,V)),X=F*S+2*B*E+P*w,H=F*I+B*N;P=X,B=M*H+O*X,F=T*o+2*y*H+C*X,P*=7*Jf,B*=11*Jf,F*=14*Jf;const D=rl(rl(il(i,d),il(2*r,v)),il(n,g)),Q=rl(il(i,c),il(r,h)),G=D,R=rl(ol(s,Q),ol(m,D)),U=rl(rl(il(i,x),ol(cl(b),Q)),ol(_,D)),Z=Y*S+2*z*E+A*w,j=Y*I+z*N;A=Z,z=M*j+O*Z,Y=T*i+2*y*j+C*Z,A*=7*Jf,z*=11*Jf,Y*=14*Jf;const W=ul(ul(el(L,-P),el($,-B)),el(q,-F)),J=fl(fl(el(L,+P),el($,+B)),el(q,+F));return[[W,ul(ul(el(G,-A),el(R,-z)),el(U,-Y))],[J,fl(fl(el(G,+A),el(R,+z)),el(U,+Y))]]}(t,n):function([[t,n],[e,r]],[o,i]){const c=tl(i,o),s=3*Jf*Kf(c[1]),u=tl(nl,o),f=3*Jf*Kf(u[1]),l=sl(c,u,s,f);i=el(l.est,l.err);const a=tl(nl,o),p=tl(nl,i),h=Kf(o[1]),d=Kf(a[1]),v=Kf(i[1]),g=Kf(p[1]);let m=Kf(t),x=Kf(n),b=Kf(e),_=Kf(r);const I=rl(il(e,o),il(t,a)),N=rl(il(e,i),ol(I,p));m=b*h+m*d,b=b*v+m*g,m*=3*Wf,b*=7*Wf;const S=rl(il(r,o),il(n,a)),E=rl(il(r,i),ol(S,p));x=_*h+x*d,_=_*v+x*g,x*=3*Wf,_*=7*Wf;const w=ul(el(I,-m),el(N,-b)),M=fl(el(I,+m),el(N,+b));return[[w,ul(el(S,-x),el(E,-_))],[M,fl(el(S,+x),el(E,+_))]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}const o=dr(t,n);let i;if(4===t.length)i=xo(t,n).map(t=>16*ll*t);else if(3===t.length)i=xo(t,n).map(t=>10*ll*t);else if(2===t.length)i=xo(t,n).map(t=>4*ll*t);else if(1===t.length)return[o,o];return[[el(o[0],-i[0]),el(o[1],-i[1])],[el(o[0],+i[0]),el(o[1],+i[1])]]}(t,n[0])}function pl(t){return(n,e)=>{let[[r,o],[i,c]]=n,[[s,u],[f,l]]=e;return(o[1]>c[1]||o[1]===c[1]&&o[0]>c[0])&&([o,c]=[c,o]),(u[1]>l[1]||u[1]===l[1]&&u[0]>l[0])&&([u,l]=[l,u]),(r[1]>i[1]||r[1]===i[1]&&r[0]>i[0])&&([r,i]=[i,r]),(s[1]>f[1]||s[1]===f[1]&&s[0]>f[0])&&([s,f]=[f,s]),t?(r[1]<f[1]||r[1]===f[1]&&r[0]<=f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>=s[0])&&(u[1]<c[1]||u[1]===c[1]&&u[0]<=c[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>=o[0]):(r[1]<f[1]||r[1]===f[1]&&r[0]<f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>s[0])&&(u[1]<c[1]||u[1]===c[1]&&u[0]<c[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>o[0])}}function hl(t){return[(t.x.box[0][0]+t.x.box[1][0])/2,(t.x.box[0][1]+t.x.box[1][1])/2]}function dl(t,n){const e=Vf(t,n);if(void 0===e)return;const{coeffs:r,errBound:o,getPExact:i}=e,c=po(r,0,1,o,i);return 0!==c.length?{ris:c.map(mc),getPExact:i}:void 0}function vl(t){return{tS:ht(t.tS),tE:ht(t.tE),multiplicity:t.multiplicity}}function gl(t,n){const e=dl(t,n);if(void 0===e)return[];const{getPExact:r}=e;let o,{ris:i}=e;const c=()=>(o=o||r(),o),s=dl(n,t);if(void 0===s)return[];let{ris:u}=s;const{getPExact:f}=s;let l;const a=()=>(l=l||f(),l);let p;p=1;let h,d=0;t:for(;d<p;){h=u.map(n=>al(t,[n.tS,n.tE]));for(let t=0;t<u.length;t++){const n=h[t];for(let e=t+1;e<u.length;e++){const t=h[e];if(pl(!0)(n,t)){const t=[];for(const n of u)t.push(...Oc({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},a()));u=t,d++;continue t}}}break t}p=1;let v,g=0;t:for(;g<p;){v=i.map(t=>al(n,[t.tS,t.tE]));for(let t=0;t<i.length;t++){const n=v[t];for(let e=t+1;e<i.length;e++){const t=v[e];if(pl(!0)(n,t)){const t=[];for(const n of i)t.push(...Oc({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},c()));i=t,g++;continue t}}}break t}const m=[];for(let t=0;t<u.length;t++){const n=h[t];for(let e=0;e<i.length;e++){const o=v[e];if(pl(!0)(n,o)){const c={compensated:d,ri:vl(u[t]),riExp:d?u[t]:void 0,getPExact:d?void 0:f,kind:1,box:ml(n)},s={compensated:g,ri:vl(i[e]),riExp:g?i[e]:void 0,getPExact:g?void 0:r,kind:1,box:ml(o)};m.push({psX:c,sideX:s})}}}return m}function ml(t){return t.map(t=>t.map(ht))}function xl(t,n){const e=t.xs,r=[],o=new Map;for(const t of e){const n=t.curve,e=o.get(n);e?e.push(t):o.set(n,[t])}const i=function(t){const[[n,e],[r,o]]=t.box,i=[[[r,e],[n,e]],[[n,e],[n,o]],[[n,o],[r,o]],[[r,o],[r,e]]];return(n,e,r)=>{const o=n.ps,c=e.slice();for(let t=0;t<i.length;t++){const n=gl(o,i[t]);for(const{psX:e,sideX:r}of n)c.push({x:e,side:t,sideX:r,curve:void 0})}c.sort((t,n)=>t.x.ri.tS-n.x.ri.tS);const s=[],u=[];let f,l;for(const n of c)void 0!==n.side?(!0===l&&u.push({dir:1,p:hl(n),_x_:f,container:t,idx:++r,side:n.side,sideX:n.sideX}),l=!1):(!1===l&&(s.push({dir:-1,p:hl(f),_x_:n,container:t,idx:++r,side:f.side,sideX:f.sideX}),n.in_=s[s.length-1]),l=!0),f=n;return{ins:s,outs:u,ioIdx:r}}}(t);for(const t of o){const[e,o]=t;let c,s;({ins:c,outs:s,ioIdx:n}=i(e,o,n)),r.push(...c),r.push(...s)}return{inOuts:r,ioIdx:n}}function bl(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[3*(r-n),3*(o-e)],[3*(i-r),3*(c-o)],[3*(s-i),3*(u-c)]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[2*(r-n),2*(o-e)],[2*(i-r),2*(c-o)]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[r-n,o-e]]}throw new Error("The given bezier curve must be of order 1, 2 or 3.")}function _l(t,n){const e=t.xs;return 2===e.length&&1===e[0].x.kind&&1===e[1].x.kind&&e[0].x.ri.multiplicity%2==1&&e[1].x.ri.multiplicity%2==1?function(t,n){const e=t.xs,r=[],o=e[0],i=e[1],c=o.curve.ps,s=i.curve.ps,u=go(c,o.x.ri.tS),f=o.x.ri.tS,l=o.x.ri.tE,a=i.x.ri.tS,p=i.x.ri.tE;let h,d,v;h=4===c.length||3===c.length?So(bl(c),[f,l]):bl(c),d=4===s.length||3===s.length?So(bl(s),[a,p]):bl(s);for(let e=0;e<h.length;e++)for(let r=0;r<d.length;r++){const o=Math.sign(gt(h[e],d[r],[0,0]));if(0===o)return xl(t,n);if(void 0!==v){if(v!==o)return xl(t,n)}else v=o}return v>0?(r.push({dir:-1,p:u,_x_:o,container:t}),r.push({dir:1,p:u,_x_:i,container:t}),r.push({dir:1,p:u,_x_:o,container:t}),r.push({dir:-1,p:u,_x_:i,container:t}),o.in_=r[0],i.in_=r[3]):(r.push({dir:-1,p:u,_x_:o,container:t}),r.push({dir:-1,p:u,_x_:i,container:t}),r.push({dir:1,p:u,_x_:o,container:t}),r.push({dir:1,p:u,_x_:i,container:t}),o.in_=r[0],i.in_=r[1]),{inOuts:r,ioIdx:n}}(t,n):xl(t,n)}function Il(t,n,e,r){const o=[];for(const r of t)o.push({type:-1,item:r,x:n(r)}),o.push({type:1,item:r,x:e(r)});o.sort(Nl);const i=new Set,c=[];for(const t of o){const n=t.item;if(-1===t.type){for(const t of i.values()){const e=r(n,t);e&&c.push({a:n,b:t,u:e})}i.add(n)}else 1===t.type&&i.delete(t.item)}return c}function Nl(t,n){const e=t.x-n.x;return 0!==e?e:t.type}const Sl=x,El=H,wl=B,Ml=Q,Ol=ht,Tl=sr,yl=bc,Cl=Math.abs,Pl=j(3);const Al=Math.abs;const Bl=Math.abs,zl=sr,Fl=x,Yl=H,Vl=B,kl=Q,Ll=ht,$l=bc,ql=Math.abs,Xl=Z(1),Hl=j(3);function Dl(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{vₓₓ:n,vₓᵧ:e,vᵧᵧ:r,vₓ:o,vᵧ:i,v:f}=function(t){const[[n,e,r],[o,i,c]]=Ki(t),s=n*i-e*o,u=n*c-r*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:i*s-2*o*u,vᵧ:2*n*u-e*s,v:s*(e*c-r*i)-u*u}}(t),{vₓₓ_:l,vₓᵧ_:a,vᵧᵧ_:p,vₓ_:h,vᵧ_:d,v_:v}=function(t){const[n,e]=t[0],[[r,o],[i,c]]=function(t){const[[n,e],[r,o],[i,c]]=t,s=Al(n),u=Al(r),f=Al(i),l=Al(e),a=Al(o);return[[f+s+2*u,2*(u+s),0],[Al(c)+l+2*a,2*(a+l),0]]}(t),s=Bl(n),u=Bl(e),f=r*c+o*i,l=r*u+s*i;return{vₓₓ_:i*i,vₓᵧ_:2*r*i,vᵧᵧ_:r*r,vₓ_:c*f+2*i*l,vᵧ_:2*r*l+o*f,v_:f*(o*u+s*c)+l*l}}(t),g=u?0:1,m=ql(c),x=ql(s);if((g+12)*Xl*(l*(m*m)+a*(m*x)+p*(x*x)+(h*m+d*x)+v)<ql(n*c*c+e*c*s+r*s*s+(o*c+i*s)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:i,vₓ:u,vᵧ:f,v:l},errorBound:{vₓₓ_:a,vₓᵧ_:p,vᵧᵧ_:h,vₓ_:d,vᵧ_:v,v_:g}}=Kc(t),m=$l(e),x=$l(r),b=ql(c),_=ql(s),I=b/3,N=_/3,S=zl(m,m),E=S[1],w=2*(b*I+E),M=zl(x,x),O=M[1],T=2*(_*N+O),y=zl(m,x),C=ql(y[1]),P=b*N+I*_+2*C,A=zl(n,S),B=ql(n[1])*w+a*E+2*ql(A[1]),z=zl(o,y),F=ql(o[1])*P+p*C+2*ql(z[1]),Y=zl(i,M),V=ql(i[1])*T+h*O+2*ql(Y[1]),k=zl(m,u),L=ql(u[1])*I+d*b+2*ql(k[1]),$=zl(x,f),q=ql(f[1])*N+v*_+2*ql($[1]),X=Fl(A,z),H=B+F+ql(X[1]),D=Fl(X,Y),Q=H+V+ql(D[1]),G=Fl(k,$),R=L+q+ql(G[1]),U=Fl(D,G),Z=Q+R+ql(U[1]),j=Fl(U,l),W=Z+g+ql(j[1]);if(Hl*W<ql(Ll(j)))return!1}{const n=function(t){return _u(zt(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓ:o,vₓᵧ:i,vᵧᵧ:f,vₓ:l,vᵧ:a,v:p}=n,h=Vl(Vl(Vl(Yl(o,Yl(e,e)),Yl(i,Yl(e,r))),Yl(f,Yl(r,r))),Vl(Vl(Yl(e,l),Yl(r,a)),p));return 0===kl(h)}}const Ql=Math.abs,Gl=sr,Rl=x,Ul=H,Zl=B,jl=Q,Wl=ht,Jl=bc,Kl=Math.abs,ta=Z(1),na=j(3);function ea(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{vₓₓₓ:n,vₓₓᵧ:e,vₓᵧᵧ:r,vᵧᵧᵧ:o,vₓₓ:i,vₓᵧ:f,vᵧᵧ:l,vₓ:a,vᵧ:p,v:h}=function(t){const[[n,e,r,o],[i,c,s,u]]=Ji(t),f=n*s,l=r*i,a=n*c,p=e*i,h=n*n,d=i*i,v=n*u-o*i,g=f-l,m=a-p,x=e*u-o*c,b=e*s-r*c,_=r*u-o*s,I=2*g,N=v*v,S=v*b,E=I*x,w=m*x,M=-3*v-b,O=-3*N-2*S+(E+m*_),T=2*(v*g-w),y=v*m-g*g+m*b;return{vₓₓₓ:-i*d,vₓₓᵧ:3*n*d,vₓᵧᵧ:-3*i*h,vᵧᵧᵧ:n*h,vₓₓ:M*d+m*(s*i-c*c)+I*c*i,vₓᵧ:2*(m*(e*c-(l+f)/2)-(M*n*i+g*(p+a))),vᵧᵧ:M*h+m*(r*n-e*e)+I*e*n,vₓ:i*O+(c*T+s*y),vᵧ:-n*O-(e*T+r*y),v:v*(E-N-S)+(y*_-w*x)}}(t),{vₓₓₓ_:d,vₓₓᵧ_:v,vₓᵧᵧ_:g,vᵧᵧᵧ_:m,vₓₓ_:x,vₓᵧ_:b,vᵧᵧ_:_,vₓ_:I,vᵧ_:N,v_:S}=function(t){const[n,e]=t[0],[[r,o,i],[c,s,u]]=function(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=Al(n),l=Al(r),a=Al(i),p=Al(s),h=Al(e),d=Al(o),v=Al(c);return[[p+f+3*(l+a),3*(a+f+2*l),3*(l+f),0],[Al(u)+h+3*(d+v),3*(v+h+2*d),3*(d+h),0]]}(t),f=Ql(n),l=Ql(e),a=r*u,p=i*c,h=r*s,d=o*c,v=r*r,g=c*c,m=r*l+f*c,x=a+p,b=h+d,_=o*l+f*s,I=o*u+i*s,N=i*l+f*u,S=2*x,E=m*m,w=m*I,M=S*_,O=b*_,T=3*m+I,y=3*E+2*w+(M+b*N),C=2*(m*x+O),P=m*b+x*x+b*I;return{vₓₓₓ_:c*g,vₓₓᵧ_:3*r*g,vₓᵧᵧ_:3*c*v,vᵧᵧᵧ_:r*v,vₓₓ_:T*g+b*(u*c+s*s)+S*s*c,vₓᵧ_:2*(b*(o*s+(p+a)/2)+(T*r*c+x*(d+h))),vᵧᵧ_:T*v+b*(i*r+o*o)+S*o*r,vₓ_:c*y+(s*C+u*P),vᵧ_:r*y+(o*C+i*P),v_:m*(M+E+w)+(P*N+O*_)}}(t),E=c*c,w=s*s,M=n*(E*c)+e*(E*s)+(r*(c*w)+o*(w*s))+(i*E+f*(c*s)+l*w)+(a*c+p*s+h),O=u?0:1,T=Kl(c),y=Kl(s),C=T*T,P=y*y;if((O+26)*ta*(d*(C*T)+v*(C*y)+(g*(T*P)+m*(P*y))+(x*C+b*(T*y)+_*P)+(I*T+N*y+S))<Kl(M))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:i,vᵧᵧᵧ:u,vₓₓ:f,vₓᵧ:l,vᵧᵧ:a,vₓ:p,vᵧ:h,v:d},errorBound:{vₓₓₓ_:v,vₓₓᵧ_:g,vₓᵧᵧ_:m,vᵧᵧᵧ_:x,vₓₓ_:b,vₓᵧ_:_,vᵧᵧ_:I,vₓ_:N,vᵧ_:S,v_:E}}=ds(t),w=Kl(n[1]),M=Kl(o[1]),O=Kl(i[1]),T=Kl(u[1]),y=Jl(e),C=Jl(r),P=Kl(c),A=Kl(s),B=P/3,z=A/3,F=Gl(y,y),Y=F[1],V=2*(P*B+Y),k=Gl(y,F),L=Kl(k[1]),$=P*V+B*Y+2*L,q=Gl(C,C),X=q[1],H=2*(A*z+X),D=Gl(C,q),Q=Kl(D[1]),G=A*H+z*X+2*Q,R=Gl(C,F),U=Kl(R[1]),Z=A*V+z*Y+2*U,j=Gl(y,q),W=Kl(j[1]),J=P*H+B*X+2*W,K=Gl(y,C),tt=Kl(K[1]),nt=P*z+B*A+2*tt,et=Gl(n,k),rt=w*$+v*L+2*Kl(et[1]),ot=Gl(o,R),it=M*Z+g*U+2*Kl(ot[1]),ct=Gl(i,j),st=O*J+m*W+2*Kl(ct[1]),ut=Gl(u,D),ft=T*G+x*Q+2*Kl(ut[1]),lt=Gl(f,F),at=Kl(f[1])*V+b*Y+2*Kl(lt[1]),pt=Gl(l,K),ht=Kl(l[1])*nt+_*tt+2*Kl(pt[1]),dt=Gl(a,q),vt=Kl(a[1])*H+I*X+2*Kl(dt[1]),gt=Gl(y,p),mt=Kl(p[1])*B+N*P+2*Kl(gt[1]),xt=Gl(C,h),bt=Kl(h[1])*z+S*A+2*Kl(xt[1]),_t=Rl(et,ot),It=rt+it+Kl(_t[1]),Nt=Rl(ct,ut),St=st+ft+Kl(Nt[1]),Et=Rl(_t,Nt),wt=It+St+Kl(Et[1]),Mt=Rl(lt,pt),Ot=at+ht+Kl(Mt[1]),Tt=Rl(Mt,dt),yt=Ot+vt+Kl(Tt[1]),Ct=Rl(Et,Tt),Pt=wt+yt+Kl(Ct[1]),At=Rl(gt,xt),Bt=mt+bt+Kl(At[1]),zt=Rl(At,d),Ft=Bt+E+Kl(zt[1]),Yt=Rl(Ct,zt),Vt=Pt+Ft+Kl(Yt[1]);if(na*Vt<Kl(Wl(Yt)))return!1}{const n=function(t){return Hu(Bt(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓₓ")||(n.vₓₓₓ=[0],n.vₓₓᵧ=[0],n.vₓᵧᵧ=[0],n.vᵧᵧᵧ=[0]),n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓₓ:o,vₓₓᵧ:i,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:a,vₓᵧ:p,vᵧᵧ:h,vₓ:d,vᵧ:v,v:g}=n,m=Ul(e,e),x=Ul(e,m),b=Ul(r,r),_=Ul(r,b),I=Ul(r,m),N=Ul(e,b),S=Ul(e,r),E=Ul(o,x),w=Ul(i,I),M=Ul(f,N),O=Ul(l,_),T=Ul(a,m),y=Ul(p,S),C=Ul(h,b),P=Ul(e,d),A=Ul(r,v),B=Zl(E,w),z=Zl(M,O),F=Zl(B,z),Y=Zl(T,y),V=Zl(Y,C),k=Zl(F,V),L=Zl(P,A),$=Zl(L,g),q=Zl(k,$);return 0===jl(q)}}function ra(t,n){const{coeffs:e,errBound:r,getPExact:o}=Vf(t,n);return po(e,0,1,r,o,!0)}const oa=Math.min,ia=Math.max;function ca(t,n){let[[e,r],[o,i]]=t,[[c,s],[u,f]]=n;if(e>o&&([e,o]=[o,e]),c>u&&([c,u]=[u,c]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]),e<=u&&o>=c&&s<=i&&f>=r)return[[ia(e,c),ia(r,s)],[oa(o,u),oa(i,f)]]}function sa(t,n,e){if(void 0===e)return;if(0===e.length)return[];const r=ra(n,t);if(void 0===r)return;if(0===r.length)return[];const o=r.map(n=>So(t,[n.tS,n.tE])),i=e.map(t=>So(n,[t.tS,t.tE])),c=[];for(let t=0;t<r.length;t++){const n=o[t];for(let o=0;o<e.length;o++){const s=ca(n,i[o]);if(void 0!==s){const n={ri:r[t],box:s,kind:1},i={ri:e[o],box:s,kind:1};c.push([n,i])}}}return c}function ua(t,n,e){for(const r of[t,n]){const o=r.length;for(let i=1;i<o+1;i++){const c=r[i-1],s=r[i%o],u=[s[1]-c[1],c[0]-s[0]];let f=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const e=u[0]*t[n][0]+u[1]*t[n][1];e<f&&(f=e),e>l&&(l=e)}let a=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t++){const e=u[0]*n[t][0]+u[1]*n[t][1];e<a&&(a=e),e>p&&(p=e)}if(e&&(l<a||p<f))return!1;if(!e&&(l<=a||p<=f))return!1}}return!0}function fa(t){return 4===t.length&&pt(t)&&(t=Fu(t)),3===t.length&&rt(t)&&(t=[t[0],t[2]]),2===t.length&&W(t)&&(t=[t[0]]),t}const la=Number.EPSILON,aa=la/2;function pa(t,n){return n<0?t<1?t:1-aa:0===n?1:t>1?t:1+la}function ha(t){const n=function(t){const n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}(t),e=n[0],r=n[1],o=e>>7,i=((127&e)<<4)+((240&r)>>4),c=0===i?0:16,s=0===i?i-1022:i-1023,u=n.slice(1);return u[0]=(15&r)+c,{sign:o,exponent:s,significand:u}}function da(t){return ha(t).significand}function va(t){return Math.log2(t&-t)}function ga(t){if(0===t||!Number.isFinite(t))return NaN;const n=da(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;const r=va(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function ma(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function xa(t){if(0===t||!Number.isFinite(t))return NaN;const n=da(t),e=n.length;for(let t=0;t<e;t++){const r=ma(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function ba(t){return ha(t).exponent}function _a(t){if(0===t||!Number.isFinite(t))return NaN;const n=ba(t);return xa(t)-52+n}function Ia(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)}const Na=Q,Sa=vt;function Ea(t){return 0===t?0:xa(t)-ga(t)+1}const wa=H,Ma=function(t,n){if(t=Sa(t),0===Na(t))return[0];const e=_a(t[t.length-1]);let r=e,o=t.length-1;for(;o>0;){const i=_a(t[o-1]);if(e-i>n)break;r=i,o--}const i=Math.min(n-(e-r),53);let c=t[o];c=Ia(c,i);const s=t.slice(o);return s[0]=c,s},Oa=function(t){const n=vt(t);if(0===Q(n))return 0;const e=n[n.length-1],r=n[0];return ba(e)-ba(r)+(53-ga(r))},Ta=V,ya=ht;function Ca(t){return ht(function(t,n,e){let r=n,o=t,i=!1,c=0;e||(c=Oa(o)-Oa(r)+1,e=c/53+1,i=!0);let s=[1/ya(r)],u=1;for(;;){if(o=wa(o,s),u>e)return i?(o=Ma(o,c),o):o.slice(o.length-e,o.length);r=wa(r,s),s=Ta([2],r),u*=2}}(t[0],t[1],2))}function Pa(t){return Q(t[0])*Q(t[1])}function Aa(t){return(n,e)=>{const r=At(n),o=At(e),i=At(n.slice().reverse()),c=At(e.slice().reverse()),s=t(r,o),u=t(i,o),f=t(r,c),l=t(i,c),a=-Pa(u),p=-Pa(l),h=Ca(s),d=Ca(f);return[pa(h,a),pa(d,p)]}}const Ba=Aa(function(t,n){const e=0===Q(t[0][0])?1:0;return function(t,n){const[e,r]=t,[,o]=n;return[V(o,r),e]}(t[e],n[e])});function za(t,n){return G(H(t[0],n[1]),H(t[1],n[0]))*Q(t[1])*Q(n[1])}const Fa=ba,Ya=Ea;function Va(t){let n=-1024;for(let e=0;e<t.length;e++){const r=t[e];for(let t=0;t<r.length;t++){const e=r[t];if(0===e)continue;const o=-Fa(e)+Ya(e)-1;o>n&&(n=o)}}return 0===n?t.map(t=>t.map(t=>BigInt(t))):n>0?t.map(t=>t.map(t=>{if(0===t)return 0n;const e=-Fa(t)+Ya(t)-1;return BigInt(t*2**e)*2n**BigInt(n-e)})):t.map(t=>t.map(t=>BigInt(t*2**n)))}function ka(t,n){if(n=n<0n?-n:n,0n===(t=t<0n?-t:t))return n;if(0n===n)return t;for(;0n!==n;){const e=n;n=t%n,t=e}return t}const La=BigInt(2**53);function $a(t){if(0n===t)return[0];const n=[];let e=0,r=t;for(;0n!==r;){r=t/La;const o=t%La;n.push(Number(o)*2**(53*e)),t=r,e++}return vt(n)}const{round:qa,sqrt:Xa}=Math;function Ha(t){if(t<=1n){if(t<0n)throw new Error("square root of negative numbers are not allowed");return t}let n=BigInt(qa(Xa(Number(t))));for(;;){const e=n+t/n>>1n;if(e===n)return n;n=e}}function Da(t){return t<0n?-t:t}function Qa(t){let n=0n;for(let e=0;e<t.length;e++)n+=t[e];return n}function Ga(t,n){const[e,r]=Ra(t[0],n[0]),[o,i]=Ra(t[1],n[1]);if(0===za(e,o)||0===za(e,i))return e;if(0===za(r,o)||0===za(r,i))return r;throw new Error("An unexpected error occured.")}function Ra(t,n){const[e,r]=t,[o,i]=n,[c,s]=function(t){const[n,e]=Va(t).map(Qa),r=ka(n,e);return[$a(Ha(Da(n/r))),$a(Ha(Da(e/r)))]}([o,e]);return[[V(H(i,s),H(r,c)),H(c,ci(e))],[V(H(i,z(s)),H(r,c)),H(c,ci(e))]].sort(za)}function Ua(t,n){const e=At(t),r=0===Q(e[0][0])?0:0===Q(e[1][0])?1:-1;if(-1!==r){const e=t[0][r],o=t[2][r],i=n[0][r],c=n[2][r];return Ba([[e,e],[o,o]],[[i,i],[c,c]])}return Aa(Ga)(t,n)}const{round:Za,cbrt:ja}=Math;function Wa(t){const n=(e=t)>0n?1n:e<0n?-1n:0n;var e;if((t=Da(t))<=1n)return n*t;let r=BigInt(Za(ja(Number(t))));for(;;){const e=(2n*r+t/(r*r))/3n;if(e===r)return n*r;r=e}}function Ja(t){return H(t,t)}const Ka=Aa(function(t,n){const e=0===Q(t[0][0])?1:0;return function(t,n){const[e,r]=t,[o,i]=n,c=function(t){const[n,e]=Va(t).map(Qa),r=ka(n,e);return[$a(Wa(n/r)),$a(Wa(e/r))]}([o,e]),s=Ja(c[0]);return[V(H(i,Ja(c[1])),H(r,s)),H($(3,e),s)]}(t[e],n[e])}),{EPSILON:tp}=Number,np=tp/2+tp**2/2;function ep(t){return t>0?t-t*np:t+t*np}const{EPSILON:rp}=Number,op=rp/2+rp**2/2;function ip(t){return t>0?t+t*op:t-t*op}function cp(t){if(0===t||1===t)return[t,t];const n=ep(ep(t)),e=function(t){return ip(ip(t))}(t);return[n,e]}function sp(t,n,e,r){const o=t.ps,i=n.ps,c=[];let s=ra(o,i);if(void 0===s){const r=2**(e-47),s=function(t,n,e=!1){e||(t=fa(t),n=fa(n));const r=[,,Ba,Ua,Ka],[o,i]=r[t.length](t,n),[c,s]=r[t.length](n,t),u=[{tA:o,tB:0,bez:"B",start:!0},{tA:i,tB:1,bez:"B",start:!1},{tA:0,tB:c,bez:"A",start:!0},{tA:1,tB:s,bez:"A",start:!1}].sort((t,n)=>t.tA-n.tA);if(u[1].tA===u[2].tA){const n=u[1],e=n.tA,r=n.tB,o=So(t,[e,e]);return[{p:o[0],kind:4,box:o,t1:e,ri1:{tS:e,tE:e,multiplicity:1},t2:r,ri2:{tS:r,tE:r,multiplicity:1}}]}if(u[0].bez===u[1].bez)return[];const f=u[1],l=u[2],[a,p]=cp(f.tA),[h,d]=cp(f.tB),[v,g]=cp(l.tA),[m,x]=cp(l.tB),b=So(t,[a,p]),_=So(n,[h,d]),I=So(t,[v,g]),N=So(n,[m,x]),S=ca(b,_),E=ca(I,N),w={tS:a,tE:p,multiplicity:1},M={tS:h,tE:d,multiplicity:1},O={tS:v,tE:g,multiplicity:1},T={tS:m,tE:x,multiplicity:1};return[{p:Po(S),kind:5,box:S,t1:Co(w),ri1:w,t2:Co(M),ri2:M},{p:Po(E),kind:5,box:E,t1:Co(O),ri1:O,t2:Co(T),ri2:T}]}(o,i);for(const e of s){const i=go(o,e.ri1.tS),s=[[i[0]-r,i[1]-r],[i[0]+r,i[1]+r]],u={x:{ri:e.ri1,kind:5,box:s},curve:t},f={x:{ri:e.ri2,kind:5,box:s},curve:n};c.push([u,f])}return c}if(r&&(s=s.filter(t=>t.tS>0)),0===s.length)return[];const u=sa(o,i,s);if(void 0===u||0===u.length)return[];for(const e of u){const r={x:e[0],curve:t},o={x:e[1],curve:n};c.push([r,o])}return c}const up=go,fp=xo,lp=Z(1);function ap(t,n,e){const r=n.ps;if(0===t)return r[0],{x:{ri:{tS:t,tE:t,multiplicity:1},box:[r[0],r[0]],kind:e},curve:n};if(1===t){const o=r[r.length-1];return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[o,o],kind:e},curve:n}}const{p:o,pE:i}=function(t,n){const e=up(t,n),r=fp(t,[0,n]);if(4===t.length)return{p:e,pE:r.map(t=>9*lp*t)};if(3===t.length)return{p:e,pE:r.map(t=>6*lp*t)};if(2===t.length)return{p:e,pE:r.map(t=>3*lp*t)};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve must be of order <= 3.")}(r,t);return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]],kind:e},curve:n}}function pp(t,n){if(n.next===t){if(t.next===n)return;[t,n]=[n,t]}const e=t.ps,r=n.ps;if(function(t,n){if(4===t.length)return ea(t,n);if(3===t.length)return Dl(t,n);if(2===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{coeffs:{vₓ:n,vᵧ:o,v:i},errorBound:{v_:u}}=$c(t),f=yl(e),l=yl(r),a=Cl(c),p=Cl(s),h=Cl(n[1]),d=Cl(o[1]),v=a/3,g=p/3,m=n[1]*c,x=Tl(f,n),b=h*v+2*Cl(m),_=o[1]*s,I=Tl(l,o),N=d*g+2*Cl(_),S=Sl(x,I),E=b+N+Cl(S[1]),w=Sl(S,i),M=E+u+Cl(w[1]);if(Pl*M<Cl(Ol(w)))return!1}{const n=function(t){return lu(Ft(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];const{vₓ:o,vᵧ:i,v:f}=n,l=El(e,o),a=El(r,i),p=wl(wl(l,a),f);return 0===Ml(p)}}(t,n);if(1===t.length){const e=vt(n[0]),r=vt(n[1]);return 1===e.length&&1===r.length&&e[0]===t[0][0]&&r[0]===t[0][1]}throw new Error("The given bezier curve must be of order <= 3")}(e,r[r.length-1].map(t=>[t]))){const i=sa(e,r,[(o=1,{tS:o,tE:o,multiplicity:1})]);if(void 0===i||0===i.length)return;return[[{x:i[0][0],curve:t},ap(1,n,1)]]}var o}const hp=z;function dp(t){return t[t.length-1]<0?hp(t):t}Number.EPSILON;const vp=Number.EPSILON/2;function gp(t,n,e,r){const o=t/n,i=Math.abs(t),c=Math.abs(n),s=c-r;return s<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(c*e+i*r)/s**2+vp*Math.abs(i/c)}}const mp=V,xp=H,bp=$,_p=P,Ip=A,Np=Gc,Sp=x,Ep=Vo,wp=Lf,Mp=B,Op=D,Tp=2*Number.EPSILON,yp=Math.abs,Cp=Z(1);function Pp(t,n=!0){if(t.length<4)return[];const{coeffs:[e,r,o],errBound:[i,c,s]}=Mt(t);if(yp(e)<=i){const[[n,e],[r,o],[i,c],[s,u]]=t,f=Mp(_p(s,n),bp(3,_p(r,i))),l=Op(Ip(i,n),-2*r),a=Mp(_p(u,e),bp(3,_p(o,c))),p=Op(Ip(c,e),-2*o);if(0===G(xp(l,a),xp(f,p)))return[]}const u=r*r,f=4*e*o,l=u-f,a=2*c*yp(r)+Cp*u+(4*(i*yp(o)+yp(e)*s)+Cp*yp(f))+Cp*yp(l);if(l<-a)return[];if(l>a){const{est:t,err:u}=function(t,n){if(t-n<=0){const e=t>0?Math.sqrt(t):0;return{est:e,err:Math.max(Math.sqrt(t+n)-e,e)}}const e=Math.sqrt(t),r=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:e,err:Math.max(Math.abs(r-e),Math.abs(o-e))}}(l,a);let f;f=r>=0?-r-t:-r+t;const p=c+u+Cp*yp(f),{est:h,err:d}=gp(f,2*e,p,2*i),{est:v,err:g}=gp(2*o,f,2*s,p);if(n){if(h+d<0||h-d>1||v+g<0||v-g>1)return[]}else if((h+d<0||h-d>1)&&(v+g<0||v-g>1))return[]}let[p,h,d]=Lt(t);const v=mp(xp(h,h),bp(4,xp(p,d))),g=Q(v);if(g<0)return[];if(g>0){const t=function(t){const n=t[0],e=t[1];if(0===e)return[0,0];const r=Math.sqrt(e),o=r*r,i=134217729*r,c=i-(i-r),s=r-c,u=.5*(e-o-(s*s-(o-c*c-c*s*2))+n)/r;return[u-(r+u-r),r+u]}(bc(v));let e;p=bc(p),h=bc(h),d=bc(d),e=Q(h)>=0?Np(Sp(h,t)):Sp(Np(h),t);let r=ht(wp(e,Ep(p))),o=ht(wp(Ep(d),e));if(n){if(r<-Tp||r>1+Tp||o<-Tp||o>1+Tp)return[]}else if((r<-Tp||r>1+Tp)&&(o<-Tp||o>1+Tp))return[];return[r,o]=r<o?[r,o]:[o,r],r>=0-Tp&&r<=1+Tp?o>=0-Tp&&o<=1+Tp?[r,o]:[r]:o>=0-Tp&&o<=1+Tp?[o]:[]}const m=si(p);if(Q(h)*Q(m)<0)return[];if(G(dp(h),dp(m))>0)return[];const x=bc(h),b=bc(m),_=wp(x,b),I=_[1]+_[0];return[I,I]}const Ap=Number.EPSILON;function Bp(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[6*(s-n+3*(r-i)),6*(i+n-2*r)],[6*(u-e+3*(o-c)),6*(c+e-2*o)]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[2*(i-2*r+n)],[2*(c-2*o+e)]]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}function zp(t){if(xt(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&pt(t)&&(t=Fu(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,c]]=t,s=i-r,u=s-(r-n),f=c-o,l=f-(o-e);return[u*u+l*l,-(n*(u-r)-r*(s-r)+e*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:Bn(n,0,1),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,c]]=Xn(t),[[s,u],[f,l]]=Bp(t),[[a],[p]]=function(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[6*(s-n+3*(r-i))],[6*(u-e+3*(o-c))]]}if(t.length<=3)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}(t),h=a*i,d=p*e,v=u*c,g=u*i,m=f*f,x=s*c,b=l*r,_=l*e,I=f*r,N=r*e,S=r*n,E=r*o,w=e*e,M=e*n,O=e*i,T=n*c,y=n*o,C=n*n,P=c*i,A=c*o,B=i*i,z=i*o,F=o*o,Y=a*c-p*r,V=u*r+l*c,k=v-b,L=r*r+c*c,$=O+T,q=A+B,X=S+w,H=e*o+n*i,D=C-F,Q=M-z,G=N-P,R=r*i+e*c,U=A+q,Z=S+X,j=E+$,W=O+$,J=Z-U,K=$+T,tt=E+O+T,nt=2*_+I;return{inflectionPoly:[s*o-f*n,u*o+s*i-l*n-f*e,g+x-_-I,v-b],otherExtremaPoly:[C*(h-3*d)+F*(3*h-d)+2*(y*(a*e-p*i+3*(l*f-u*s))+3*s*f*Q)+3*(H*(m-s*s)+D*(u*f+l*s)),a*(o*(Z+3*q)+n*W)-p*(r*(3*C+F)+e*(3*M+2*z)+n*U)+3*(u*(l*D-u*y+2*(f*Q-s*H))+s*(2*l*Q+f*(2*(S-A)+(w-B))-s*tt)+l*(l*y+2*f*H)+m*j),a*(2*r*H+e*K+i*(4*A+U))-p*(2*r*(3*M+z)+e*(w+2*A)+i*K)+3*(u*(2*(l*Q-s*tt)+f*J-u*H)+s*(2*f*G-s*R)+l*(l*H+2*f*j+s*J)+m*R),a*(r*(E+2*$)+c*(w+3*q))-p*(r*(3*X+U)+c*W)+3*(u*(l*J-u*j+2*(f*G-s*R))+s*(r*(nt-s*c)-c*(2*l*i+f*c))+l*(l*$+r*(2*f*i+l*o))+f*c*nt),L*(h-d)+2*(N+P)*Y-3*(V*(g+x-_-I)+(u*e+s*r+l*i+f*c)*k),Y*L-3*V*k]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=Bn(r,0,1),i=dn(r),c=[],s=[];for(let t=0;t<o.length;t++){const n=o[t],r=vn(i,n);vn(e,n)*r>=0?c.push(n):s.push(n)}return{minima:c,maxima:s,inflections:Bn(e,0,1)}}function Fp(t,n){const[e,r]=Xn(t),[o,i]=Bp(t),c=vn(e,n),s=vn(r,n),u=vn(o,n);return(c*vn(i,n)-s*u)/Math.sqrt((c*c+s*s)**3)}const{abs:Yp}=Math,Vp=Wn(function(t){const{curves:n}=t;let e=Eo(n[0].ps).minY,r=n[0];for(let t=1;t<n.length;t++){const o=Eo(n[t].ps).minY,i=o.box[0][1],c=e.box[0][1];(i<c||i===c&&o.ts[0]>e.ts[0])&&(e=o,r=n[t])}return{curve:r,y:e}});function kp(t){const{curve:n,y:e}=Vp(t),r=e.ts;return r[0]<=0?[ap(0,n,0),ap(1,n.prev,0)]:r[1]>=1?[ap(1,n,0),ap(0,n.next,0)]:[{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n},{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n}]}function Lp(t,n,e){const r=e-(n-Math.floor(Math.log2(Math.abs(t))))+1;return r<=0?0:e>=53?t:Ia(t,r)}const{abs:$p}=Math;function qp(t,n){let e=t.side-n.side;if(0!==e)return e;const r=t.sideX,o=n.sideX;e=r.ri.tS-o.ri.tS;const i=8*Number.EPSILON;return $p(e)>=i?e:(r.compensated||(r.compensated=1,r.riExp=Oc(r.ri,r.getPExact())[0]),o.compensated||(o.compensated=1,o.riExp=Oc(o.ri,o.getPExact())[0]),e=G(r.riExp.tS,o.riExp.tS),0!==e?e:(e=n.dir-t.dir,0!==e?e:1===t.dir?t.idx-n.idx:n.idx-t.idx))}function Xp(t,n,e){const r=function(t,n){const e=[];for(const n of t)for(const t of n.curves)e.push(t);const r=Il(e,t=>tc(t.ps)[0][0],t=>tc(t.ps)[1][0],function(t){return(n,e)=>{const r=n.ps,o=e.ps;if(2===r.length&&2===o.length)return function(t,n,e){let r=t.ps,o=n.ps;const i=tc(r),c=tc(o);if(t.next!==n&&n.next!==t){if(fc(!0,i,c)){const r=sp(t,n,e,!1);return r.length?r:void 0}return}if(n.next===t&&([t,n]=[n,t],[r,o]=[o,r]),0!==gt(r[0],r[1],o[1]))return;if(!fc(!1,i,c))return;let s;return s=gr(r[0],r[1])>gr(o[0],o[1])?[Co(zi(r,o[1])[0].ri),1]:[0,Co(zi(o,r[0])[0].ri)],[[ap(1,t,5),ap(0,n,5)],[ap(s[0],t,5),ap(s[1],n,5)]]}(n,e,t);if(n.next===e||e.next===n)return fc(!1,tc(r),tc(o))&&ua(yo(r,!1),yo(o,!1),!1)?e.next===n?sp(e,n,t,!0):sp(n,e,t,!0):pp(n,e);let i=fc(!0,tc(r),tc(o));return i?(i=ua(yo(r,!1),yo(o,!1),!0),i?sp(n,e,t,!1):void 0):void 0}}(n)),o=[];for(const t of r)for(const n of t.u)o.push(n);return o}(t,e),o=function(t){const n=[];for(const e of t)for(const t of e.curves){const e=t.ps,r=Pp(e);if(0===r.length)continue;const o=r[0]===r[1]?3:2,i=r[0]-Ap,c=r[0]+Ap,s=r[1]-Ap,u=r[1]+Ap,f=So(e,[i,c]),l=So(e,[s,u]);n.push([{x:{ri:{tS:i,tE:c,multiplicity:1},box:f,kind:o},curve:t},{x:{ri:{tS:s,tE:u,multiplicity:1},box:l,kind:o},curve:t}])}return n}(t),i=function(t){const n=[];for(const e of t)for(const t of e.curves)n.push([ap(1,t,4),ap(0,t.next,4)]);return n}(t),{extremes:c,xs:s}=function(t){const n=new Map,e=[];for(const r of t){const t=kp(r);e.push(t),n.set(r,t)}return{extremes:n,xs:e}}(t),u=function(t,n){const e=[];for(const r of n)for(const n of r.curves){const r=n.ps,o=zp(r),{minima:i,maxima:c}=o,s=[0,1,...i,...c];for(let o of s)Yp(Fp(r,o))>1e7*2**-t&&e.push([ap(o,n,7),ap(o,n,7)])}return e}(e,t);let f=[...r,...o,...i,...s,...u];if("undefined"!=typeof _debug_){for(const t of r)_debug_.generated.elems.intersection.push(...t);for(const t of o)_debug_.generated.elems.intersection.push(...t);for(const t of i)_debug_.generated.elems.intersection.push(...t);for(const t of s)_debug_.generated.elems.intersection.push(...t);for(const t of u)_debug_.generated.elems.intersection.push(...t)}let l=f.map(t=>({xs:t,box:[[t[0].x.box[0][0]-n,t[0].x.box[0][1]-n],[t[0].x.box[1][0]+n,t[0].x.box[1][1]+n]],inOuts:void 0}));for(;;){const t=Il(l,Hp,Dp,lc);if(!t.length)break;const n=new Map;ac(n,t);const e=dc(n),r=vc(l,e);l=[...gc(e),...r]}l=function(t){return t.filter(t=>{const n=t.xs;if(2===t.xs.length){const t=n[0];if(1===t.x.kind&&t.x.ri.multiplicity%2==0)return!1}for(const n of t.xs)if(4!==n.x.kind)return!0;return!1})}(l),l=function(t,n,e){const r=Math.log2(e)-3;return t.map(t=>{const e=t.box.map(t=>t.map(t=>Lp(t,n,n-r)));return{...t,box:e}})}(l,e,n),"undefined"!=typeof _debug_&&(_debug_.generated.elems.container=l);let a=0;for(const t of l){for(const n of t.xs)n.container=t;let n;({inOuts:n,ioIdx:a}=_l(t,a)),t.inOuts=n}f=f.filter(t=>void 0!==t[0].container),function(t){const n=new Map;for(const e of t)for(const t of e){const e=t.curve.loop,r=n.get(e)||[];r.length||n.set(e,r),r.push(t)}for(const t of n){const n=t[1];if(!n||!n.length)continue;n.sort((t,n)=>{let e=t.curve.idx-n.curve.idx;return 0!==e?e:(e=t.x.ri.tS-n.x.ri.tS,0!==e?e:void 0!==t.in_?-1:1)});const e=n.length;for(let t=0;t<e;t++)n[t].next=n[(t+1)%e]}}(f);for(const t of l)for(const n of t.inOuts){if(-1===n.dir)continue;let t=n._x_;for(;t=t.next,void 0===t.in_;);n.next=t.in_,n.idx=n.next.idx}for(const t of l)t.inOuts.sort(qp);for(const t of l){const n=t.inOuts;let e=n[n.length-1];for(let t=0;t<n.length;t++){const r=n[t];r.prevAround=e,e.nextAround=r,e=r}}return{extremes:c,containers:l}}function Hp(t){return t.box[0][0]}function Dp(t){return t.box[1][0]}function Qp(t){const n=t.inOuts,e=n[0],r=n[n.length-1];return 1===e.dir?(e.orientation=-1,e):(r.orientation=1,r)}function Gp(t){return t.slice().reverse()}function Rp(t){if(!xt(t))return!1;const n=t.map(t=>t[0]),e=t.map(t=>t[1]);return!(Up(n)&&Up(e))}function Up(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}function Zp(t,n){const e=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[e*t[0],e*t[1]]}function jp(t){for(let n=0;n<t.length-1;n++)for(let e=n+1;e<t.length;e++)if(t[n][0]===t[e][0]&&t[n][1]===t[e][1])return!1;return!0}const{abs:Wp}=Math;function Jp(t,n,e){if(void 0!==t&&!W(t)){if(2===t.length)return t;if(3===t.length){if(jp(t))return xt(t)?[t[0],t[2]]:t;if(th(t[0],t[2]))return;return[t[0],t[2]]}if(jp(t)){const r=Kp(t);if(void 0===r)return;return function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e][0]!==n[e][0]||t[e][1]!==n[e][1])return!1;return!0}(r,t)?t:Jp(r,n,e)}if(th(t[0],t[3])){if(xt(t))return;return t}if(xt(t))return[t[0],t[3]];if(th(t[0],t[1])&&th(t[1],t[2])||th(t[1],t[2])&&th(t[2],t[3])||th(t[0],t[1])&&th(t[2],t[3]))return Jp([t[0],t[t.length-1]],n,e);if(th(t[0],t[2])||th(t[1],t[3])||th(t[1],t[2]))return t;if(th(t[0],t[1])){if(gr(t[1],t[2])<4*n)return[t[0],t[2],t[2],t[3]];{const r=Zp(Kn(t[1],t[2]),2*n),o=oe(t[1],r);return Kp([t[0],e(o),t[2],t[3]])}}if(th(t[2],t[3])){if(gr(t[2],t[1])<4*n)return[t[0],t[1],t[1],t[3]];{const r=Zp(Kn(t[2],t[1]),2*n),o=oe(t[2],r);return Kp([t[0],t[1],e(o),t[3]])}}}}function Kp(t){return xt(t)?[t[0],t[3]]:pt(t)?Fu(t):t}function th(t,n){return t[0]===n[0]&&t[1]===n[1]}function nh(t){return t}function eh(t,n,e,r=!1,o=!0){const i=function(t,n,e=!0){const r=2**t*2**-n,o=e?function(t,n){return e=>{const r=Lp(e[0],t,n),o=Lp(e[1],t,n);return r===e[0]&&o===e[1]?e:[r,o]}}(t,n):nh;return t=>{const n=[];for(let e=0;e<t.length;e++){let i=t[e].slice();const c=n[n.length-1],s=c?c[c.length-1]:o(t[0][0]);i[0]=s,i=i.map(t=>o(t)),Rp(i)&&(i=[i[0],i[i.length-1]]),i=Jp(i,r,o),void 0!==i&&n.push(i)}const e=n.length;if(!e)return[];const i=n[e-1];return i[i.length-1]=n[0][0],n}}(e,n,o);let c=t.slice();return c=r?function(t,n,e,r=.02){const o=[];for(const i of t){const t=[];for(const o of i){const i=o.map(t=>t.map(t=>{let o,i=0,c=0,s=0;for(;!(++c>10);){i=(t+Math.random())*(1+(Math.random()-.7)*r),i=Lp(i,e,n);const c=Ea(i);c>s&&(s=c,o=i)}return o}));t.push(i)}o.push(t)}return o}(c,n,e,1):c,c=c.map(i),c=c.filter(t=>t.length>0),c}const rh=Wn(t=>{let n=0;for(const e of t)for(const t of e)for(const e of t)for(const t of e){const e=Math.abs(t);e>n&&(n=e)}return n});function oh(t,n){const e=[],r=t.length-1;for(let n=0;n<r+1;n++)e.push(t[n]/(r+1-n));return e.push(n),e}const ih=Mn;function ch(t,n){const e=t.length-1,r=n.length-1,o=e-r,i=o<0?+o:0,c=o>0?-o:0,s=Math.max(e,r),u=[];for(let e=0;e<s+1;e++){const r=t[e+i]||0,o=n[e+c]||0;u.push(r+o)}return ih(u)}function sh(t){let n=0;for(const e of t.curves){const t=e.ps,[r,o]=Wi(t),[i,c]=Xn(t);n+=vn(oh(ch(qi(r,c),_n(qi(o,i))),0),1)}return-n/2}const uh=Math.max,fh=Math.abs;function lh(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],a=o[1],p=i[0],h=i[1],d=n[0],v=n[1],g=c-d,m=u-d,x=l-d,b=p-d,_=s-v,I=f-v,N=a-v,S=h-v,E=g*g,w=6*g*m,M=6*x*b,O=_*_,T=6*_*I,y=6*N*S,C=6*m*b+9*x*x,P=2*g*b+18*m*x,A=6*g*x+9*m*m,B=6*I*S+9*N*N,z=2*_*S+18*I*N,F=6*_*N+9*I*I;return[6*(b*b-M+(E-w)+C+(A-P)+(S*S-y+(O-T)+B+(F-z))),5*(M+5*w+3*P-2*(C+2*A+3*E)+(y+5*T+3*z-2*(B+2*F+3*O))),4*(C-3*(P-2*A)-5*(2*w-3*E)+(B-3*(z-2*F)-5*(2*T-3*O))),3*(P-2*(2*A-5*(w-2*E))+(z-2*(2*F-5*(T-2*O)))),2*(A-5*(w-3*E)+(F-5*(T-3*O))),w-6*E+(T-6*O)]}function ah(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],a=n[0],p=n[1],h=i-a,d=s-a,v=f-a,g=c-p,m=u-p,x=l-p,b=h*h,_=h*d,I=d*v,N=g*g,S=g*m,E=m*x,w=g*x+m*m*2,M=h*v+d*d*2;return[x*x+N+2*w-4*(E+S)+(v*v+b+2*M-4*(I+_)),3*(E-w+(3*S-N)+(I-M+(3*_-b))),w-3*(2*S-N)+(M-3*(2*_-b)),S-N+(_-b)]}function ph(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=e-c,f=o-c,l=r-s,a=i-s,p=u*f+l*a,h=l*l+u*u;return[f*f+a*a+(h-2*p),p-h]}const hh=Math.sqrt;function dh(t,n){let e;if(4===t.length)e=lh(t,n);else if(3===t.length)e=ah(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:kn(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}e=ph(t,n)}const r=Bn(e,0,1);r.push(0),r.push(1);let o,i=Number.POSITIVE_INFINITY;for(const e of r){const r=go(t,e),c=gr(r,n);c<i&&(i=c,o={p:r,t:e,d:hh(c)})}return o}const vh=Math.sqrt;function gh(t){let n=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++){const r=t[e],o=Math.abs(r[0]),i=Math.abs(r[1]);o>n&&(n=o),i>n&&(n=i)}return n}function mh(t){return Math.max(t.hL+t.hEL,t.hR+t.hER)}function xh(t,n){const e=mh(t)-mh(n);return 0!==e?e:t.tS-n.tS}class bh{compare;heap=[];constructor(t){this.compare=t}insert(t){const n=this.heap;n.push(t);let e=n.length-1;for(;;){const r=(e-1-(e+1)%2)/2;if(-1===r)return;const o=n[r];if(this.compare(t,o)<0)break;n[r]=t,n[e]=o,e=r}}popMax(){const t=this.heap,n=t[0];return t[0]=t[t.length-1],t.length--,this.swimDown(),n}swimDown(){const t=this.heap,n=t.length;let e=0;for(;;){const r=2*e+1;if(r>=n)break;const o=2*e+2,i=o>=n||this.compare(t[r],t[o])>0?r:o,c=t[i],s=t[e];if(this.compare(s,c)>0)break;t[i]=s,t[e]=c,e=i}}swapMinOrMax(t){this.heap[0]=t,this.swimDown()}static getParentIdx(t){return(t-1-(t+1)%2)/2}static getLeftChild(t){return 2*t+1}static getRightChild(t){return 2*t+2}}const _h=Math.max;function Ih(t,n,e,r=50){if(1===t.length)return dh(n,t[0]).d;if(1===n.length)return function(t,n){let e;if(4===t.length)e=lh(t,n);else if(3===t.length)e=ah(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:kn(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}e=ph(t,n)}const r=Bn(e,0,1);r.push(0),r.push(1);let o,i=Number.NEGATIVE_INFINITY;for(const e of r){const r=go(t,e),c=gr(r,n);c>i&&(i=c,o={p:r,t:e,d:vh(c)})}return o}(t,n[0]).d;if(2===t.length&&2===n.length){const e=dh(n,t[0]).d,r=dh(n,t[t.length-1]).d;return e>r?e:r}const o=_h(gh(t),gh(n));e=e||o/1e6;const[i,c]=Nh(t,0,1),s={tS:0,tE:1,hL:dh(n,t[0]).d,hR:dh(n,t[t.length-1]).d,hEL:i,hER:c},u=new bh(xh);u.insert(s);let f=0,l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(;;){const o=u.heap[0],{tS:i,tE:c,hL:s,hR:p}=o,h=(i+c)/2,[d,v]=Nh(t,i,h),[g,m]=Nh(t,h,c),x=go(t,h),b=kn(x,dh(n,x).p),_=_h(s,b,p);if(_>a&&(a=_),l=mh(o),l-a<e)return a;if(f++>r)return a;const I={tS:i,tE:h,hL:s,hR:b,hEL:d,hER:v},N={tS:h,tE:c,hL:b,hR:p,hEL:g,hER:m};u.swapMinOrMax(I),u.insert(N)}}function Nh(t,n,e){const r=(e+n)/2,o=Gn(t,n,r),i=Gn(t,r,e);return[Mo(o),Mo(i)]}function Sh(t,n=!1){const e=t;let r=e;const o=[];do{n&&r===e||Ae(r)||o.push(r),r=r.nextOnCircle}while(r!==e);return o}function Eh(t){const n=[],e=[t],r=new Set;for(;e.length>0;){const t=nr(e.pop());if(0===t.length)continue;n.push(t);const o=t[0],i=t[t.length-1].next.prevOnCircle;r.add(o),r.add(i);const c=Sh(o,!0),s=Sh(i,!0),u=c.filter(t=>!r.has(t)),f=s.filter(t=>!r.has(t));for(const t of u)r.add(t);for(const t of f)r.add(t);e.push(...u,...f)}return n}const wh=-1;class Mh{constructor(t){this.datum=t,this.color=0}}function Oh(t){return!!t&&0===t.color}class Th{constructor(t,n=!0,e){if(this.compare=t,this.duplicatesAllowed=n,this.getMinNode=this.getMinOrMaxNode(wh),this.getMaxNode=this.getMinOrMaxNode(1),this.root=void 0,this.nodeCount=0,this.valueCount=0,e)for(const t of e)this.insert(t)}isEmpty(){return!this.root}find(t){const n=this;let e=this.root;for(;e;){const r=n.compare(t,e.datum);if(0===r)return e;e=e[r>0?1:wh]}}toArrayInOrder(){const t=[];return function n(e){e&&(n(e[-1]),t.push(e.datum),void 0!==e.extras&&t.push(...e.extras),n(e[1]))}(this.root),t}insertMulti(t){const n=this;for(const e of t)n.insert(e)}insert(t){const n=this;n.root=function t(e,r){if(void 0===e)return n.valueCount++,n.nodeCount++,new Mh(r);const o=n.compare(r,e.datum);if(0===o&&(n.duplicatesAllowed?(n.valueCount++,void 0===e.extras?e.extras=[r]:e.extras.push(r)):e.datum=r),0!==o){const n=o>0?1:wh;e[n]=t(e[n],r),e[n].parent=e}return Oh(e[1])&&!Oh(e[-1])&&(e=yh(wh,e)),Oh(e[-1])&&Oh(e[-1][-1])&&(e=yh(1,e)),Oh(e[-1])&&Oh(e[1])&&Ph(e),e}(n.root,t),n.root.color=1,n.root.parent=void 0}remove(t,n=!1,e){const r=this;if(void 0===r.root)return;let o;const i=function t(i,c){const s=r.duplicatesAllowed&&void 0!==i.extras;let u=r.compare(c,i.datum);if(u<0&&!i[-1]||u>0&&!i[1])return i;if(u<0){Oh(i[-1])||Oh(i[-1][-1])||(i=Ah(i));const n=t(i[-1],c);return null===n?null:(i[-1]=n,i[-1]&&(i[-1].parent=i),Bh(i))}if(Oh(i[-1])&&(i=yh(1,i),u=r.compare(c,i.datum)),0===u&&!i[1]){if(s&&!n){if(void 0===e||!0===e(c,i.datum))return o=i.datum,i.datum=i.extras.pop(),r.valueCount--,0===i.extras.length&&(i.extras=void 0),i;{const t=i.extras;for(let n=0;n<t.length;n++)if(!0===e(c,t[n]))return o=t.splice(n,1)[0],r.valueCount--,0===t.length&&(i.extras=void 0),i;return null}}return void 0===e||!0===e(c,i.datum)?(o=i.datum,r.valueCount-=1+(s?i.extras.length:0),void r.nodeCount--):null}if(Oh(i[1])||Oh(i[1][-1])||(i=function(t){return Ph(t),Oh(t[-1][-1])&&Ph(t=yh(1,t)),t}(i),u=r.compare(c,i.datum)),0===u)if(s&&!n)if(void 0===e||!0===e(c,i.datum))o=i.datum,i.datum=i.extras.pop(),r.valueCount--,0===i.extras.length&&(i.extras=void 0);else{const t=i.extras;let n=!1;for(let s=0;s<t.length;s++)if(!0===e(c,t[s])){o=t.splice(s,1)[0],r.valueCount--,0===t.length&&(i.extras=void 0),n=!0;break}if(!n)return null}else{if(void 0!==e&&!0!==e(c,i.datum))return null;{r.valueCount-=1+(s?i.extras.length:0),o=i.datum;const t=r.getMinNode(i[1]);i.datum=t?.datum,r.duplicatesAllowed&&(i.extras=t?.extras),i[1]=Ch(i[1]),r.nodeCount--}}else{const n=t(i[1],c);if(null===n)return null;i[1]=n}return i[1]&&(i[1].parent=i),Bh(i)}(r.root,t);return null!==i?(r.root=i,void 0!==r.root&&(r.root.color=1,r.root.parent=void 0),o):void 0}findBounds(t){const n=this;let e=n.root;const r=[void 0,void 0];if(void 0===e)return r;for(;e;){const o=n.compare(t,e.datum);o>=0?r[0]=e:r[1]=e,e=e[o>=0?1:wh]}return r}findBoundsExcl(t){const n=this,e=n.root,r=[void 0,void 0];return void 0===e||function e(o){for(;o;){const i=n.compare(t,o.datum);if(0===i)return e(o[-1]),void e(o[1]);i>0?r[0]=o:i<0&&(r[1]=o),o=o[i>0?1:wh]}}(e),r}findAll(t){const n=this;let e=this.root;for(;e;){const r=n.compare(t,e.datum);if(0===r)return[e.datum,...e.extras?e.extras:[]];e=e[r>0?1:wh]}return[]}getMinOrMaxNode(t){return n=>{if(void 0===n&&(n=this.root),n){for(;n[t];)n=n[t];return n}}}min(t){void 0===t&&(t=this.root);const n=this.getMinNode(t);if(void 0!==n)return n.datum}max(t){void 0===t&&(t=this.root);const n=this.getMaxNode(t);if(void 0!==n)return n.datum}}function yh(t,n){const e=n[-t];return n[-t]=e[t],e[t]&&(e[t].parent=n),e[t]=n,n.parent=e,e.color=n.color,n.color=0,e}function Ch(t){if(t[-1])return Oh(t[-1])||Oh(t[-1][-1])||(t=Ah(t)),t[-1]=Ch(t[-1]),t[-1]&&(t[-1].parent=t),Bh(t)}function Ph(t){t.color=(t.color+1)%2,t[-1].color=(t[-1].color+1)%2,t[1].color=(t[1].color+1)%2}function Ah(t){if(Ph(t),Oh(t[1][-1])){const n=yh(1,t[1]);t[1]=n,n.parent=t,Ph(t=yh(wh,t))}return t}function Bh(t){return Oh(t[1])&&(t=yh(wh,t)),Oh(t[-1])&&Oh(t[-1][-1])&&(t=yh(1,t)),Oh(t[-1])&&Oh(t[1])&&Ph(t),t}const{cpNodeComparator:zh,getAllOnLoop:Fh}=rr;function Yh(t){const n=new Map;return Fh(t).forEach(function(t){const e=t.cp.pointOnShape.curve.loop;let r=n.get(e);r||(r=new Th(zh,!1),n.set(e,r)),r.insert(t)}),n}function Vh(t,n=.125,e=50){let r=Ze(t.cpNode);for(;!Ae(r);)r=r.next;const o=Eh(r),i=new Set;for(let t=0;t<o.length;t++){const r=o[t];let c=0;for(;c<r.length;){const t=c;for(;(c++,c!==r.length)&&!(kh(t,c,r,e)>n);)i.add(r[c])}}r=function(t,n){const e=n;if(t(e))return e;let r=n.next;for(;r!==e;){if(t(r))return r;r=r.next}}(t=>Ae(t)?t:void 0,r);for(const n of i)or(t=>2!==Xe(t)&&!t.isHoleClosing)(n)||Ke(n,t.meta.cpTrees);return{cpNode:r,meta:{...t.meta,cpTrees:Yh(r)}}}function kh(t,n,e,r){const o=[],i=Te(e[t],e[n].next);for(;t<n+1;t++)o.push(Ih(ye(e[t]),i,r));return Math.max(...o)}const{getAllOnLoop:Lh}=rr;function $h(t){const n=[],e=Lh(t);for(const t of e)Le(t)&&!t.isHoleClosing&&n.push(t);return n}const qh=function(t,n,e){const r=t.get(n);return void 0!==r&&r.has(e)},Xh=function(t,n,e){let r=t.get(n);void 0===r&&(r=new Set,t.set(n,r)),r.add(e)},{isOnSameCircle:Hh}=rr;function Dh(t){let n=t,e=t.prevOnCircle;for(;Ae(e);)e=e.prevOnCircle;const r=[];do{Ae(n)||r.push(n),n=n.nextOnCircle}while(n!==e);return r}function Qh(t,n){const e=new Map,r=new Map;return Qe(t,function(t){const o=r.get(t)||n*t.cp.circle.radius,i=t.next,c=function(t,n,e=.4,r=16){if(4===n.length)return Zn(t,n,e,r);if(3===n.length)return Un(t,n,e,r);if(2===n.length)return Ln(t,n);if(1===n.length)return 0;throw new Error("The given bezier curve must be of order <= 3.")}([0,1],ye(t)),s=i.cp.circle.radius;if(o-c>n*s)for(const t of Pe(i))if(r.set(t,o-c),!i.isHoleClosing){const{center:t}=i.cp.circle;Xh(e,t[0],t[1])}}),e}function Gh(t,n){let e=0;"undefined"!=typeof _debug_&&(e=performance.now());const r=function(t){const n=v(t);return n.reduce(function(t,n){return t.cp.circle.radius>=n.cp.circle.radius?t:n},n[0])}(Ze(t.cpNode));!function(t,n){const e=$h(n);for(;e.length;){const r=e.pop(),{center:o}=r.cp.circle;if(!qh(t,o[0],o[1])||r.isIntersection)continue;let i=r.prevOnCircle,c=!1;for(;!c;){i=i.next;const{center:e}=i.cp.circle;if(qh(t,e[0],e[1]))if(Hh(i,n))c=!0;else{if(1===Dh(i).length)continue;c=!0}else{for(;Ae(i.prevOnCircle);)i=i.prevOnCircle;c=!0}}if(c){const t=i.prevOnCircle;t.next=i,i.prev=t,t.nextOnCircle=i,i.prevOnCircle=t}}}(Qh(r,n),r);const o={cpNode:r,meta:{...t.meta,cpTrees:Yh(r)}};return function(t){"undefined"!=typeof _debug_&&(_debug_.generated.timing.sats=performance.now()-t)}(e),o}const Rh={maxCurviness:.05,maxLength:40,applySat:!0,satScale:2,simplify:!0,simplifyTolerance:2**-4,minBezLength:2**-6,angleIncrement:15},Uh={maxCurviness:{range:[.01,3]},maxLength:{range:[1,1024],scaleByMaxRadius:!0},angleIncrement:{range:[.1,360]},satScale:{range:[1,Number.POSITIVE_INFINITY]},simplifyTolerance:{range:[2**-10,1024],scaleByMaxCoordinate:!0},minBezLength:{range:[2**-20,2],scaleByMaxCoordinate:!0}};function Zh(t){return[t[1],-t[0]]}function jh(t,n){return Ee(n)&&Se(n).isDull?-te(Zh(Se(n).tangents[0]),ie(Kn(n.p,t.center))):0}function Wh(t){return t[0]*t[0]+t[1]*t[1]}function Jh(t,n,e){return t[0]*(n[1]*e[2]-n[2]*e[1])-t[1]*(n[0]*e[2]-n[2]*e[0])+t[2]*(n[0]*e[1]-n[1]*e[0])}function Kh(t){const n=t[0],e=t[1],r=t[2],o=Wh,i=.5*Jh([o(n),n[1],1],[o(e),e[1],1],[o(r),r[1],1]),c=.5*Jh([n[0],o(n),1],[e[0],o(e),1],[r[0],o(r),1]),s=Jh([n[0],n[1],1],[e[0],e[1],1],[r[0],r[1],1]);return[i/s,c/s]}function td(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}const nd=Number.EPSILON/2,ed=nd*nd;function rd(t){const n=t*ed;return n/(1-n)}const od=Ir,id=x,{abs:cd}=Math,sd=rd(3);function ud(t,n,e){const r=t.length-1,o=[t[0]];let i=n[0];const c=[i];for(let s=1;s<r;s++){const r=o[s-1],u=e*r[1],f=cd(e)*i+cd(u),l=t[s];i=n[s]+f+cd(l[1]+u);const a=id(l,od(e,r));o.push(a),c.push(i)}return{coeffs:o,errBound:c.map(t=>sd*t)}}const fd=$,ld=B;function ad(t,n){const e=t.length-1,r=[t[0]];for(let o=1;o<e;o++)r.push(ld(t[o],fd(n,r[o-1])));return r}const pd=dt,hd=sr,dd=x,vd=Number.EPSILON,gd=rd(3),{sqrt:md}=Math;function xd(t,n,e,[r,o]=[0,1],i=void 0,c=void 0,s=!1,u=0){const f=n.ps,l=0===u&&n===i;let{polyDd:a,polyE:p,getPolyExact:h}=Ai(f,e);const d=l?ud(a,p.map(t=>t/gd),c):void 0,v=s&&l?ud(d.coeffs,d.errBound.map(t=>t/gd),c):void 0,g=s&&l?ud(v.coeffs,v.errBound.map(t=>t/gd),c):void 0,{polyDd:m,polyE:x,getPolyExact:b}=void 0!==g?{polyDd:g.coeffs,polyE:g.errBound,getPolyExact:()=>ad(ad(ad(h(),c),c),c)}:void 0!==d?{polyDd:d.coeffs,polyE:d.errBound,getPolyExact:()=>ad(h(),c)}:{polyDd:a,polyE:p,getPolyExact:h},_=po(m,r,o,x,b),I=1===c&&n===i.next||0===c&&n===i,N=0===c&&n===i.prev||1===c&&n===i;0===r?I||_.push({tS:0,tE:0,multiplicity:1}):1===r?N||_.push({tS:1,tE:1,multiplicity:1}):_.push({tS:r,tE:r,multiplicity:1}),0===o?I||_.push({tS:0,tE:0,multiplicity:1}):1===o?N||_.push({tS:1,tE:1,multiplicity:1}):_.push({tS:o,tE:o,multiplicity:1});const S=_.map(i=>{const{tS:c,tE:s}=i;if(s<r||c>o)return;const u=(c+s)/2,l=u<0?0:u>1?1:u,a=So(f,[c,s]),p=function(t){const n=t[0],e=t[1];return[(n[0]+e[0])/2,(n[1]+e[1])/2]}(a),h=function(t,n,e){const r=n[0],o=n[1],i=r[0],c=r[1],s=o[0],u=o[1],f=e[0],l=e[1];let a=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;for(const[n,e]of[[i,c],[i,u],[s,c],[s,u]]){const r=pd(n,f),o=pd(e,l),i=dd(hd(r,r),hd(o,o))[1],c=i*(1-2**t*vd),s=i*(1+2**t*vd);c<=a&&(a=c),s>=p&&(p=s)}return[a,p]}(t,a,e),d=0===l?1:l;return{curve:0===l?n.prev:n,p,t:d,d:(md(h[0])+md(h[1]))/2,dSquaredI:h,box:a}});return S.filter(t=>void 0!==t)}const bd=gr;function _d(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=n[0],f=n[1];return u<o?f<i?bd(t[0],n):f>s?bd([o,s],n):(o-u)**2:u>c?f<i?bd([c,i],n):f>s?bd(t[1],n):(u-c)**2:f<i?(i-f)**2:f>s?(f-s)**2:0}const Id=Wn(wo);function Nd(t,n){const e=[0,1,2,3].map(e=>function(t,n){const e=gr,r=n[0],o=n[1],i=e(r,o);if(0==i)return e(t,r);let c=((t[0]-r[0])*(o[0]-r[0])+(t[1]-r[1])*(o[1]-r[1]))/i;return c=Math.max(0,Math.min(1,c)),e(t,[r[0]+c*(o[0]-r[0]),r[1]+c*(o[1]-r[1])])}(n,[t[e],t[(e+1)%4]])),r=gr(t[0],t[1]),o=gr(t[0],t[3]);return e[0]<=o&&e[2]<=o&&e[1]<=r&&e[3]<=r?0:Math.min(...e)}const Sd=Wn(Oo);function Ed(t,n,e,r=void 0,o=void 0,i=!1,c=0){n=function(t,n){const e=function(t,n){let e=Number.POSITIVE_INFINITY;for(let r=0;r<t.length;r++){const o=t[r],i=o.curve.ps,c=go(i,o.ts[0]),s=go(i,o.ts[1]),u=Math.min(gr(n,c),gr(n,s));u<e&&(e=u)}return(1+2**-10)*e}(t,n);return t=function(t,n,e){const r=[];for(let o=0;o<t.length;o++){const i=t[o],c=i.curve.ps;_d(Id(c),n)<=e&&r.push(i)}return r}(t,n,e),t=function(t,n,e){const r=[];for(let o=0;o<t.length;o++){const i=t[o],c=i.curve.ps;Nd(Sd(c),n)<=e&&r.push(i)}return r}(t,n,e),t}(n,e);const s=[];for(let u=0;u<n.length;u++){const f=n[u],l=xd(t,f.curve,e,f.ts,r,o,i,c);s.push(...l)}let u=Number.POSITIVE_INFINITY;for(let t=0;t<s.length;t++){const n=s[t].dSquaredI[1];n<u&&(u=n)}const f=[];for(let t=0;t<s.length;t++){const n=s[t];n.dSquaredI[0]<=u&&f.push(n)}return f.map(t=>vr(t.curve,t.t,!1))}const{max:wd,ceil:Md,log2:Od}=Math;function Td(t,n){return n.map(n=>Ed(5,n,t)[0])}function yd(t,n){return[n*t[0],n*t[1]]}function Cd(t,n,e){const r=td(e);let o,i,c,s,u=1,f=0;do{i=oe(yd(e,u),n),c=Td(i,t),s=td(Kn(i,Kh(c.map(t=>t.p)))),o=s<r,u/=2,f++}while(!o&&f<3);return{newX:i,newV:s,newPoss:c}}const{isSharp:Pd}=rr,Ad=Kn;function Bd(t,n,e,r,o){const i=2**-32*o,c=[t[0],t[n],t[t.length-1]],s=[r[0],r[n],r[t.length-1]],u=[[c[0],c[1],c[2]],[c[1],c[2],c[0]],[c[2],c[0],c[1]]][e],f=[[s[0],s[1],s[2]],[s[1],s[2],s[0]],[s[2],s[0],s[1]]][e];if(Pd(u[0][0]))return;let l,a,p=0,h=function(t,n,e){const r=n[0][0].cp.circle,o=r.center,i=Ed(wd(0,Md(Od(t/r.radius)))+1,e[1],o)[0];return Kh([n[0][0].cp.pointOnShape.p,i.p,n[2][1].cp.pointOnShape.p])}(o,u,f),d=Number.POSITIVE_INFINITY;for(;d>i&&p<10;){if(p++,l=Td(h,f),!Number.isFinite(h[0])||!Number.isFinite(h[1]))return;a=Kh(l.map(t=>t.p));const t=Ad(h,a);if(!Number.isFinite(t[0])||!Number.isFinite(t[1]))return;const n=Cd(f,h,t);h=n.newX,l=n.newPoss;const e=td(t);d=Math.abs(e-n.newV)}const v=(kn(h,l[0].p)+kn(h,l[1].p)+kn(h,l[2].p))/3,g={center:h,radius:v};let m=0;for(let t=0;t<3;t++){const n=l[t],e=ie(Kn(n.p,h)),r=ne(e);if(Ee(n)&&Se(n).isDull){const t=Ne(n.curve.ps,n.curve.next.ps).tangents.map(ne),r=Math.asin(ee(t[0],e)),o=Math.asin(ee(e,t[1]));let i=0;r>0&&(i+=r),o>0&&(i+=o),m+=i}else{const t=ie(se(n.curve.ps,n.t));m+=Math.abs(Math.asin(ee(r,t)))}}const x=[];for(let t=0;t<r.length;t++){const n=Ed(5,r[t],h)[0];x.push(kn(n.p,h))}const b=Math.min(...x);return{poss:l,circle:g,error:1*Math.abs(v-b)+1*m,δ3s:u}}const zd=Wn(t=>!!Ee(t)&&Se(t).isQuiteSharp);function Fd(t){let n=t[0];const e=t[1],r=[];let o=!0;do{if(!o){o=!0,n=n.prevOnCircle;continue}o=!1;const t=n.cp.pointOnShape,e=n.next.cp.pointOnShape;e.curve===t.curve&&zd(t)&&zd(e)||(e.curve===t.curve&&d(n.next.cp,n.cp)>0?r.push({curve:t.curve,ts:[t.t,e.t]}):(r.push({curve:t.curve,ts:[t.t,1]}),t.curve.loop===e.curve.loop&&Yd(r,t.curve,e.curve,e.t))),n=n.next}while(n!==e);return r}function Yd(t,n,e,r){let o=n;do{o=o.next;const n=o===e?r:1;t.push({curve:o,ts:[0,n]})}while(o!==e)}function Vd(t,n,e,r){const o={pointOnShape:n,order:e,order2:r},i=t.findBounds({cp:o});if(void 0!==i[0]||void 0!==i[1])return void 0===i[0]||void 0===i[1]?t.max(t.root):i[0].datum}function kd(t,n,e,r,o,i){if(void 0!==i&&!function(t,n,e){const r=d(n,e.cp);if(r<0)return!0;if(0===r)return!0;const o=t.getMinNode();if(void 0===o)return!0;const i=o.datum;return d(t.getMaxNode().datum.cp,n)<0&&i===e}(r,o,i.next)&&!t)return;const c={cp:o,isHoleClosing:n,isIntersection:e},s=void 0===i?c:i,u=void 0===i?c:s.next;return u.prev=c,s.next=c,c.prev=s,c.next=u,r.insert(c),c}function Ld(t,n,e,r,o,i,c){let s=!1;const u=i.map((i,u)=>{const f=r[u],l=o.get(i.curve.loop),a={pointOnShape:i,circle:e,order:f,order2:0},p=void 0===c?Vd(l,i,f,0):c[u],h=kd(t,n,!1,l,a,p);return void 0===h&&(s=!0),h});return s||function(t,n){n=n.slice().sort(function(t){const n=t.center;return function(t,e){let r=t.cp.pointOnShape.p,o=e.cp.pointOnShape.p;r=[r[0]-n[0],r[1]-n[1]],o=[o[0]-n[0],o[1]-n[1]];const i=Math.atan2(r[1],r[0]);return Math.atan2(o[1],o[0])-i}}(t));const e=n.length;for(let t=0;t<e;t++)n[t].nextOnCircle=n[(t+1)%e],n[t].prevOnCircle=n[(t-1+e)%e]}(e,u),{anyFailed:s,cpNodes:u}}const $d=Math.cos(Math.PI/180*1);function qd(t,n,e,r,o,i){const{cpTrees:c,maxCoordinate:s}=t,u=2e-14*s,f=.02*u,l=Vd(c.get(n.curve.loop),n,r,o);if(!l)return;const a=[l,l.next],{p,t:h}=n;for(const t of a){const n=t.cp.pointOnShape.p,r=kn(p,n);if(!(r>u)&&(te(ie(Kn(n,t.cp.circle.center)),ie(Kn(p,e.center)))>$d||r<f&&0!==h&&1!==h))return t}}function Xd(t,n){const e=[];for(const t of n)e.push([t,t.next]);const r=function(t,n){const e=t.map(Fd);let r,o=Number.POSITIVE_INFINITY;for(let i=1;i<t.length-1;i++)for(let c=0;c<3;c++){const s=Bd(t,i,c,e,n);if(!s)continue;const{circle:u,poss:f,error:l,δ3s:a}=s;l<o&&(o=l,r={circle:u,poss:f,δ3s:a})}return r}(e,t.maxCoordinate),{circle:o,poss:i,δ3s:c}=r,s=[];for(let t=0;t<3;t++)s.push(jh(o,i[t]));const u=[];for(let n=0;n<i.length;n++){const e=qd(t,i[n],o,s[n],0);void 0!==e&&Xe(e)<=2&&!e.isHoleClosing&&u.push(e)}return{closeBysFor3Prong:u,cpNodes:0===u.length?Ld(!0,!1,o,s,t.cpTrees,i,c.map(t=>t[0])).cpNodes:[]}}let Hd=0;function Dd(t,n){if(we(n.cp.pointOnShape))return{closeBysFor3Prong:void 0,addedCpNodes:[]};const e=[];for(;;){if(void 0===n)continue;const r=De(n);if(r.length<=2)break;const{closeBysFor3Prong:o,cpNodes:i}=Xd(t,r);if(e.push(i),o.length>0)return{closeBysFor3Prong:o,addedCpNodes:e};if("undefined"!=typeof _debug_&&++Hd===_debug_.directives.stopAfterThreeProngsNum)return}return{closeBysFor3Prong:undefined,addedCpNodes:e}}function Qd(t){for(const n of t)return n}function Gd(t,n,e,r){for(const o of[n[0]])Pe(o).forEach(t=>{e.delete(t),r.delete(t)}),Ke(o,t)}const{cpNodeComparator:Rd}=rr;function Ud(t,n,e){let r;for(let o=0;o<e.length;o++){const i=e[o],c=new Th(Rd,!1);let s,u;for(const t of i){const n={center:t.p,radius:0},e={pointOnShape:t,circle:n,order:1,order2:0};s=kd(!0,!1,!1,c,{pointOnShape:t,circle:n,order:-1,order2:0},u),u=kd(!0,!1,!1,c,e,s),s.prevOnCircle=u,u.prevOnCircle=s,s.nextOnCircle=u,u.nextOnCircle=s}r||(r=s);const f=t[o];n.set(f,c)}return r}const Zd=function(t,n,e,r,o){let i=t.get(n);void 0===i&&(i=new Map,t.set(n,i));let c=i.get(e);void 0===c&&(c=new Map,i.set(e,c)),c.set(r,o)};let jd;function Wd(t){return n=>{const e=[];for(let r=0;r<n.curves.length;r++){const o=n.curves[r];Mo(o.ps)<t||Ne(o.ps,o.next.ps).isQuiteSharp&&e.push(vr(o,1,!0))}return e}}const Jd=x,Kd=Ir;function tv(t,n){let e=[0,0];for(let r=0;r<t.length;r++)e=Jd(t[r],Kd(n,e));return e}tv([[0,1],[0,1],[0,-2],[0,3]],.25);const nv=A,ev=P,rv=Ir,ov=x,iv=ur;function cv(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[rv(3,ov(ev(s,n),rv(3,ev(r,i)))),rv(6,iv(nv(i,n),-2*r)),rv(3,ev(r,n))],[rv(3,ov(ev(u,e),rv(3,ev(o,c)))),rv(6,iv(nv(c,e),-2*o)),rv(3,ev(o,e))]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[iv(nv(2*i,2*n),-4*r),ev(2*r,2*n)],[iv(nv(2*c,2*e),-4*o),ev(2*o,2*e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[ev(r,n)],[ev(o,e)]]}(t);if(1===t.length)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const sv=P,uv=x,fv=Ir,lv=ur;function av(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[fv(6,uv(sv(s,n),fv(3,sv(r,i)))),fv(6,lv(sv(i,2*r),n))],[fv(6,uv(sv(u,e),fv(3,sv(o,c)))),fv(6,lv(sv(c,2*o),e))]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[lv(sv(2*i,4*r),2*n)],[lv(sv(2*c,4*o),2*e)]]}if(t.length<=2)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const pv=sr,hv=x,dv=b,vv=dt,gv=J,mv=$,xv=B,bv=D;function _v(t,n,e=!1){const r=n.curve.ps,{p:o,t:i}=n;let c=-function(t,n){const[e,r]=cv(t),[o,i]=av(t),c=tv(e,n),s=tv(r,n),u=tv(o,n),f=tv(i,n),l=dv(pv(c,f),pv(s,u)),a=hv(pv(c,c),pv(s,s)),p=pv(a,pv(a,a)),h=Math.sqrt(p[1]);return l[1]/h}(r,i);(c<t||e)&&(c=t);const s=function(t,n){const[e,r]=function(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[mv(3,xv(vv(s,n),mv(3,vv(r,i)))),mv(6,bv(gv(i,n),-2*r)),mv(3,vv(r,n))],[mv(3,xv(vv(u,e),mv(3,vv(o,c)))),mv(6,bv(gv(c,e),-2*o)),mv(3,vv(o,e))]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[bv(gv(2*i,2*n),-4*r),vv(2*r,2*n)],[bv(gv(2*c,2*e),-4*o),vv(2*o,2*e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[vv(r,n)],[vv(o,e)]]}(t);if(1===t.length)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}(t);return[$r(e,n),$r(r,n)]}(r,i).map(t=>t[t.length-1]),u=[-s[1],s[0]],f=Math.sqrt(u[0]**2+u[1]**2);return{center:[o[0]-u[0]/(c*f),o[1]-u[1]/(c*f)],radius:1/c}}const{abs:Iv}=Math,Nv=P,Sv=m;function Ev(t,n,e){const r=Iv(t[1]-n[1])>Iv(t[0]-n[0]);let o,i,c,s,u,f;r?(o=t[1],i=t[0],c=n[1],s=n[0],u=e[1],f=e[0]):(o=t[0],i=t[1],c=n[0],s=n[1],u=e[0],f=e[1]);const l=Lf(Nv(i,s),Nv(o,c)),a=b([0,s],_r(c,l)),p=Lf(x(b(x(Sv(c,c),Sv(s,s)),x(Sv(u,u),Sv(f,f))),Vo(sr(a,Nv(f,s)))),Vo(x(Nv(c,u),sr(l,Nv(s,f))))),h=x(sr(l,p),a);return r?[h[1],p[1]]:[p[1],h[1]]}function wv(t,n,e,r){const o=(2**-14*t)**2;if(gr(n,r)<o)return;const i=[(n[0]+r[0])/2,(n[1]+r[1])/2],c=[r[0]-n[0],r[1]-n[1]],s=[-c[1],c[0]],u=Jn([n,e],[i,[i[0]+s[0],i[1]+s[1]]]);return u?te([u[0]-n[0],u[1]-n[1]],[e[0]-n[0],e[1]-n[1]])<0?void 0:u:void 0}function Mv(t,n){const[e,r]=t,[o,i]=n,c=P(e,o),s=P(r,i);return x(sr(c,c),sr(s,s))[1]}function Ov(t,n,e){if(t.length<=1)return t;const r=[];for(const o of t){const t=o.curve.ps;_d(Id(t),n)<=1.0009765625*e&&r.push(o)}return r}function Tv(t,n,e,r){if(Ee(r)&&Se(r).isDull)return;const o={radius:n,center:e};if(qd(t,r,o,jh(o,r),0))return;const{anyFailed:i,cpNodes:c}=Ld(!1,!1,o,[-.5,.5],t.cpTrees,[r,r])}const yv=m,Cv=x,Pv=b,Av=_r,{asin:Bv,acos:zv,cos:Fv,sqrt:Yv,PI:Vv}=Math,kv=1e3*2**-46;function Lv(t,n,e){if(n+e>=t)return Number.POSITIVE_INFINITY;const r=P(t,n),o=Av(n,r),i=t-n,c=n*i,s=(c-n*e-e*e/2)/(c+i*e),u=Lf(Pv(Pv(o,yv(n,e)),yv(e,e/2)),Cv(o,Av(e,r)))[1];return zv(s),n*zv(u)}Lv(699,698,kv),function(t,n,e){const r=698+e;const o=t*t-r*r-1,i=2*r*1,c=Lf(Pv(Pv(yv(t,t),yv(r,r)),yv(1,1)),yv(-2*r,1))[1];zv(-o/i),zv(c)}(699,0,kv),function(t,n,e){const r=698+e,o=699,i=Yv((1-(r*r+o*o-2*r*o))/(4*r*o));Bv(i)}(0,0,kv);const{ceil:$v,log2:qv,max:Xv,sqrt:Hv,abs:Dv,sin:Qv,cos:Gv}=Math;function Rv(t,n,e,r,o){const{loops:i,maxCoordinate:c,squaredDiagonalLength:s,cpTrees:u}=t,f=o.curve.loop,l=(2**-21*c)**2,a=2**-46*c,p=Hv(s),h=1/p,d=2**-16*c,[v,g]=function(t,n,e,r,o){let i;const c=o.p;let s;if(n)i=[c[0],c[1]-e],s=e;else if(0===t)({center:i,radius:s}=_v(r,o));else{({center:i,radius:s}=_v(r,o,!0));const n=Kn(o.p,i),e=ce(Qv(t),Gv(t))(n);i=oe(o.p)(e)}return[i,s]}(r,n,p,h,o),m=o.p;let x=function(t,n,e,r,o,i,c){if(n)return r.filter(t=>t!==e).flatMap(t=>t.curves.map(t=>({curve:t,ts:[0,1]})));const s=Ee(i)&&Se(i).isDull?1===i.t&&0===t?-1:0===i.t?1:jh(c,i):0,u=Vd(o.get(e),i,s,0);return u&&u!==u.next.next?Fd([u,u]):e.curves.map(t=>({curve:t,ts:[0,1]}))}(r,n,f,i,u,o,{center:v,radius:g}),b=v;const _=Hv(function(t,n,e,r){let o=Number.POSITIVE_INFINITY;for(let i=0;i<n.length;i++){const c=n[i],s=c.curve.ps,u=2;for(let n=0;n<u+1;n++){const i=wv(t,e,r,go(s,c.ts[n/u]));if(i){let t=gr(e,i);t<o&&(o=t)}}}return(1+2**-10)*o}(c,x,m,v));let I,N;g>_&&(b=re(m,v,_/g));let S=0;for(;S<25;){const i=Mv(b,o.p);S<2&&(x=Ov(x,b,i));const s=Ed(Xv(0,$v(qv(c/i)))+1,x,b,o.curve,o.t,e&&0==S&&g!==1/h,r).map(t=>vr(t.curve,t.t,!1));let u,f=Number.NEGATIVE_INFINITY;I=[];for(const t of s){if(void 0===t)continue;const n=Mv(o.p,t.p);n>f&&(f=n,u=t),0!==n&&I.push(t)}const p=f;if(N=u,void 0===N||0===p)return;const m=Mv(b,N.p);if(0===S&&g<(1-d)*Hv(m))return void Tv(t,g,v,o);if(!n&&p<=Xv(Lv(g,Hv(m),4*a),l))return;if(b=Ev(b,o.p,N.p),Dv(Hv(i)-Hv(m))<a)break;if(S++,25===S)return}const E={center:b,radius:kn(b,N.p)};return I=I.filter(t=>void 0!==t),{circle:E,zs:[N]}}function Uv(t,n,e,r){const{cpTrees:o}=t;e[0]=0===e[0].t?vr(e[0].curve.prev,1,!0):e[0];const i=e.map(t=>jh(n,t));for(let r=0;r<e.length;r++)if(qd(t,e[r],n,i[r],0))return;const{anyFailed:c,cpNodes:s}=Ld(r,r,n,i,o,e);if(!c)return r&&function(t,n){const[e,r]=n,o=r.cp,i=kd(!0,!0,!1,t.get(o.pointOnShape.curve.loop),{...o,order2:1},r),c=kd(!0,!0,!1,t.get(e.cp.pointOnShape.curve.loop),{...e.cp,order2:-1},e.prev);c.prevOnCircle=i,c.nextOnCircle=i,i.prevOnCircle=c,i.nextOnCircle=c,r.next=e,e.prev=r,c.next=i,i.prev=c}(o,s),s[0];s.forEach(t=>{void 0!==t&&Je(t,o)})}const{PI:Zv,atan2:jv}=Math;function Wv(t,n,e,r){let o;const i=n*Zv/180;for(let n=0;n<e.length;n++){const c=[0],s=e[n];if(1===s.t){const{curve:t}=s,n=Ne(t.ps,t.next.ps);if(n.isQuiteDull){const t=Zh(n.tangents[0]),e=Zh(n.tangents[1]),r=(jv(t[1],t[0])+2*Zv)%(2*Zv),o=((jv(e[1],e[0])+2*Zv)%(2*Zv)-r+2*Zv)%(2*Zv);let s=i;for(;s<=o-i/2;)c.push(s),s+=i}}for(let e of c){const i=Rv(t,!1,r,e,s);if(i){const{circle:n,zs:e}=i,r=Uv(t,n,[s,...e],!1);o=o||r}if("undefined"!=typeof _debug_&&n+1===_debug_.directives.stopAfterTwoProngsNum)return}}return o}function Jv(t,n,e,r){let o;for(let i=0;i<e.length;i++){const c=Wv(t,n,e[i],r);o=void 0===o?c:o}return o}function Kv(t,n=.4,e=10,r=2**-16){const o={r:[0,1]};let i=o;for(;void 0!==i;){const o=i.r,c=Gn(t,o[0],o[1]);if(Mo(c)<=e&&Qn(c)<=n||o[1]-o[0]<=r){i=i.next;continue}const s=(o[0]+o[1])/2,u=[o[0],s],f=[s,o[1]];i.r=u,i.next={r:f,next:i.next}}i=o;const c=[];for(;void 0!==i;)c.push(i.r[0]),void 0===i.next&&c.push(i.r[1]),i=i.next;return c}const tg=Ir,ng=P,eg=x,rg=Ir,og=Vo,ig=ko,cg=Ir,sg=sr,ug=x,fg=b;const lg=P,ag=Ir,pg=sr,hg=x,dg=b;function vg(t){if(xt(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&pt(t)&&(t=Fu(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,c]]=t,s=lg(r,n),u=lg(i,r),f=dg(u,s),l=lg(o,e),a=lg(c,o),p=dg(a,l),h=hg(dg(ag(n,dg(f,[0,r])),ag(r,dg(u,[0,r]))),dg(ag(e,dg(p,[0,o])),ag(o,dg(a,[0,o]))));return[hg(pg(f,f),pg(p,p)),Gc(h)]}(t);return{minima:[],maxima:po(n,0,1).map(t=>(t.tS+t.tE)/2),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,c]]=cv(t),[[s,u],[f,l]]=av(t),[[a],[p]]=function(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[rg(6,eg(ng(s,n),rg(3,ng(r,i))))],[rg(6,eg(ng(u,e),rg(3,ng(o,c))))]]}if(t.length<=3)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}(t),h=sg(a,i),d=sg(p,e),v=sg(u,c),g=sg(u,i),m=sg(f,f),x=sg(s,c),b=sg(l,r),_=sg(l,e),I=sg(f,r),N=sg(r,e),S=sg(r,n),E=sg(r,o),w=sg(e,e),M=sg(e,n),O=sg(e,i),T=sg(n,c),y=sg(n,o),C=sg(n,n),P=sg(c,i),A=sg(c,o),B=sg(i,i),z=sg(i,o),F=sg(o,o),Y=fg(sg(a,c),sg(p,r)),V=fg(h,d),k=ug(sg(u,r),sg(l,c)),L=ug(ug(sg(u,e),sg(s,r)),ug(sg(l,i),sg(f,c))),$=fg(v,b),q=fg(ug(g,x),ug(_,I)),X=ug(sg(r,r),sg(c,c)),H=ug(N,P),D=ug(O,T),Q=ug(A,B),G=ug(S,w),R=ug(sg(e,o),sg(n,i)),U=fg(C,F),Z=fg(M,z),j=ug(E,O),W=fg(N,P),J=ug(sg(r,i),sg(e,c)),K=ug(A,Q),tt=ug(S,G),nt=ug(E,D),et=ug(O,D),rt=fg(tt,K),ot=ug(D,T),it=ug(j,T),ct=ug(Vo(_),I),st=sg(C,fg(h,cg(3,d))),ut=sg(F,fg(cg(3,h),d)),ft=Vo(ug(sg(y,ug(fg(sg(a,e),sg(p,i)),cg(3,fg(sg(l,f),sg(u,s))))),cg(3,sg(sg(s,f),Z)))),lt=cg(3,ug(sg(R,fg(m,sg(s,s))),sg(U,ug(sg(u,f),sg(l,s))))),at=ug(ug(st,ut),ug(ft,lt)),pt=sg(a,ug(sg(o,ug(tt,cg(3,Q))),sg(n,et))),ht=sg(p,ug(ug(sg(r,ug(cg(3,C),F)),sg(e,ug(cg(3,M),og(z)))),sg(n,K))),dt=cg(3,ug(ug(sg(u,ug(fg(sg(l,U),sg(u,y)),og(fg(sg(f,Z),sg(s,R))))),sg(s,fg(ug(og(sg(l,Z)),sg(f,ug(og(fg(S,A)),fg(w,B)))),sg(s,it)))),ug(sg(l,ug(sg(l,y),og(sg(f,R)))),sg(m,nt)))),vt=ug(fg(pt,ht),dt),gt=sg(a,ug(ug(og(sg(r,R)),sg(e,ot)),sg(i,ug(ig(A),K)))),mt=sg(p,ug(ug(og(sg(r,ug(cg(3,M),z))),sg(e,ug(w,og(A)))),sg(i,ot))),xt=cg(3,ug(ug(sg(u,fg(ug(og(fg(sg(l,Z),sg(s,it))),sg(f,rt)),sg(u,R))),sg(s,fg(og(sg(f,W)),sg(s,J)))),ug(sg(l,ug(ug(sg(l,R),og(sg(f,nt))),sg(s,rt))),sg(m,J)))),bt=ug(fg(gt,mt),xt),_t=sg(a,ug(sg(r,ug(E,og(D))),sg(c,ug(w,cg(3,Q))))),It=sg(p,ug(sg(r,ug(cg(3,G),K)),sg(c,et))),Nt=cg(3,ug(ug(sg(u,ug(fg(sg(l,rt),sg(u,nt)),og(fg(sg(f,W),sg(s,J))))),sg(s,fg(sg(r,fg(ct,sg(s,c))),sg(c,ug(og(sg(l,i)),sg(f,c)))))),ug(sg(l,ug(sg(l,D),sg(r,ug(og(sg(f,i)),sg(l,o))))),sg(f,sg(c,ct))))),St=ug(fg(_t,It),Nt),Et=fg(ug(sg(X,V),og(sg(H,Y))),cg(3,ug(sg(k,q),sg(L,$)))),wt=fg(sg(Y,X),cg(3,sg(k,$)));return{inflectionPoly:[fg(sg(s,o),sg(f,n)),fg(ug(sg(u,o),sg(s,i)),ug(sg(l,n),sg(f,e))),fg(ug(g,x),ug(_,I)),fg(v,b)],otherExtremaPoly:[at,vt,bt,St,Et,wt]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=po(r,0,1),i=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(tg(e-r,t[r]));return n}(r),c=[],s=[];for(let t=0;t<o.length;t++){const n=(o[t].tS+o[t].tE)/2,r=$r(i,n);Q(H($r(e,n),r))>=0?c.push(n):s.push(n)}return{minima:c,maxima:s,inflections:po(e,0,1).map(t=>(t.tS+t.tE)/2)}}const gg=Number.POSITIVE_INFINITY,mg=Wn(function(t){const n=[[{bezier:void 0,t:void 0,val:gg},{bezier:void 0,t:void 0,val:gg}],[{bezier:void 0,t:void 0,val:-gg},{bezier:void 0,t:void 0,val:-gg}]];return t.curves.forEach(function(t){const e=nc(t.ps);{const r=e.box[0][0],o=n[0][0].val;(r<o||r===o&&e.ts[0][0]>n[0][0].t)&&(n[0][0]={bezier:t,t:e.ts[0][0],val:r})}{const r=e.box[0][1],o=n[0][1].val;(r<o||r===o&&e.ts[0][1]>n[0][1].t)&&(n[0][1]={bezier:t,t:e.ts[0][1],val:r})}{const r=e.box[1][0],o=n[1][0].val;(r>o||r===o&&e.ts[1][0]>n[1][0].t)&&(n[1][0]={bezier:t,t:e.ts[1][0],val:r})}{const r=e.box[1][1],o=n[1][1].val;(r>o||r===o&&e.ts[1][1]>n[1][1].t)&&(n[1][1]={bezier:t,t:e.ts[1][1],val:r})}}),{minY:vr(n[0][1].bezier,n[0][1].t,!0),minX:vr(n[0][0].bezier,n[0][0].t,!0),maxX:vr(n[1][0].bezier,n[1][0].t,!0),maxY:vr(n[1][1].bezier,n[1][1].t,!0)}});function xg(t){return mg(t).minY}const bg=Wn(function(t){let n,e,r,o,i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(const f of t){const t=mg(f);t.minX.p[0]<i&&(n=t.minX,i=t.minX.p[0]),t.maxX.p[0]>c&&(e=t.maxX,c=t.maxX.p[0]),t.minY.p[1]<s&&(r=t.minY,s=t.minY.p[1]),t.maxY.p[1]>u&&(o=t.maxY,u=t.maxY.p[1])}return{minX:n,minY:r,maxX:e,maxY:o}});function _g(t,n,e){const{minBezLength:r,maxCurviness:o,maxLength:i,angleIncrement:c}=e,s=Wd(r),u=function(t){return n=>{const e=[];for(let r=0;r<n.curves.length;r++){const o=n.curves[r];Mo(o.ps)<t||Ne(o.ps,o.next.ps).isQuiteDull&&(e.push(vr(o,1,!0)),e.push(vr(o.next,0,!0)))}return e}}(r),f=function(t,n,e){return function(r){const o=[],i=r.curves;for(let r=0;r<i.length;r++){const c=i[r],s=c.ps;if(Mo(s)<t)continue;let u=Kv(s,n,e);u=2===u.length?[.5]:u,u.push(...zn(s)),u=u.filter(t=>0!==t&&1!==t);const f=u.map(t=>vr(c,t,!0));o.push(...f)}return o}}(r,o,i),l=function(t){return function(n){const e=[],r=function(t){return function(n){const e={minima:[],maxima:[]};for(let r=0;r<n.curves.length;r++){const o=n.curves[r];if(Mo(o.ps)<t)continue;const{minima:i,maxima:c}=vg(o.ps);e.minima.push(...i.map(t=>vr(o,t,!0))),e.maxima.push(...c.map(t=>vr(o,t,!0)))}return e}}(t)(n);return e.push(...r.minima,...r.maxima),e}}(r),a=t.map(s),p=new Map;Ud(t,p,a);const h=bg(t),d=function(t,n,e,r){jd=performance.now();const o=new Map,i=[],c=[],s=[],u=[],f=[];for(const t of e){const n=r.get(t).toArrayInOrder();for(const e of n){const{p:n,t:r}=e.cp.pointOnShape;Zd(o,t,n[0],n[1],e)}for(let n of t.curves){const t=n.ps,e=yo(t,!0);s.push(e);const r=Id(t);i.push(r);const o=Oo(t);c.push(o);const l=Ne(n.ps,n.next.ps);l.isQuiteSharp?u.push(n):l.isQuiteDull&&f.push(n)}}return{maxCoordinate:t,squaredDiagonalLength:n,looseBoundingBoxes:i,tightBoundingBoxes:c,boundingHulls:s,sharpCorners:u,dullCorners:f,loops:e,cpTrees:r,pointToCpNode:o}}(n,(h.maxX.p[0]-h.minX.p[0])**2+(h.maxY.p[1]-h.minY.p[1])**2,t,p);let g;if(g=function(t){const{loops:n}=t,e=n.map(xg);let r;for(let n=1;n<e.length;n++){const o=e[n],i=Rv(t,!0,!1,0,o);if(!i)throw new Error("Unable to find hole-closing 2-prong");const{circle:c,zs:s}=i,u=Uv(t,c,[o,s[0]],!0);r=void 0===r?u:r}return r}(d),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterHoleClosers)return{cpNode:g,meta:d};if(function(){if("undefined"==typeof _debug_)return;const t=_debug_.generated.timing,n=performance.now();t.holeClosers+=n-jd,jd=n}(),g=Jv(d,c,t.map(u),!1)||g,g=Jv(d,c,t.map(l),!0)||g,g=Jv(d,c,t.map(f),!1)||g,function(){if("undefined"==typeof _debug_)return;const t=_debug_.generated.timing,n=performance.now();t.oneAnd2Prongs+=n-jd,jd=n}(),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterTwoProngs)return{cpNode:g,meta:d};if(g=function(t,n){if(void 0===n)return;const e=new Set;let r=!0;for(;r;){r=!1;const o=new Set(v(n));for(const n of o){const{closeBysFor3Prong:i,addedCpNodes:c}=Dd(t,n);c.length>0&&(r=!0),void 0===i?e.add(n):(r=!0,Gd(t.cpTrees,i,o,e)),c.forEach(t=>t.forEach(t=>e.add(t)))}n=Qd(e)}return Qd(e)}(d,g),void 0===g)return;if("undefined"!=typeof _debug_&&_debug_.directives.stopAfterThreeProngs)return{cpNode:g,meta:d};const m={cpNode:g,meta:d};return"undefined"!=typeof _debug_&&(_debug_.generated.timing.threeProngs+=performance.now()-jd),m}function Ig(t,n){const{maxCoordinate:o,maxRadius:i}=function(t){let n=0,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const c of t)for(const t of c)for(const c of t){const t=c[0],s=c[1],u=uh(fh(t),fh(s));u>n&&(n=u),t<e&&(e=t),t>r&&(r=t),s<o&&(o=s),s>i&&(i=s)}return{maxCoordinate:n,maxRadius:uh(r-e,i-o)}}(t),c=function(t,n,e){const r=Math.ceil(Math.log2(t)),o=Math.ceil(Math.log2(n)),i={...e};for(const t in Uh){let n=i[t];const e=Uh[t],{range:c,scaleByMaxCoordinate:s,scaleByMaxRadius:u}=e;n<c[0]&&(n=c[0]),n>c[1]&&(n=c[1]),s?n*=2**r*2**-10:u&&(n*=2**o*2**-10),i[t]=n}return i}(o,i,{...Rh,...n||{}}),{applySat:s,simplify:u,satScale:f,simplifyTolerance:l}=c,a=function(t,n,o={}){let i;"undefined"!=typeof _debug_&&(i=performance.now()),n=n||rh(t);const c=Math.ceil(Math.log2(n)),{maxBitLength:s=46,noMicroCorners:u=!1,minLoopArea:f=(2**c*2**-12)**2}=o,l=2**c*2**-s*64;(function(t){if("undefined"!=typeof _debug_){if("undefined"!=typeof document){const n=function(t){let n="";for(const e of t)n=n+r(e)+"\n";return n}(t);document.getElementsByClassName("shape")[0].setAttributeNS(null,"d",n)}for(const n of t){_debug_.generated.elems.loopPre.push(...t),_debug_.generated.elems.loopsPre.push(t);for(const t of n){const n=tc(t),e=Oo(t),r=yo(t,!1);_debug_.generated.elems.bezier_.push(t),_debug_.generated.elems.looseBoundingBox_.push(n),_debug_.generated.elems.tightBoundingBox_.push(e),_debug_.generated.elems.boundingHull_.push(r)}}}})(t=eh(t,s,c,!1,!0)),t.sort(cc);const a=t.map((t,n)=>e(t,n)),{extremes:p}=Xp(a,l,c),h={dir:void 0,idx:0,parent:void 0,children:new Set,windingNum:0,p:void 0,_x_:void 0,container:void 0},d=new Set,v=new Set;for(const t of a){if(d.has(t))continue;d.add(t);const n=ic(h,t),e=p.get(t)[0].container;if(0===e.inOuts.length)continue;const r=Qp(e);r.parent=n,r.windingNum=n.windingNum+r.orientation,r.children=new Set,Li(0,r,d,v)}const g=function(t){const n=[],e=[t];for(;e.length;){const t=e.pop();t.children=t.children||new Set;for(const r of t.children)0===t.windingNum&&n.push(r),e.push(r);0===t.windingNum&&(t.children=new Set)}return n}(h).map(uc).map(t=>t.map((n,r)=>function(t,n,r){const o=n<0?e(t.beziers,r):function(t){const n=[],r=t.curves;for(let t=r.length-1;t>=0;t--){const e=Gp(r[t].ps);n.push(e)}return e(n,void 0)}(e(t.beziers,r));return o}(n,t[0].orientation,r))),m=[];for(let t=0;t<g.length;t++){const n=g[t].filter(t=>Math.abs(sh(t))>f);n.length&&(n.sort((t,n)=>cc(t.beziers,n.beziers)),m.push(n))}return function(t){if("undefined"!=typeof _debug_)for(const n of t)_debug_.generated.elems.loop.push(...n),_debug_.generated.elems.loops.push(n)}(m),"undefined"!=typeof _debug_&&(_debug_.generated.timing.simplifyPaths=performance.now()-i),m}(t),p=[];for(const t of a){let n=_g(t,o,c);void 0!==n&&(s&&(n=Gh(n,f)),u&&(n=Vh(n,l,50)),p.push(n))}return p}const{getProngCount:Ng,isOnSameCircle:Sg,isTerminating:Eg}=rr;function wg(t){const n=function(t){let n=t;const e=$h(t);for(;e.length;){const r=e.pop();if(r.isHoleClosing||r.isIntersection)continue;let o=r.next;for(;;){o=o.next;let e=!1;const r=o.prevOnCircle;if(Ng(o)>2){const n=o.nextOnCircle;Sg(o,t)?e=!0:o.next===n?o=n:n.next!==r&&(e=!0)}else if(Eg(o)&&!o.isIntersection)return void(n=o);if(e){r.next=o,o.prev=r,n=o;break}}}return n}(Ze(t.cpNode));if(n)return{cpNode:n,meta:{...t.meta,cpTrees:Yh(n)}}}let Mg=0;function Og(t){return t.map(t=>{return(n=t.cp.pointOnShape).p[0]+", "+n.p[1]+" | bz: "+n.curve.idx+" | t: "+n.t;var n})}function Tg(t,n=3){return t[0].toFixed(n)+", "+t[1].toFixed(n)}const yg={δToString:Og,δsToString:function(t){return t.map(Og)},pointToStr:Tg,pointsToStr:function(t,n=3){return t.map(t=>Tg(t,n))},nameObj:function(t,n=""){t.name=""+n+Mg++}},Cg="red thin10 nofill ",Pg="http://www.w3.org/2000/svg";function Ag(t,n,e=Cg,r){const o=n.center,i=n.radius,c=document.createElementNS(Pg,"circle");return c.setAttributeNS(null,"cx",o[0].toString()),c.setAttributeNS(null,"cy",o[1].toString()),c.setAttributeNS(null,"r",i.toString()),c.setAttributeNS(null,"class",e),t.appendChild(c),r&&setTimeout(()=>c.remove(),r),[c]}function Bg(t,n,e=3,r="red",o){const[i]=Ag(t,{center:n,radius:e},"dot "+r,o);return o&&setTimeout(()=>i.remove(),o),[i]}function zg(t,n,e=Cg,r=0,o=void 0,i=0){const c=document.createElementNS(Pg,"line");c.setAttributeNS(null,"x1",n[0][0].toString()),c.setAttributeNS(null,"y1",n[0][1].toString()),c.setAttributeNS(null,"x2",n[1][0].toString()),c.setAttributeNS(null,"y2",n[1][1].toString()),c.setAttributeNS(null,"class",e),t.appendChild(c);let s=[];if(void 0!==o)for(const e of n)s.push(...Bg(t,e,i,o,r));for(const n of s)t.appendChild(n);const u=[c,...s];return r&&setTimeout(()=>{for(const t of u)t.remove()},r),u}function Fg(t,n,e=Cg,r=3,o){const i=Ag(t,{center:n,radius:r},e),c=[[n[0]-r,n[1]],[n[0]+r,n[1]]],s=[[n[0],n[1]-r],[n[0],n[1]+r]],u=zg(t,c,e),f=zg(t,s,e);return o&&setTimeout(()=>{i.forEach(t=>t.remove()),u.forEach(t=>t.remove()),f.forEach(t=>t.remove())},o),[...i,...u,...f]}function Yg(t){return 2===t?"L":3===t?"Q":4===t?"C":void 0}function Vg(t,n,e=Cg,r=0,o=void 0,i=0,c=void 0){const[[s,u],[f,l],[a,p]]=n,h=document.createElementNS(Pg,"path");h.setAttributeNS(null,"d",`M${s} ${u} Q${f} ${l} ${a} ${p}`),e&&h.setAttributeNS(null,"class",e);let d=[];if(void 0!==o)for(const e of n)d.push(...Bg(t,e,i,o,r));let v=[];if(void 0!==c)for(let e=0;e<n.length-1;e++)v.push(...zg(t,[n[e],n[e+1]],c,r));const g=[h,...d,...v];for(const n of g)t.appendChild(n);return r&&setTimeout(()=>{for(const t of g)t.remove()},r),g}function kg(t,n,e=Cg,r=0,o=void 0,i=0,c=void 0){const[[s,u],[f,l],[a,p],[h,d]]=n;if(s===h&&f===h&&a===h&&u===d&&l===d&&p===d)return Fg(t,[s,u],e,.2,r);const v=document.createElementNS(Pg,"path");v.setAttributeNS(null,"d",`M${s} ${u} C${f} ${l} ${a} ${p} ${h} ${d}`),v.setAttributeNS(null,"class",e);let g=[];if(void 0!==o)for(const e of n)g.push(...Bg(t,e,i,o,r));let m=[];if(void 0!==c)for(let e=0;e<n.length-1;e++)m.push(...zg(t,[n[e],n[e+1]],c,r));const x=[v,...g,...m];for(const n of x)t.appendChild(n);return r&&setTimeout(()=>{for(const t of x)t.remove()},r),x}function Lg(t,n,e=Cg,r=0,o=void 0,i=0,c=void 0){return 2===n.length?zg(t,n,e,r,o,i):3===n.length?Vg(t,n,e,r,o,i,c):4===n.length?kg(t,n,e,r,o,i,c):[]}const $g=["red","green","cyan","blue"];function qg(t,n){const e=1-n;if(4===t.length){const[[r,o],[i,c],[s,u],[f,l]]=t;return[r*e**3+3*i*e**2*n+3*s*e*n**2+f*n**3,o*e**3+3*c*e**2*n+3*u*e*n**2+l*n**3]}if(3===t.length){const[[r,o],[i,c],[s,u]]=t;return[r*e**2+2*i*e*n+s*n**2,o*e**2+2*c*e*n+u*n**2]}if(2===t.length){const[[r,o],[i,c]]=t;return[r*e+i*n,o*e+c*n]}return[NaN,NaN]}function Xg(t,n){return 2===t.length?function(t,n){const[[e,r],[o,i]]=t,c=1-n,s=[c*e+n*o,c*r+n*i];return[[[e,r],s],[s,[o,i]]]}(t,n):3===t.length?function(t,n){const[[e,r],[o,i],[c,s]]=t,u=1-n,f=[u*u*e+2*u*n*o+n*n*c,u*u*r+2*u*n*i+n*n*s];return[[[e,r],[u*e+n*o,u*r+n*i],f],[f,[u*o+n*c,u*i+n*s],[c,s]]]}(t,n):4===t.length?function(t,n){const[[e,r],[o,i],[c,s],[u,f]]=t,l=1-n,a=n*n,p=a*n,h=l*l,d=h*l,v=[p*u+3*l*a*c+3*h*n*o+d*e,p*f+3*l*a*s+3*h*n*i+d*r];return[[[e,r],[n*o+l*e,n*i+l*r],[a*c+2*l*n*o+h*e,a*s+2*l*n*i+h*r],v],[v,[a*u+2*n*l*c+h*o,a*f+2*n*l*s+h*i],[n*u+l*c,n*f+l*s],[u,f]]]}(t,n):[]}const Hg={circle:Ag,crossHair:Fg,dot:Bg,line:zg,rect:function(t,n,e=Cg,r){const[[o,i],[c,s]]=n,u=o<c?o:c,f=i<s?i:s,l=Math.abs(o-c),a=Math.abs(i-s),p=document.createElementNS(Pg,"rect");return p.setAttributeNS(null,"x",u.toString()),p.setAttributeNS(null,"y",f.toString()),p.setAttributeNS(null,"width",l.toString()),p.setAttributeNS(null,"height",a.toString()),e&&p.setAttributeNS(null,"class",e),t.appendChild(p),r&&setTimeout(()=>p.remove(),r),[p]},beziers:function(t,n,e,r){const o=void 0===e,i=[];for(let r=0;r<n.length;r++){const c=n[r],s=o?"thin5 nofill "+$g[r%$g.length]:e;i.push(...Lg(t,c,s))}return r&&setTimeout(()=>i.forEach(t=>t.remove()),r),i},bezier:Lg,bezierPiece:function(t,n,e,r=Cg,o){const i=e[0]===e[1]?Fg(t,qg(n,e[0]),r,1.5):Lg(t,function(t,n){if(0===n[0]&&1===n[1])return t;if(n[0]===n[1]){const e=qg(t,n[0]);return[e,e,e,e]}return 0===n[0]?Xg(t,n[1])[0]:1===n[1]?Xg(t,n[0])[1]:Xg(Xg(t,n[0])[1],(n[1]-n[0])/(1-n[0]))[0]}(n,e),r);return o&&setTimeout(()=>i.forEach(t=>t.remove()),o),i},quadBezier:Vg,cubicBezier:kg,polygon:function(t,n,e=Cg,r){const o=document.createElementNS(Pg,"path");let i=`M${n[0][0]} ${n[0][1]} L`;for(let t=0;t<n.length;t++)i+=`${n[t][0]} ${n[t][1]} `;return i+=" z",o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout(()=>o.remove(),r),[o]},loop:function(t,n,e=Cg,r){if(!n.length)return[];const o=document.createElementNS(Pg,"path");let i=`M${n[0][0][0]} ${n[0][0][1]} `;for(let t=0;t<n.length;t++){const e=n[t];i+=`${Yg(e.length)} `;for(let t=1;t<e.length;t++)i+=`${e[t][0]} ${e[t][1]} `}return i+=" z",o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout(()=>o.remove(),r),[o]},polyline:function(t,n,e=Cg,r){if(n.length<2)return[];const o=document.createElementNS(Pg,"path");let i=`M${n[0][0]} ${n[0][1]} L`;for(let t=0;t<n.length;t++)i+=`${n[t][0]} ${n[t][1]} `;return o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout(()=>o.remove(),r),[o]},text:function(t,n,e,r,o=Cg,i){const c=document.createElementNS(Pg,"text");return c.setAttributeNS(null,"x",n[0].toString()),c.setAttributeNS(null,"y",n[1].toString()),c.setAttributeNS(null,"font-size",r.toString()),c.setAttributeNS(null,"class",o),c.textContent=e,t.appendChild(c),i&&setTimeout(()=>c.remove(),i),[c]}};function Dg(t,n){return(n,e,r,o=0,i=1)=>{let c,s;switch(e.isHoleClosing){case!1:c="red ",s="2";break;case!0:c="cyan ",s="10"}const u=e.cp,{circle:f,pointOnShape:l}=u,{center:a,radius:p}=f,{isSource:h,p:d}=l,v=e.nextOnCircle.cp.pointOnShape.p,g=h?d:v,m=h?v:d,{line:x,dot:b,circle:_,crossHair:I}=Hg,N=b(n,f.center,.02*i,"yellow",o);return[..._(n,f,c+"thin"+s+" nofill",o),...b(n,g,.005*i,c,o),...b(n,m,.01*i,c,o),...t?I(n,f.center,"red thin2 nofill",.002*i,o):[],...N]}}function Qg(t,n){return{center:t.center,radius:n*t.radius}}const{getAllOnCircle:Gg}=rr,{isTerminating:Rg}=rr,Ug=["thin10 blue nofill","thin10 red nofill"];function Zg(t,n,e,r=0,o=1){let i=n.cpNode;if(!i)return[];for(;!Rg(i);)i=i.next;const c=[];let s=0;return Qe(i,async n=>{if(Rg(n))return;const e=ye(n);e&&(c.push(...Hg.bezier(t,e,Ug[s%2],r)),s++)}),c}function jg(t,n,e,r){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",n[0].toString()),o.setAttributeNS(null,"cy",n[1].toString()),o.setAttributeNS(null,"r",e.toString()+"%"),o.setAttributeNS(null,"class",r),t.appendChild(o),o}function Wg(t,n,e="thin5 purple nofill",r=0,o=1){const i=[],c=[];for(const t of n){if(Ae(t))continue;const n=ye(t);n&&c.push(n)}return i.push(...p(t,c,e,r)),i}const Jg={oneProng:function(t,n,e,r=0,o=1){const i=n[0].cp,{circle:c,pointOnShape:s}=i;return[...Hg.dot(t,s.p,.02*o,"deeppink",r),...Hg.dot(t,c.center,.05*o,"deeppink",r),...Hg.circle(t,c,"deeppink thin5 nofill",r)]},twoProng:Dg(!1),threeProng:function(t,n,e,r=0,o=1){const i=Qg(n.cp.circle,1),{center:c,radius:s}=i,u=rr.getAllOnCircle(n).map(t=>t.cp.pointOnShape),{dot:f,circle:l,crossHair:a}=Hg,p=l(t,i,"blue thin2 nofill",r),h=[],d=[];for(let n=0;n<u.length;n++){const e=u[n].p;h.push(...f(t,e,.01*(n+1)*o,"blue",r)),d.push(...Hg.line(t,[e,c],"thin5 red",r))}const v=a(t,i.center,"red thin2 nofill",.02*o,r);return[...h,...d,...p,...v]},boundingHull:function(t,n,e="thin5 black nofill",r=0,o=1){return Hg.polygon(t,n,e,r)},looseBoundingBox:function(t,n,e="thin5 brown nofill",r=0,o=1){const[[i,c],[s,u]]=n;return n=[[i,c],[s,c],[s,u],[i,u]],Hg.polygon(t,n,e,r)},tightBoundingBox:function(t,n,e="thin5 pinker nofill",r=0,o=1){return Hg.polygon(t,n,"thin5 pinker nofill",r)},vertex:function(t,n,e,r=0,o=1){const i=n.cp.circle;let c=[];return c=[...Hg.dot(t,i.center,.01*o,"darkgreen",r)],c},mat:Zg,maxVertex:function(t,n){const e=n.cp.circle;return Hg.circle(t,e,"brown thin10 nofill")},leaves:function(t,n,e="thin10 deeppink nofill",r=0,o=1){const i=[],{line:c,dot:s,circle:u}=Hg;for(const f of n){const n=f.cp,{circle:l}=n,{center:a,radius:p}=l,h=[jg(t,a,.5,"pinker thin5 nofill")],d=rr.getAllOnCircle(f).map(t=>t.cp.pointOnShape),v=[],g=[];for(let n=0;n<d.length;n++){const e=d[n].p;g.push(...s(t,e,.01*(n+1)*o,"pinker",r)),v.push(...c(t,[e,a],"thin5 red",r))}const m=u(t,l,e,r);i.push(...m,...g,...v,...h)}return i},cull:function(t,n,e="thin10 cyan nofill",r=0,o=1){const i=[];return i.push(...Hg.crossHair(t,n,e,.1*o,r)),i},cpNode:function(t,n,e="blue thin2 nofill",r=0,o=1){const i=Qg(n.cp.circle,1),{center:c,radius:s}=i,u=rr.getAllOnCircle(n).map(t=>t.cp.pointOnShape),{dot:f,circle:l,crossHair:a}=Hg,p=l(t,i,e,r),h=[],d=[];for(let n=0;n<u.length;n++){const e=u[n].p;h.push(...f(t,e,.01*(n+1)*o,"blue",r)),d.push(...Hg.line(t,[e,c],"thin5 red",r))}const v=a(t,c,"orange thin10 nofill",2*o,r);return[...h,...d,...p,...v]},branch:Wg,holeCloser:Dg(!1),speed:function(t,n,e,r=0,o=1){const i=[],c=$e(0)(n);if(void 0===c)return[];const s=n.cp.pointOnShape,{p:u,t:f}=s,l=c*o/8,a=Zp(function(t,n){const[e,r]=Xn(t);return[-vn(r,n),vn(e,n)]}(s.curve.ps,f),l);return i.push(...Hg.line(t,[u,oe(u,a)],"red thin5",r)),i}},Kg={...Jg,twoProng:Dg(!0)};function tm(t){if(!t)return void(window._debug_=void 0);let n=window._debug_;n={...n,generated:{...n&&n.generated?n.generated:{},elems:{...n&&n.generated&&n.generated.elems?n.generated.elems:{},oneProng:[],twoProng:[],looseBoundingBox:[],tightBoundingBox:[],vertex:[],threeProng:[],boundingHull:[],mat:[],cpNode:[],maxVertex:[],leaves:[]},timing:{...n&&n.generated&&n.generated.timing?n.generated.timing:{},holeClosers:0,oneAnd2Prongs:0,threeProngs:0,sats:0,simplifyMat:0}},fs:{...n&&n.fs?n.fs:{},drawElem:{...n&&n.fs&&n.fs.drawElem?n.fs.drawElem:{},...Jg},...yg},directives:{...n&&n.directives?n.directives:{},stopAfterHoleClosers:!1,stopAfterHoleClosersNum:void 0,stopAfterTwoProngs:!1,stopAfterTwoProngsNum:void 0,stopAfterThreeProngs:!1,stopAfterThreeProngsNum:void 0}},window._debug_=n}const nm={oneProng:[],twoProng:[],threeProng:[],looseBoundingBox:[],tightBoundingBox:[],boundingHull:[],vertex:[],mat:[],maxVertex:[],leaves:[],cull:[],cpNode:[],branch:[],holeCloser:[],speed:[]},em=Object.keys(nm);function rm(t,n,e,r){const o=[];for(const r of t)o.push({type:0,item:r,x:n(r)}),o.push({type:1,item:r,x:e(r)});o.sort(om);const i=new Set,c=[];for(const t of o){const{item:n}=t;if(0===t.type){for(const t of i.values())r(n,t)&&c.push([n,t]);i.add(n)}else 1===t.type&&i.delete(t.item)}return c}function om(t,n){const e=t.x-n.x;return 0!==e?e:0===t.type?-1:1}function im(t){return t}function cm(t,n){const e=Rv(t,!1,!1,0,n);if(void 0===e)return;const{circle:r,zs:o}=e;return Uv(t,r,[n,...o],!1)}const sm=1e-4;function um(t,n){const e=t.cp.pointOnShape,r=n.cp.pointOnShape;let{curve:o,p:i,t:c}=e,{curve:s,p:u,t:f}=r;if(i[0]===u[0]&&i[1]===u[1])return[i];1===c&&(c=0,o=o.next),0===f&&(f=1,s=s.prev);const{ps:l}=o,{ps:a}=s,p=[i,oe(i)(ie(se(l,c)))],h=[u,oe(u)(ie(se(a,f)))],d=Jn(p,h),v=Kn(i,u);let g;if(d){const t=Kn(i,d),n=Kn(u,d);g=te(t,v)<0||te(n,v)>0}else g=!0;if(!g)return[i,d,u];const m=Kn(p[0],p[1]),x=Kn(h[0],h[1]),b=Math.abs(ee(v,m))/9,_=Math.abs(ee(v,x))/9;return b>.01||_>.01||b>sm||_>sm?void 0:[i,u]}const fm=Wn(function(t){return jn(ye(t))});function lm(t,n){const e=function(t){const n=new Map;for(let e of t)for(let r of t){const t=e.cp.circle.center,o=r.cp.circle.center,i=e.cp.pointOnShape.p,c=r.cp.pointOnShape.p;r!==e&&t[0]===o[0]&&t[1]===o[1]&&i[0]===c[0]&&i[1]===c[1]&&n.set(e,r)}return n}(n),r=t.length,o=[];for(let n=0;n<r;n++){const i=t[n],c=[];for(let o=0;o<r;o++){const r=t[o];if(n===o){c.push(0);continue}let s=Number.POSITIVE_INFINITY;for(const t of Pe(i)){let n=fm(t),o=t.next;for(;!tr(o,r);)if(o.isHoleClosing)o=am(e,o);else{if(ir(o)){n=Number.POSITIVE_INFINITY;break}n+=fm(o),o=o.next}n<s&&(s=n)}c.push(s)}o.push(c)}return o}function am(t,n){return t.get(n).next}export{rr as CpNodeFs,r as beziersToSvgPathStr,im as connectHoleClosers,Ud as createInitialCpTree,vr as createPos,em as debugElemNames,p as drawBeziersAsSinglePath,Wg as drawBranch,Jg as drawElemFs,Kg as drawElemFsDetailed,Zg as drawMat,nm as emptyDebugElems,tm as enableDebugForMat,Rv as find2Prong,cm as findAndAdd2Prong,Ig as findMats,h as floydWarshall,We as getBoundaryBeziersToNext,Fd as getBoundaryPieceBeziers,Eh as getBranches,_d as getClosestSquareDistanceToRect,lm as getGraph,um as getImpliedBoundaryBezierBetween,a as getPathsFromStr,Qh as getSatCulls,bg as getShapeBounds,Wd as getSharpCornersOnLoop,ir as isVertexSpecial,e as loopFromBeziers,Vh as simplifyMat,rm as sweepLine,Gh as toScaleAxis,wg as trimMat};